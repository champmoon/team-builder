import{r as w,az as P,aj as F,p as L,d as M,a as O,ac as $,b7 as ee,b as N,e as W,f as Y,g as x,a1 as te,i as S,b8 as ne,w as z,af as se,ai as oe,aK as re,b9 as ie,ba as R,ak as ae,bb as ue,D as ce,aA as le}from"./index-BPf4Rk1d.js";import{u as V,i as de}from"./useId-BWTRPJho.js";import{P as q}from"./index-Crs7OOR2.js";import{g}from"./getActiveElement-CA7ud6Nr.js";function X(e,t,n){const s=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),s.dispatchEvent(r)}const fe="dismissableLayer.pointerDownOutside",ve="dismissableLayer.focusOutside";function G(e,t){const n=t.closest("[data-dismissable-layer]"),s=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),r=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(s===n||r.indexOf(s)<r.indexOf(n)))}function pe(e,t){var i;const n=((i=t==null?void 0:t.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=w(!1),r=w(()=>{});return P(l=>{if(!F)return;const d=async y=>{const u=y.target;if(!(!(t!=null&&t.value)||!u)){if(G(t.value,u)){s.value=!1;return}if(y.target&&!s.value){let o=function(){X(fe,e,c)};const c={originalEvent:y};y.pointerType==="touch"?(n.removeEventListener("click",r.value),r.value=o,n.addEventListener("click",r.value,{once:!0})):o()}else n.removeEventListener("click",r.value);s.value=!1}},f=window.setTimeout(()=>{n.addEventListener("pointerdown",d)},0);l(()=>{window.clearTimeout(f),n.removeEventListener("pointerdown",d),n.removeEventListener("click",r.value)})}),{onPointerDownCapture:()=>s.value=!0}}function ye(e,t){var r;const n=((r=t==null?void 0:t.value)==null?void 0:r.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=w(!1);return P(i=>{if(!F)return;const l=async d=>{if(!(t!=null&&t.value))return;await L(),await L();const f=d.target;!t.value||!f||G(t.value,f)||d.target&&!s.value&&X(ve,e,{originalEvent:d})};n.addEventListener("focusin",l),i(()=>n.removeEventListener("focusin",l))}),{onFocusCapture:()=>s.value=!0,onBlurCapture:()=>s.value=!1}}const E=$({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xe=M({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,s=t,{forwardRef:r,currentElement:i}=V(),l=O(()=>{var a;return((a=i.value)==null?void 0:a.ownerDocument)??globalThis.document}),d=O(()=>E.layersRoot),f=O(()=>i.value?Array.from(d.value).indexOf(i.value):-1),y=O(()=>E.layersWithOutsidePointerEventsDisabled.size>0),u=O(()=>{const a=Array.from(d.value),[p]=[...E.layersWithOutsidePointerEventsDisabled].slice(-1),v=a.indexOf(p);return f.value>=v}),o=pe(async a=>{const p=[...E.branches].some(v=>v==null?void 0:v.contains(a.target));!u.value||p||(s("pointerDownOutside",a),s("interactOutside",a),await L(),a.defaultPrevented||s("dismiss"))},i),c=ye(a=>{[...E.branches].some(v=>v==null?void 0:v.contains(a.target))||(s("focusOutside",a),s("interactOutside",a),a.defaultPrevented||s("dismiss"))},i);ee("Escape",a=>{f.value===d.value.size-1&&(s("escapeKeyDown",a),a.defaultPrevented||s("dismiss"))});let m;return P(a=>{i.value&&(n.disableOutsidePointerEvents&&(E.layersWithOutsidePointerEventsDisabled.size===0&&(m=l.value.body.style.pointerEvents,l.value.body.style.pointerEvents="none"),E.layersWithOutsidePointerEventsDisabled.add(i.value)),d.value.add(i.value),a(()=>{n.disableOutsidePointerEvents&&E.layersWithOutsidePointerEventsDisabled.size===1&&(l.value.body.style.pointerEvents=m)}))}),P(a=>{a(()=>{i.value&&(d.value.delete(i.value),E.layersWithOutsidePointerEventsDisabled.delete(i.value))})}),(a,p)=>(W(),N(S(q),{ref:S(r),"as-child":a.asChild,as:a.as,"data-dismissable-layer":"",style:te({pointerEvents:y.value?u.value?"auto":"none":void 0}),onFocusCapture:S(c).onFocusCapture,onBlurCapture:S(c).onBlurCapture,onPointerdownCapture:S(o).onPointerDownCapture},{default:Y(()=>[x(a.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),Re="menu.itemSelect",K=["Enter"," "],me=["ArrowDown","PageUp","Home"],Ee=["ArrowUp","PageDown","End"],Ke=[...me,...Ee];[...K],[...K];function Ue(e){return e?"open":"closed"}function je(e){const t=g();for(const n of e)if(n===t||(n.focus(),g()!==t))return}function he(e,t){const{x:n,y:s}=e;let r=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const d=t[i].x,f=t[i].y,y=t[l].x,u=t[l].y;f>s!=u>s&&n<(y-d)*(s-f)/(u-f)+d&&(r=!r)}return r}function He(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return he(n,t)}function $e(e){return e.pointerType==="mouse"}const be=ne(()=>w([]));function we(){const e=be();return{add(t){const n=e.value[0];t!==n&&(n==null||n.pause()),e.value=U(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=U(e.value,t),(n=e.value[0])==null||n.resume()}}}function U(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function ge(e){return e.filter(t=>t.tagName!=="A")}const A="focusScope.autoFocusOnMount",_="focusScope.autoFocusOnUnmount",j={bubbles:!1,cancelable:!0};function Oe(e,{select:t=!1}={}){const n=g();for(const s of e)if(b(s,{select:t}),g()!==n)return!0}function Se(e){const t=J(e),n=H(t,e),s=H(t.reverse(),e);return[n,s]}function J(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function H(e,t){for(const n of e)if(!De(n,{upTo:t}))return n}function De(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pe(e){return e instanceof HTMLInputElement&&"select"in e}function b(e,{select:t=!1}={}){if(e&&e.focus){const n=g();e.focus({preventScroll:!0}),e!==n&&Pe(e)&&t&&e.select()}}const Ye=M({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,s=t,{currentRef:r,currentElement:i}=V(),l=w(null),d=we(),f=$({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});P(u=>{if(!F)return;const o=i.value;if(!n.trapped)return;function c(v){if(f.paused||!o)return;const h=v.target;o.contains(h)?l.value=h:b(l.value,{select:!0})}function m(v){if(f.paused||!o)return;const h=v.relatedTarget;h!==null&&(o.contains(h)||b(l.value,{select:!0}))}function a(v){o.contains(l.value)||b(o)}document.addEventListener("focusin",c),document.addEventListener("focusout",m);const p=new MutationObserver(a);o&&p.observe(o,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",c),document.removeEventListener("focusout",m),p.disconnect()})}),P(async u=>{const o=i.value;if(await L(),!o)return;d.add(f);const c=g();if(!o.contains(c)){const a=new CustomEvent(A,j);o.addEventListener(A,p=>s("mountAutoFocus",p)),o.dispatchEvent(a),a.defaultPrevented||(Oe(ge(J(o)),{select:!0}),g()===c&&b(o))}u(()=>{o.removeEventListener(A,v=>s("mountAutoFocus",v));const a=new CustomEvent(_,j),p=v=>{s("unmountAutoFocus",v)};o.addEventListener(_,p),o.dispatchEvent(a),setTimeout(()=>{a.defaultPrevented||b(c??document.body,{select:!0}),o.removeEventListener(_,p),d.remove(f)},0)})});function y(u){if(!n.loop&&!n.trapped||f.paused)return;const o=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,c=g();if(o&&c){const m=u.currentTarget,[a,p]=Se(m);a&&p?!u.shiftKey&&c===p?(u.preventDefault(),n.loop&&b(a,{select:!0})):u.shiftKey&&c===a&&(u.preventDefault(),n.loop&&b(p,{select:!0})):c===m&&u.preventDefault()}}return(u,o)=>(W(),N(S(q),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:y},{default:Y(()=>[x(u.$slots,"default")]),_:3},8,["as-child","as"]))}});var Le=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},D=new WeakMap,C=new WeakMap,T={},k=0,Q=function(e){return e&&(e.host||Q(e.parentNode))},Ce=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Q(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Te=function(e,t,n,s){var r=Ce(t,Array.isArray(e)?e:[e]);T[n]||(T[n]=new WeakMap);var i=T[n],l=[],d=new Set,f=new Set(r),y=function(o){!o||d.has(o)||(d.add(o),y(o.parentNode))};r.forEach(y);var u=function(o){!o||f.has(o)||Array.prototype.forEach.call(o.children,function(c){if(d.has(c))u(c);else try{var m=c.getAttribute(s),a=m!==null&&m!=="false",p=(D.get(c)||0)+1,v=(i.get(c)||0)+1;D.set(c,p),i.set(c,v),l.push(c),p===1&&a&&C.set(c,!0),v===1&&c.setAttribute(n,"true"),a||c.setAttribute(s,"true")}catch(h){console.error("aria-hidden: cannot operate on ",c,h)}})};return u(t),d.clear(),k++,function(){l.forEach(function(o){var c=D.get(o)-1,m=i.get(o)-1;D.set(o,c),i.set(o,m),c||(C.has(o)||o.removeAttribute(s),C.delete(o)),m||o.removeAttribute(n)}),k--,k||(D=new WeakMap,D=new WeakMap,C=new WeakMap,T={})}},Fe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=Le(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),Te(s,r,n,"aria-hidden")):function(){return null}};function ze(e){let t;z(()=>oe(e),n=>{n?t=Fe(n):t&&t()}),se(()=>{t&&t()})}function B(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function I(e,t,n=".",s){if(!B(t))return I(e,{},n,s);const r=Object.assign({},t);for(const i in e){if(i==="__proto__"||i==="constructor")continue;const l=e[i];l!=null&&(s&&s(r,i,l,n)||(Array.isArray(l)&&Array.isArray(r[i])?r[i]=[...l,...r[i]]:B(l)&&B(r[i])?r[i]=I(l,r[i],(n?`${n}.`:"")+i.toString(),s):r[i]=l))}return r}function Ae(e){return(...t)=>t.reduce((n,s)=>I(n,s,"",e),{})}const _e=Ae(),ke=re(()=>{const e=w(new Map),t=w(),n=O(()=>{for(const l of e.value.values())if(l)return!0;return!1}),s=de({scrollBody:w(!0)});let r=null;const i=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",R&&(r==null||r()),t.value=void 0};return z(n,(l,d)=>{var o;if(!F)return;if(!l){d&&i();return}t.value===void 0&&(t.value=document.body.style.overflow);const f=window.innerWidth-document.documentElement.clientWidth,y={padding:f,margin:0},u=(o=s.scrollBody)!=null&&o.value?typeof s.scrollBody.value=="object"?_e({padding:s.scrollBody.value.padding===!0?f:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?f:s.scrollBody.value.margin},y):y:{padding:0,margin:0};f>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.body.style.setProperty("--scrollbar-width",`${f}px`),document.body.style.overflow="hidden"),R&&(r=ae(document,"touchmove",c=>Be(c),{passive:!1})),L(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Ve(e){const t=Math.random().toString(36).substring(2,7),n=ke();n.value.set(t,e??!1);const s=O({get:()=>n.value.get(t)??!1,set:r=>n.value.set(t,r)});return ie(()=>{n.value.delete(t)}),s}function Z(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:Z(n)}}function Be(e){const t=e||window.event,n=t.target;return n instanceof Element&&Z(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const qe=M({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=ue();return(n,s)=>S(t)||n.forceMount?(W(),N(le,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[x(n.$slots,"default")],8,["to","disabled","defer"])):ce("",!0)}});export{Ke as F,Re as I,Ee as L,K as S,qe as _,xe as a,Ye as b,ze as c,$e as d,je as f,Ue as g,X as h,He as i,Ve as u};
