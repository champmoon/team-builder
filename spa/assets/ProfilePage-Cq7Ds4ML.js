import{aD as w,A as P,d as x,r as Q,o as N,l as i,m as d,n as e,f as a,ao as o,ap as A,ar as b,R as I,as as S,p as C,a6 as u,x as r,at as m,P as h,au as c,_ as D}from"./index-BFn0Cppg.js";import{Q as p,a as s,b as n}from"./QItemLabel-DuN-C2zx.js";import{Q as y}from"./QList-G-kWHoEk.js";import{Q as B}from"./QPage-DK4_fnuy.js";const L=w("profile",{state:()=>({profile:null,isPageLoaded:!1}),actions:{async loadPage(){this.profile=await P.getProfile(),this.isPageLoaded=!0},async uploadAvatar(_){this.profile=await P.updateAvatar(_)}}}),V=L,q=["src"],z=x({__name:"ProfilePage",setup(_){const t=V(),g=Q();async function k(v){const l=v.target;if(!l.files||l.files.length===0)return;const f=new FormData;f.append("avatar",l.files[0]),await t.uploadAvatar(f)}return N(t.loadPage),(v,l)=>(i(),d(B,{class:"column items-center",padding:""},{default:e(()=>[a(S,{class:"q-mb-lg",size:"128px"},{default:e(()=>[o(t).profile?.avatarUri?(i(),A("img",{key:0,src:o(t).profile.avatarUri,style:{"object-fit":"cover"}},null,8,q)):b("",!0),a(I,{name:"account_circle",size:"128px"})]),_:1}),C("input",{onChange:l[0]||(l[0]=f=>k(f)),class:"hidden",ref_key:"fileInput",ref:g,accept:"image/*",type:"file",name:"avatar"},null,544),a(y,{class:"full-width q-mb-lg bg-secondary border-radius-8 overflow-hidden",style:{"max-width":"28rem"}},{default:e(()=>[u((i(),d(p,{onClick:l[1]||(l[1]=f=>g.value?.click()),class:"text-info text-center",clickable:""},{default:e(()=>[a(s,null,{default:e(()=>[r(" Изменить фотографию ")]),_:1})]),_:1})),[[c]])]),_:1}),a(y,{class:"full-width q-mb-lg bg-secondary border-radius-8 overflow-hidden",style:{"max-width":"28rem"}},{default:e(()=>[u((i(),d(p,{clickable:""},{default:e(()=>[a(s,null,{default:e(()=>[a(n,null,{default:e(()=>[r("Фамилия")]),_:1})]),_:1}),a(s,{side:""},{default:e(()=>[a(n,null,{default:e(()=>[r(m(o(t).profile?.middleName),1)]),_:1})]),_:1})]),_:1})),[[c]]),a(h),u((i(),d(p,{clickable:""},{default:e(()=>[a(s,null,{default:e(()=>[a(n,null,{default:e(()=>[r("Имя")]),_:1})]),_:1}),a(s,{side:""},{default:e(()=>[a(n,null,{default:e(()=>[r(m(o(t).profile?.firstName),1)]),_:1})]),_:1})]),_:1})),[[c]]),a(h),o(t).profile?.middleName?u((i(),d(p,{key:0,clickable:""},{default:e(()=>[a(s,null,{default:e(()=>[a(n,null,{default:e(()=>[r("Отчество")]),_:1})]),_:1}),a(s,{side:""},{default:e(()=>[a(n,null,{default:e(()=>[r(m(o(t).profile?.middleName),1)]),_:1})]),_:1})]),_:1})),[[c]]):b("",!0)]),_:1})]),_:1}))}}),E=D(z,[["__file","ProfilePage.vue"]]);export{E as default};
