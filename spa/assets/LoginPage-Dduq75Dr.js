import{d as c,u as g,r as i,l as _,m as w,n as t,p as r,f as a,Q as v,q as o,t as m,v as y,x as h,A as V,_ as x}from"./index-BFn0Cppg.js";import{Q}from"./QForm-DFIZr3sv.js";import{Q as q}from"./QPage-DK4_fnuy.js";const b={class:"form-container column q-pa-lg"},z={class:"row full-width"},k=r("h4",{class:"text-h5 q-my-md"},"Вход",-1),A=c({__name:"LoginPage",setup(B){const f=g(),n=i(null),s=i({email:"",password:""}),u=i(!1);async function p(){u.value=!0;const d=await V.login(s.value);u.value=!1,d&&f.push({path:"/team"})}return(d,l)=>(_(),w(q,{class:"window-height window-width row justify-center items-center"},{default:t(()=>[r("div",b,[r("div",z,[a(Q,{class:"full-width",onSubmit:p},{default:t(()=>[a(v,{square:"",flat:"",class:"full-width"},{default:t(()=>[a(o,{class:"bg-primary text-dark"},{default:t(()=>[k]),_:1}),a(o,{class:"q-py-sm"},{default:t(()=>[a(m,{modelValue:s.value.email,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value.email=e),rules:[e=>!!e||"Обязательное поле",e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||"Некорректный email"],onKeydown:l[1]||(l[1]=e=>n.value.resetValidation()),onBlur:l[2]||(l[2]=e=>n.value.validate()),autocapitalize:"off",label:"Логин",type:"email",inputmode:"email",ref_key:"loginInput",ref:n,"lazy-rules":"",outlined:""},null,8,["modelValue","rules"])]),_:1}),a(o,{class:"q-pb-none"},{default:t(()=>[a(m,{modelValue:s.value.password,"onUpdate:modelValue":l[3]||(l[3]=e=>s.value.password=e),rules:[e=>!!e||"Обязательное поле",e=>e.length>=5||"Пароль должен содержать не менее 5 символов",e=>e.length<=30||"Пароль должен содержать не более 30 символов"],label:"Пароль",type:"password",outlined:""},null,8,["modelValue","rules"])]),_:1}),a(o,{class:"q-py-sm"},{default:t(()=>[a(y,{loading:u.value,type:"submit",color:"primary","text-color":"dark",class:"full-width",size:"lg","no-caps":""},{default:t(()=>[h(" Войти ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})])])]),_:1}))}}),L=x(A,[["__file","LoginPage.vue"]]);export{L as default};
