import{_ as y}from"./index-S1t7jIR0.js";import{_ as v,a as N,b as R,c as V}from"./CardTitle.vue_vue_type_script_setup_true_lang-BPn9gMLN.js";import{_ as g}from"./CardDescription.vue_vue_type_script_setup_true_lang-lGDOM6zC.js";import{u as E,t as T,F as u,_ as r,a as f,b as d,d as k,c as _}from"./Input.vue_vue_type_script_setup_true_lang-D-dUZtmQ.js";import{d as F,_ as G,at as I,o as L,b as U,f as t,i as a,e as B,v as s,l as n,h as p,m as C,aC as O}from"./index-DLHU7c2Y.js";import{_ as h}from"./PasswordInput.vue_vue_type_script_setup_true_lang-CfSGoyGw.js";import"./useId-DCbrToum.js";import"./useForwardPropsEmits-PfBqLJL5.js";const P={class:"relative"},K=F({__name:"Register",setup(q){const m=I(),{confirmEmail:c,register:w}=G(),{handleSubmit:$,isSubmitting:b,setFieldValue:S}=E({validationSchema:T(O.REQUEST)}),i=$(async l=>{const e=await w(l);e&&m.push({name:"LOGIN",query:{email:e.email}})});return L(async()=>{const l=new URLSearchParams(window.location.search).get("confirm_token");if(!l){m.push({name:"LOGIN"});return}const e=await c({confirmToken:l});if(!e){m.push({name:"LOGIN"});return}S("email",e.email)}),(l,e)=>(B(),U(a(v),{class:"w-full max-w-md"},{default:t(()=>[s(a(R),null,{default:t(()=>[s(a(N),{class:"text-2xl"},{default:t(()=>e[1]||(e[1]=[n("Регистрация")])),_:1}),s(a(g),null,{default:t(()=>e[2]||(e[2]=[n("Создайте новый аккаунт.")])),_:1})]),_:1}),s(a(V),null,{default:t(()=>[p("form",{onSubmit:e[0]||(e[0]=(...o)=>a(i)&&a(i)(...o)),class:"space-y-2"},[s(a(u),{name:"email"},{default:t(({value:o,handleChange:x})=>[s(a(r),null,{default:t(()=>[s(a(f),null,{default:t(()=>e[3]||(e[3]=[n("Почта")])),_:1}),s(a(d),null,{default:t(()=>[s(a(k),{"model-value":o,"onUpdate:modelValue":x,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(a(_))]),_:2},1024)]),_:1}),s(a(u),{name:"password"},{default:t(({componentField:o})=>[s(a(r),null,{default:t(()=>[s(a(f),null,{default:t(()=>e[4]||(e[4]=[n(" Пароль ")])),_:1}),p("div",P,[s(a(d),null,{default:t(()=>[s(h,C(o,{autocomplete:"new-password"}),null,16)]),_:2},1024)]),s(a(_))]),_:2},1024)]),_:1}),s(a(y),{disabled:a(b),type:"submit",class:"w-full"},{default:t(()=>e[5]||(e[5]=[n(" Зарегистрироваться ")])),_:1},8,["disabled"])],32)]),_:1})]),_:1}))}});export{K as default};
