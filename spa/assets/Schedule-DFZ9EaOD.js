import{P as ra,_ as ua}from"./Page.vue_vue_type_script_setup_true_lang-DhV2-ugf.js";import{_ as $e}from"./Modal.vue_vue_type_script_setup_true_lang-mp4cxkGL.js";import{P as j,_ as q,c as Z,b as rt}from"./index-C79LVW5H.js";import{u as Ie,t as Te,F as L,_ as U,a as W,b as M,c as N,d as Re,e as Ct}from"./Input.vue_vue_type_script_setup_true_lang-yaBjym3W.js";import{_ as da,a as ia,b as ca,c as fa,d as pa,e as We}from"./SelectValue.vue_vue_type_script_setup_true_lang-BKigSVG5.js";import{u as ma,_ as Fe,a as ze,b as Le,c as Ge,d as je,e as Ke,f as He,g as qe,h as Ye}from"./ComboboxList.vue_vue_type_script_setup_true_lang-DseBEd_x.js";import{c as ee,a as D,r as V,w as ge,d as $,t as Dt,u as ot,o as ut,b as k,e as i,f as o,g as E,h as R,i as e,j as F,n as re,k as ue,l as S,m as B,p as _t,q as nt,s as gt,v as s,x as va,y as ya,z as ne,A,U as bt,B as I,C as ye,F as G,D as Y,W as he,T as _a,E as ke,G as Et,H as Rt,I as ga,J as Bt,K as ba,L as ha,S as ka,M as te,N as ae,O as le,P as wa,Q as Oa,R as Sa,V as _e,X as Pa,Y as It,Z as Tt,_ as $a,$ as xa}from"./index-CE0I8MDv.js";import{g as pe,$ as Ca,a as ht,b as Da,c as Ea,d as Ra,u as Ba,t as ve,e as kt,i as Qe,f as Ze,h as Pe,j as Ia,k as Ta,l as Va,m as Je,n as Aa,o as be,p as Ma,q as Vt,r as wt,s as fe,v as Ua,_ as Be,w as dt,x as At,y as Mt,z as Ut,A as Nt,B as Wt,C as it,D as Na,E as Xe,F as Wa}from"./ExerciseItem.vue_vue_type_script_setup_true_lang-CeBWmwG1.js";import{u as Ft,a as Ve,U as Fa,_ as za,b as La,c as Ga,d as et,e as ja}from"./ContextMenuTrigger.vue_vue_type_script_setup_true_lang-XNPnP2_m.js";import"./api-NtNnqnQo.js";import{f as ct,_ as Ka,a as Ha,b as qa}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CAYsZfdJ.js";import{C as tt}from"./chevrons-up-down-MXuIkxgA.js";import{C as at}from"./ohash.D__AXeF1-CRLvH3MP.js";import{u as se,a as we}from"./useForwardPropsEmits-B6cb6lNy.js";import{c as zt,u as Ae,a as Lt}from"./useId-BmxNeisE.js";import{u as Gt}from"./useFormControl-_5TFzPii.js";import{u as Ya}from"./Collection-B8cYmRbZ.js";import{_ as Qa,a as Za,b as Ja}from"./PopperContent-DC9VfvS7.js";import{_ as Xa,a as el,b as tl,u as al,c as ll}from"./useBodyScrollLock-KX8ROgDr.js";import{u as sl}from"./useFocusGuards-Bdl7-yx_.js";import{P as ol}from"./getActiveElement-HgPkIhkM.js";import{_ as jt,a as Kt}from"./Checkbox.vue_vue_type_script_setup_true_lang-BHbquvGW.js";import{_ as Ot}from"./Skeleton.vue_vue_type_script_setup_true_lang-B5VmrRk6.js";import"./useNonce-vcopX3Ra.js";import"./clamp-jFYhBC76.js";import"./nullish-CHIgUVhi.js";import"./utils-BRBtkF1Y.js";import"./VisuallyHiddenInput-Ba4MBQfa.js";import"./RovingFocusGroup-Bn-nVVUK.js";import"./RovingFocusItem-GIsyjEjH.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=ee("BedIcon",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ee("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ee("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ee("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=ee("CircleCheckIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ee("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=ee("FootprintsIcon",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ee("MedalIcon",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ee("ReceiptRussianRubleIcon",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 15h5",key:"vxg57a"}],["path",{d:"M8 11h5a2 2 0 1 0 0-4h-3v10",key:"1usi5u"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ee("RussianRubleIcon",[["path",{d:"M6 11h8a4 4 0 0 0 0-8H9v18",key:"18ai8t"}],["path",{d:"M6 15h8",key:"1y8f6l"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ee("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function Pt(t,a){const l=[];let n=t.add({days:1});const r=a;for(;n.compare(r)<0;)l.push(n),n=n.add({days:1});return l}function lt(t){const{dateObj:a,weekStartsOn:l,fixedWeeks:n,locale:r}=t,u=pe(a),p=Array.from({length:u},(y,c)=>a.set({day:c+1})),O=Ca(a),d=ht(a),v=Da(O,l,r),g=Ea(d,l,r),m=Pt(v.subtract({days:1}),O),f=Pt(d,g.add({days:1})),b=m.length+p.length+f.length;if(n&&b<42){const y=42-b;let c=f[f.length-1];c||(c=ht(a));const w=Array.from({length:y},(_,x)=>{const K=x+1;return c.add({days:K})});f.push(...w)}const P=m.concat(p,f),h=Ra(P,7);return{value:a,cells:P,rows:h}}function ie(t){const{numberOfMonths:a,dateObj:l,...n}=t,r=[];if(!a||a===1)return r.push(lt({...n,dateObj:l})),r;r.push(lt({...n,dateObj:l}));for(let u=1;u<a;u++){const p=l.add({months:u});r.push(lt({...n,dateObj:p}))}return r}function vl(t){function a(n){return Array.isArray(t.date.value)?t.date.value.some(r=>Pe(r,n)):t.date.value?Pe(t.date.value,n):!1}const l=D(()=>{var n,r,u,p;if(Array.isArray(t.date.value)){if(!t.date.value.length)return!1;for(const O of t.date.value)if((n=t.isDateDisabled)!=null&&n.call(t,O)||(r=t.isDateUnavailable)!=null&&r.call(t,O))return!0}else{if(!t.date.value)return!1;if((u=t.isDateDisabled)!=null&&u.call(t,t.date.value)||(p=t.isDateUnavailable)!=null&&p.call(t,t.date.value))return!0}return!1});return{isDateSelected:a,isInvalid:l}}function yl(t,a){const l=a(t),n=l.compare(t),r={};return n>=7&&(r.day=1),n>=pe(t)&&(r.month=1),l.set({...r})}function _l(t,a){const l=a(t),n=t.compare(l),r={};return n>=7&&(r.day=35),n>=pe(t)&&(r.month=13),l.set({...r})}function gl(t,a){return a(t)}function bl(t,a){return a(t)}function hl(t){const a=Ba(t.locale.value),l=D(()=>{const h={calendar:t.placeholder.value.calendar.identifier};return t.placeholder.value.calendar.identifier==="gregory"&&t.placeholder.value.era==="BC"&&(h.era="short"),h}),n=V(ie({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})),r=D(()=>n.value.map(h=>h.value));function u(h){return!r.value.some(y=>kt(h,y))}const p=h=>{if(!t.maxValue.value||!n.value.length)return!1;if(t.disabled.value)return!0;const y=n.value[n.value.length-1].value;if(!h&&!t.nextPage.value){const w=y.add({months:1}).set({day:1});return Ze(w,t.maxValue.value)}const c=yl(y,h||t.nextPage.value);return Ze(c,t.maxValue.value)},O=h=>{if(!t.minValue.value||!n.value.length)return!1;if(t.disabled.value)return!0;const y=n.value[0].value;if(!h&&!t.prevPage.value){const w=y.subtract({months:1}).set({day:35});return Qe(w,t.minValue.value)}const c=_l(y,h||t.prevPage.value);return Qe(c,t.minValue.value)};function d(h){var y;return!!((y=t.isDateDisabled)!=null&&y.call(t,h)||t.disabled.value||t.maxValue.value&&Ze(h,t.maxValue.value)||t.minValue.value&&Qe(h,t.minValue.value))}const v=h=>{var y;return!!((y=t.isDateUnavailable)!=null&&y.call(t,h))},g=D(()=>n.value.length?n.value[0].rows[0].map(h=>a.dayOfWeek(ve(h),t.weekdayFormat.value)):[]),m=h=>{const y=n.value[0].value;if(!h&&!t.nextPage.value){const x=y.add({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),K=ie({dateObj:x,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=K,t.placeholder.value=K[0].value.set({day:1});return}const c=gl(y,h||t.nextPage.value),w=ie({dateObj:c,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=w;const _={};if(!h){const x=w[0].value.compare(y);x>=pe(y)&&(_.day=1),x>=365&&(_.month=1)}t.placeholder.value=w[0].value.set({..._})},f=h=>{const y=n.value[0].value;if(!h&&!t.prevPage.value){const x=y.subtract({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),K=ie({dateObj:x,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=K,t.placeholder.value=K[0].value.set({day:1});return}const c=bl(y,h||t.prevPage.value),w=ie({dateObj:c,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=w;const _={};if(!h){const x=y.compare(w[0].value);x>=pe(y)&&(_.day=1),x>=365&&(_.month=1)}t.placeholder.value=w[0].value.set({..._})};ge(t.placeholder,h=>{r.value.some(y=>kt(y,h))||(n.value=ie({dateObj:h,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value}))}),ge([t.locale,t.weekStartsOn,t.fixedWeeks,t.numberOfMonths],()=>{n.value=ie({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})});const b=D(()=>{if(!n.value.length)return"";if(t.locale.value!==a.getLocale()&&a.setLocale(t.locale.value),n.value.length===1){const H=n.value[0].value;return`${a.fullMonthAndYear(ve(H),l.value)}`}const h=ve(n.value[0].value),y=ve(n.value[n.value.length-1].value),c=a.fullMonth(h,l.value),w=a.fullMonth(y,l.value),_=a.fullYear(h,l.value),x=a.fullYear(y,l.value);return _===x?`${c} - ${w} ${x}`:`${c} ${_} - ${w} ${x}`}),P=D(()=>`${t.calendarLabel.value??"Event Date"}, ${b.value}`);return{isDateDisabled:d,isDateUnavailable:v,isNextButtonDisabled:p,isPrevButtonDisabled:O,grid:n,weekdays:g,visibleView:r,isOutsideVisibleView:u,formatter:a,nextPage:m,prevPage:f,headingValue:b,fullCalendarLabel:P}}const kl={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},wl={role:"heading","aria-level":"2"},[Oe,Ol]=zt("CalendarRoot"),Sl=$({__name:"CalendarRoot",props:{modelValue:{},multiple:{type:Boolean,default:!1},defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:a}){const l=t,n=a,{disabled:r,readonly:u,initialFocus:p,pagedNavigation:O,weekStartsOn:d,weekdayFormat:v,fixedWeeks:g,multiple:m,minValue:f,maxValue:b,numberOfMonths:P,preventDeselect:h,isDateDisabled:y,isDateUnavailable:c,calendarLabel:w,defaultValue:_,nextPage:x,prevPage:K,dir:H,locale:Me}=Dt(l),{primitiveElement:de,currentElement:Q}=Gt(),De=Ia(Me),z=Ya(H),C=ot(l,"modelValue",n,{defaultValue:_.value,passive:l.modelValue===void 0}),oe=Ta({defaultPlaceholder:l.placeholder,defaultValue:C.value,locale:l.locale}),J=ot(l,"placeholder",n,{defaultValue:l.defaultPlaceholder??oe.copy(),passive:l.placeholder===void 0});function X(T){J.value=T.copy()}const{fullCalendarLabel:Ue,headingValue:Jt,isDateDisabled:ft,isDateUnavailable:pt,isNextButtonDisabled:Xt,isPrevButtonDisabled:ea,weekdays:mt,isOutsideVisibleView:ta,nextPage:aa,prevPage:la,formatter:sa,grid:vt}=hl({locale:De,placeholder:J,weekStartsOn:d,fixedWeeks:g,numberOfMonths:P,minValue:f,maxValue:b,disabled:r,weekdayFormat:v,pagedNavigation:O,isDateDisabled:y.value,isDateUnavailable:c.value,calendarLabel:w,nextPage:x,prevPage:K}),{isInvalid:yt,isDateSelected:oa}=vl({date:C,isDateDisabled:ft,isDateUnavailable:pt});ge(C,T=>{if(Array.isArray(T)&&T.length){const Se=T[T.length-1];Se&&!Je(J.value,Se)&&X(Se)}else!Array.isArray(T)&&T&&!Je(J.value,T)&&X(T)});function na(T){if(m.value){if(!C.value)C.value=[T.copy()];else if(Array.isArray(C.value)){if(C.value.findIndex(Ee=>Pe(Ee,T))===-1)C.value=[...C.value,T];else if(!h.value){const Ee=C.value.filter(Ne=>!Pe(Ne,T));if(!Ee.length){J.value=T.copy(),C.value=void 0;return}C.value=Ee.map(Ne=>Ne.copy())}}}else{if(!C.value){C.value=T.copy();return}!h.value&&Je(C.value,T)?(J.value=T.copy(),C.value=void 0):C.value=T.copy()}}return ut(()=>{p.value&&Va(Q.value)}),Ol({isDateUnavailable:pt,dir:z,isDateDisabled:ft,locale:De,formatter:sa,modelValue:C,placeholder:J,disabled:r,initialFocus:p,pagedNavigation:O,grid:vt,weekDays:mt,weekStartsOn:d,weekdayFormat:v,fixedWeeks:g,multiple:m,numberOfMonths:P,readonly:u,preventDeselect:h,fullCalendarLabel:Ue,headingValue:Jt,isInvalid:yt,isDateSelected:oa,isNextButtonDisabled:Xt,isPrevButtonDisabled:ea,isOutsideVisibleView:ta,nextPage:aa,prevPage:la,parentElement:Q,onPlaceholderChange:X,onDateChange:na}),(T,Se)=>(i(),k(e(j),{ref_key:"primitiveElement",ref:de,as:T.as,"as-child":T.asChild,role:"application","aria-label":e(Ue),"data-readonly":e(u)?"":void 0,"data-disabled":e(r)?"":void 0,"data-invalid":e(yt)?"":void 0,dir:e(z)},{default:o(()=>[E(T.$slots,"default",{date:e(J),grid:e(vt),weekDays:e(mt),weekStartsOn:e(d),locale:e(De),fixedWeeks:e(g),modelValue:e(C)}),R("div",kl,[R("div",wl,F(e(Ue)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),Pl=$({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t;return(l,n)=>(i(),k(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),$l=$({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t,l=Oe();return(n,r)=>(i(),k(e(j),B(a,{"data-disabled":e(l).disabled.value?"":void 0}),{default:o(()=>[E(n.$slots,"default",{headingValue:e(l).headingValue.value},()=>[S(F(e(l).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),xl=$({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(t){const a=t,l=Oe(),n=D(()=>l.disabled.value?!0:void 0),r=D(()=>l.readonly.value?!0:void 0);return(u,p)=>(i(),k(e(j),B(a,{tabindex:"-1",role:"grid","aria-readonly":r.value,"aria-disabled":n.value,"data-readonly":r.value&&"","data-disabled":n.value&&""}),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Cl=$({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(t){const a=Oe();return(l,n)=>{var r,u;return i(),k(e(j),{as:l.as,"as-child":l.asChild,role:"gridcell","aria-selected":e(a).isDateSelected(l.date)?!0:void 0,"aria-disabled":e(a).isDateDisabled(l.date)||((u=(r=e(a)).isDateUnavailable)==null?void 0:u.call(r,l.date)),"data-disabled":e(a).isDateDisabled(l.date)?"":void 0},{default:o(()=>[E(l.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),Dl=$({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(t){const a=t;return(l,n)=>(i(),k(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),El=$({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=D(()=>n.disabled.value||n.isNextButtonDisabled(a.nextPage)),n=Oe();return(r,u)=>(i(),k(e(j),{as:a.as,"as-child":a.asChild,"aria-label":"Next page",type:r.as==="button"?"button":void 0,"aria-disabled":l.value||void 0,"data-disabled":l.value||void 0,disabled:l.value,onClick:u[0]||(u[0]=p=>e(n).nextPage(a.nextPage))},{default:o(()=>[E(r.$slots,"default",{disabled:l.value},()=>[u[1]||(u[1]=S(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Rl=$({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=D(()=>n.disabled.value||n.isPrevButtonDisabled(a.prevPage)),n=Oe();return(r,u)=>(i(),k(e(j),{"aria-label":"Previous page",as:a.as,"as-child":a.asChild,type:r.as==="button"?"button":void 0,"aria-disabled":l.value||void 0,"data-disabled":l.value||void 0,disabled:l.value,onClick:u[0]||(u[0]=p=>e(n).prevPage(a.prevPage))},{default:o(()=>[E(r.$slots,"default",{disabled:l.value},()=>[u[1]||(u[1]=S(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Bl=$({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(t){const a=t;return(l,n)=>(i(),k(e(j),B(a,{"aria-hidden":"true"}),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Il=$({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(t){const a=t;return(l,n)=>(i(),k(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Tl=$({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(t){const a=t;return(l,n)=>(i(),k(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Vl="[data-reka-calendar-cell-trigger]:not([data-outside-view]):not([data-outside-visible-view])";function st(t){return Array.from(t.querySelectorAll(Vl))??[]}const Al=$({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t,l=ma(),n=Oe(),{primitiveElement:r,currentElement:u}=Gt(),p=D(()=>a.day.day.toLocaleString(n.locale.value)),O=D(()=>n.formatter.custom(ve(a.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),d=D(()=>n.isDateDisabled(a.day)),v=D(()=>{var w;return((w=n.isDateUnavailable)==null?void 0:w.call(n,a.day))??!1}),g=D(()=>Aa(a.day,be())),m=D(()=>!Ma(a.day,a.month)),f=D(()=>n.isOutsideVisibleView(a.day)),b=D(()=>!n.disabled.value&&Pe(a.day,n.placeholder.value)),P=D(()=>n.isDateSelected(a.day));function h(w){var _;n.readonly.value||n.isDateDisabled(w)||(_=n.isDateUnavailable)!=null&&_.call(n,w)||n.onDateChange(w)}function y(){h(a.day)}function c(w){w.preventDefault(),w.stopPropagation();const _=n.parentElement.value,x=7,K=n.dir.value==="rtl"?-1:1;switch(w.code){case l.ARROW_RIGHT:H(u.value,K);break;case l.ARROW_LEFT:H(u.value,-K);break;case l.ARROW_UP:H(u.value,-7);break;case l.ARROW_DOWN:H(u.value,x);break;case l.ENTER:case l.SPACE_CODE:h(a.day)}function H(Me,de){const Q=st(_);if(!Q.length)return;const z=Q.indexOf(Me)+de;if(z>=0&&z<Q.length){Q[z].hasAttribute("data-disabled")&&H(Q[z],de),Q[z].focus();return}if(z<0){if(n.isPrevButtonDisabled())return;n.prevPage(),gt(()=>{const C=st(_);if(!C.length)return;if(!n.pagedNavigation.value&&n.numberOfMonths.value>1){const X=pe(n.placeholder.value)-Math.abs(z);C[X].hasAttribute("data-disabled")&&H(C[X],de),C[X].focus();return}const oe=C.length-Math.abs(z);C[oe].hasAttribute("data-disabled")&&H(C[oe],de),C[oe].focus()});return}if(z>=Q.length){if(n.isNextButtonDisabled())return;n.nextPage(),gt(()=>{const C=st(_);if(!C.length)return;if(!n.pagedNavigation.value&&n.numberOfMonths.value>1){const J=pe(n.placeholder.value.add({months:n.numberOfMonths.value-1})),X=z-Q.length+(C.length-J);C[X].hasAttribute("data-disabled")&&H(C[X],de),C[X].focus();return}const oe=z-Q.length;C[oe].hasAttribute("data-disabled")&&H(C[oe],de),C[oe].focus()})}}}return(w,_)=>(i(),k(e(j),B({ref_key:"primitiveElement",ref:r},a,{role:"button","aria-label":O.value,"data-reka-calendar-cell-trigger":"","aria-disabled":d.value||v.value?!0:void 0,"data-selected":P.value?!0:void 0,"data-value":w.day.toString(),"data-disabled":d.value?"":void 0,"data-unavailable":v.value?"":void 0,"data-today":g.value?"":void 0,"data-outside-view":m.value?"":void 0,"data-outside-visible-view":f.value?"":void 0,"data-focused":b.value?"":void 0,tabindex:b.value?0:m.value||d.value?void 0:-1,onClick:y,onKeydown:[_t(c,["up","down","left","right","space","enter"]),_[0]||(_[0]=_t(nt(()=>{},["prevent"]),["enter"]))]}),{default:o(()=>[E(w.$slots,"default",{dayValue:p.value,disabled:d.value,today:g.value,selected:P.value,outsideView:m.value,outsideVisibleView:f.value,unavailable:v.value},()=>[S(F(p.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}}),[xe,Ml]=zt("PopoverRoot"),Ul=$({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:a}){const l=t,n=a,{modal:r}=Dt(l),u=ot(l,"open",n,{defaultValue:l.defaultOpen,passive:l.open===void 0}),p=V(),O=V(!1);return Ml({contentId:"",triggerId:"",modal:r,open:u,onOpenChange:d=>{u.value=d},onOpenToggle:()=>{u.value=!u.value},triggerElement:p,hasCustomAnchor:O}),(d,v)=>(i(),k(e(Qa),null,{default:o(()=>[E(d.$slots,"default",{open:e(u)})]),_:3}))}}),Nl=$({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=xe(),{forwardRef:n,currentElement:r}=Ae();return l.triggerId||(l.triggerId=Lt(void 0,"reka-popover-trigger")),ut(()=>{l.triggerElement.value=r.value}),(u,p)=>(i(),k(va(e(l).hasCustomAnchor.value?e(j):e(Za)),{"as-child":""},{default:o(()=>[s(e(j),{id:e(l).triggerId,ref:e(n),type:u.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(l).open.value,"aria-controls":e(l).contentId,"data-state":e(l).open.value?"open":"closed",as:u.as,"as-child":a.asChild,onClick:e(l).onOpenToggle},{default:o(()=>[E(u.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Wl=$({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const a=t;return(l,n)=>(i(),k(e(Xa),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),qt=$({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=se(ya(l,"trapFocus","disableOutsidePointerEvents")),{forwardRef:u}=Ae(),p=xe();return sl(),(O,d)=>(i(),k(e(tl),{"as-child":"",loop:"",trapped:O.trapFocus,onMountAutoFocus:d[5]||(d[5]=v=>n("openAutoFocus",v)),onUnmountAutoFocus:d[6]||(d[6]=v=>n("closeAutoFocus",v))},{default:o(()=>[s(e(el),{"as-child":"","disable-outside-pointer-events":O.disableOutsidePointerEvents,onPointerDownOutside:d[0]||(d[0]=v=>n("pointerDownOutside",v)),onInteractOutside:d[1]||(d[1]=v=>n("interactOutside",v)),onEscapeKeyDown:d[2]||(d[2]=v=>n("escapeKeyDown",v)),onFocusOutside:d[3]||(d[3]=v=>n("focusOutside",v)),onDismiss:d[4]||(d[4]=v=>e(p).onOpenChange(!1))},{default:o(()=>[s(e(Ja),B(e(r),{id:e(p).contentId,ref:e(u),"data-state":e(p).open.value?"open":"closed","aria-labelledby":e(p).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:o(()=>[E(O.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Fl=$({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=xe(),u=V(!1);al(!0);const p=we(l,n),{forwardRef:O,currentElement:d}=Ae();return ll(d),(v,g)=>(i(),k(qt,B(e(p),{ref:e(O),"trap-focus":e(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:g[0]||(g[0]=nt(m=>{var f;n("closeAutoFocus",m),u.value||(f=e(r).triggerElement.value)==null||f.focus()},["prevent"])),onPointerDownOutside:g[1]||(g[1]=m=>{n("pointerDownOutside",m);const f=m.detail.originalEvent,b=f.button===0&&f.ctrlKey===!0,P=f.button===2||b;u.value=P}),onFocusOutside:g[2]||(g[2]=nt(()=>{},["prevent"]))}),{default:o(()=>[E(v.$slots,"default")]),_:3},16,["trap-focus"]))}}),zl=$({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=xe(),u=V(!1),p=V(!1),O=we(l,n);return(d,v)=>(i(),k(qt,B(e(O),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:v[0]||(v[0]=g=>{var m;n("closeAutoFocus",g),g.defaultPrevented||(u.value||(m=e(r).triggerElement.value)==null||m.focus(),g.preventDefault()),u.value=!1,p.value=!1}),onInteractOutside:v[1]||(v[1]=async g=>{var b;n("interactOutside",g),g.defaultPrevented||(u.value=!0,g.detail.originalEvent.type==="pointerdown"&&(p.value=!0));const m=g.target;((b=e(r).triggerElement.value)==null?void 0:b.contains(m))&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&p.value&&g.preventDefault()})}),{default:o(()=>[E(d.$slots,"default")]),_:3},16))}}),Ll=$({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=xe(),u=we(l,n),{forwardRef:p}=Ae();return r.contentId||(r.contentId=Lt(void 0,"reka-popover-content")),(O,d)=>(i(),k(e(ol),{present:O.forceMount||e(r).open.value},{default:o(()=>[e(r).modal.value?(i(),k(Fl,B({key:0},e(u),{ref:e(p)}),{default:o(()=>[E(O.$slots,"default")]),_:3},16)):(i(),k(zl,B({key:1},e(u),{ref:e(p)}),{default:o(()=>[E(O.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Gl={class:"relative w-full items-center"},jl={class:"relative w-full items-center"},Kl={class:"relative w-full items-center"},Hl=$({__name:"TypeForm",emits:["saved"],setup(t,{emit:a}){const l=Vt(),n=Ft(),r=Ve(),{WORKOUT_POOLS:u}=ne(l),{GROUPS:p}=ne(n),{SPORTSMANS:O}=ne(r),d=a,{handleSubmit:v,values:g,setFieldValue:m}=Ie({validationSchema:Te(A.object({type:A.union([A.literal("team"),A.literal("group"),A.literal("individual")]),id:bt.optional(),workoutPoolId:bt}).refine(y=>y.type==="team"?!0:!!y.id,{message:"Обязательное поле",path:["id"]})),initialValues:{type:"team"},keepValuesOnUnmount:!0}),f=D(()=>{var y;return(y=p.value)==null?void 0:y.map(c=>({label:c.name,value:c.id}))}),b=D(()=>{var y;return(y=O.value)==null?void 0:y.map(c=>({label:ct(c),value:c.id}))}),P=D(()=>{var y;return(y=u.value)==null?void 0:y.map(c=>({label:c.name,value:c.id}))}),h=v(y=>{d("saved",y)});return(y,c)=>(i(),I("form",{onSubmit:c[1]||(c[1]=(...w)=>e(h)&&e(h)(...w)),class:"flex-1 space-y-2"},[s(e(L),{name:"type"},{default:o(({componentField:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[2]||(c[2]=[S("Тип тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(da),B(w,{"onUpdate:modelValue":c[0]||(c[0]=_=>e(m)("id",void 0))}),{default:o(()=>[s(e(ia),null,{default:o(()=>[s(e(ca))]),_:1}),s(e(fa),null,{default:o(()=>[s(e(pa),null,{default:o(()=>[s(e(We),{value:"team"},{default:o(()=>c[3]||(c[3]=[S(" Командная ")])),_:1}),s(e(We),{value:"group"},{default:o(()=>c[4]||(c[4]=[S(" Групповая ")])),_:1}),s(e(We),{value:"individual"},{default:o(()=>c[5]||(c[5]=[S(" Индивидуальная ")])),_:1})]),_:1})]),_:1})]),_:2},1040)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),e(g).type!=="team"?(i(),k(e(L),{key:0,name:"id"},{default:o(({setValue:w})=>[e(g).type==="group"?(i(),k(e(U),{key:0},{default:o(()=>[s(e(W),null,{default:o(()=>c[6]||(c[6]=[S(" Группа ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Fe),{by:"value"},{default:o(()=>[s(e(ze),null,{default:o(()=>[R("div",Gl,[s(e(Le),{"display-value":_=>_&&e(g).id?_.label:"",placeholder:"Выберите группу..."},null,8,["display-value"]),s(e(Ge),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(tt),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(je),null,{default:o(()=>[s(e(Ke),null,{default:o(()=>c[7]||(c[7]=[S(" Группы не найдены. ")])),_:1}),s(e(He),null,{default:o(()=>[(i(!0),I(G,null,Y(f.value,_=>(i(),k(e(qe),{value:_,onSelect:()=>w(_.value),key:_.value},{default:o(()=>[S(F(_.label)+" ",1),s(e(Ye),null,{default:o(()=>[s(e(at),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)):ye("",!0),e(g).type==="individual"?(i(),k(e(U),{key:1},{default:o(()=>[s(e(W),null,{default:o(()=>c[8]||(c[8]=[S(" Спортсмен ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Fe),{by:"value"},{default:o(()=>[s(e(ze),null,{default:o(()=>[R("div",jl,[s(e(Le),{"display-value":_=>_&&e(g).id?_.label:"",placeholder:"Выберите спортсмена..."},null,8,["display-value"]),s(e(Ge),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(tt),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(je),null,{default:o(()=>[s(e(Ke),null,{default:o(()=>c[9]||(c[9]=[S(" Спортсмены не найдены. ")])),_:1}),s(e(He),null,{default:o(()=>[(i(!0),I(G,null,Y(b.value,_=>(i(),k(e(qe),{value:_,onSelect:()=>w(_.value),key:_.value},{default:o(()=>[S(F(_.label)+" ",1),s(e(Ye),null,{default:o(()=>[s(e(at),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)):ye("",!0)]),_:1})):ye("",!0),s(e(L),{name:"workoutPoolId"},{default:o(({setValue:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[10]||(c[10]=[S(" Программа тренировки ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Fe),{by:"value"},{default:o(()=>[s(e(ze),null,{default:o(()=>[R("div",Kl,[s(e(Le),{"display-value":_=>_?_.label:"",placeholder:"Выберите программу..."},null,8,["display-value"]),s(e(Ge),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(tt),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(je),null,{default:o(()=>[s(e(Ke),null,{default:o(()=>c[11]||(c[11]=[S(" Программы не найдены. ")])),_:1}),s(e(He),null,{default:o(()=>[(i(!0),I(G,null,Y(P.value,_=>(i(),k(e(qe),{value:_,onSelect:()=>w(_.value),key:_.value},{default:o(()=>[S(F(_.label)+" ",1),s(e(Ye),null,{default:o(()=>[s(e(at),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(q),{type:"submit",class:"w-full"},{default:o(()=>c[12]||(c[12]=[S(" Далее ")])),_:1})],32))}}),ql={class:"mt-4 flex flex-col gap-4 sm:flex-row"},Yt=$({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{default:"ru-RU"},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{},isDateUnavailable:{},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{},class:{},events:{}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:a}){const l=t,n=a,r=D(()=>{const{class:O,...d}=l;return d}),u=we(r,n);function p(O,d,v){var g;return(g=l.events)==null?void 0:g.find(m=>m.year===O&&m.month===d&&m.day===v)}return(O,d)=>(i(),k(e(Sl),B({class:e(Z)("p-3",l.class)},e(u)),{default:o(({grid:v})=>[s(e(es),null,{default:o(()=>[s(e(ls)),s(e(ts)),s(e(as))]),_:1}),R("div",ql,[(i(!0),I(G,null,Y(v,g=>(i(),k(e(Zl),{key:g.value.toString()},{default:o(()=>[s(e(Xl),null,{default:o(()=>[s(e($t),null,{default:o(()=>[s(e(ce),null,{default:o(()=>d[0]||(d[0]=[S(" Пн ")])),_:1}),s(e(ce),null,{default:o(()=>d[1]||(d[1]=[S(" Вт ")])),_:1}),s(e(ce),null,{default:o(()=>d[2]||(d[2]=[S(" Ср ")])),_:1}),s(e(ce),null,{default:o(()=>d[3]||(d[3]=[S(" Чт ")])),_:1}),s(e(ce),null,{default:o(()=>d[4]||(d[4]=[S(" Пт ")])),_:1}),s(e(ce),null,{default:o(()=>d[5]||(d[5]=[S(" Сб ")])),_:1}),s(e(ce),null,{default:o(()=>d[6]||(d[6]=[S(" Вс ")])),_:1})]),_:1})]),_:1}),s(e(Jl),null,{default:o(()=>[(i(!0),I(G,null,Y(g.rows,(m,f)=>(i(),k(e($t),{key:`weekDate-${f}`,class:"mt-2 w-full"},{default:o(()=>[(i(!0),I(G,null,Y(m,b=>(i(),k(e(Yl),{date:b,key:b.toString()},{default:o(()=>{var P;return[s(e(Ql),{day:b,month:g.value,"data-event":(P=p(b.year,b.month,b.day))==null?void 0:P.type},null,8,["day","month","data-event"])]}),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Yl=$({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(Cl),B({class:e(Z)(`relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20
        [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent
        [&:has([data-selected][data-outside-view])]:bg-accent/50`,a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),Ql=$({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(Al),B({class:e(Z)(e(rt)({variant:"ghost"}),"h-9 w-9 p-0 font-normal",`[&[data-today]:not([data-selected])]:bg-accent
        [&[data-today]:not([data-selected])]:text-accent-foreground`,`data-[selected]:bg-primary data-[selected]:text-primary-foreground
        data-[selected]:opacity-100 data-[selected]:hover:bg-primary
        data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary
        data-[selected]:focus:text-primary-foreground`,"data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",`data-[outside-view]:text-muted-foreground/50
        [&[data-outside-view][data-selected]]:bg-accent/50
        [&[data-outside-view][data-selected]]:text-muted-foreground/30`,`data-[event]:after:absolute data-[event]:after:bottom-0
        data-[event]:after:left-1/2 data-[event]:after:size-1.5
        data-[event]:after:-translate-x-1/2 data-[event]:after:-translate-y-1/2
        data-[event]:after:rounded-full data-[event=error]:after:bg-destructive
        data-[event=info]:after:bg-chart-3 data-[event=success]:after:bg-chart-1`,a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),Zl=$({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(xl),B({class:e(Z)("w-full border-collapse space-y-1",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),Jl=$({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(i(),k(e(Il),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Xl=$({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(i(),k(e(Bl),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),$t=$({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(Tl),B({class:e(Z)("flex justify-center gap-2",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),ce=$({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(Dl),B({class:e(Z)("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),es=$({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(Pl),B({class:e(Z)("relative flex w-full items-center justify-between pt-1",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),ts=$({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e($l),B({class:e(Z)("text-sm font-medium first-letter:capitalize",a.class)},e(n)),{default:o(({headingValue:p})=>[E(r.$slots,"default",{headingValue:p},()=>[S(F(p),1)])]),_:3},16,["class"]))}}),as=$({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(El),B({class:e(Z)(e(rt)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default",{},()=>[s(e(ul),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),ls=$({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(i(),k(e(Rl),B({class:e(Z)(e(rt)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default",{},()=>[s(e(rl),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),ss={class:"grid gap-2 sm:grid-cols-2"},os=$({__name:"DateForm",emits:["saved","back"],setup(t,{emit:a}){const l=a;wt(be());const{handleSubmit:n}=Ie({validationSchema:Te(he.pick({dates:!0}).merge(A.object({time:_a.omit({second:!0})})).refine(u=>u.dates.length>0,{path:["dates"],message:"Необходимо выбрать хотя бы одну дату"})),initialValues:{dates:[],time:{hour:0,minute:0}},keepValuesOnUnmount:!0}),r=n(u=>{l("saved",{dates:u.dates.map(p=>fe(p).set(u.time).toString())})});return(u,p)=>(i(),I("form",{onSubmit:p[1]||(p[1]=(...O)=>e(r)&&e(r)(...O)),class:"space-y-2"},[s(e(L),{name:"dates"},{default:o(({value:O,setValue:d})=>[s(e(U),null,{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(Yt),{"model-value":O.map(v=>e(fe)(v)),"min-value":e(wt)(e(be)()),"onUpdate:modelValue":v=>d((v||[]).map(g=>e(Ua)(g).toString())),multiple:""},null,8,["model-value","min-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"time"},{default:o(({value:O,setValue:d})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>p[2]||(p[2]=[S("Время тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Be),{"model-value":new(e(dt))(O.hour,O.minute),"onUpdate:modelValue":v=>d({hour:(v==null?void 0:v.hour)||0,minute:(v==null?void 0:v.minute)||0})},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),R("div",ss,[s(e(q),{onClick:p[0]||(p[0]=O=>l("back")),type:"button",variant:"outline",class:"w-full"},{default:o(()=>p[3]||(p[3]=[S(" Назад ")])),_:1}),s(e(q),{type:"submit",class:"w-full"},{default:o(()=>p[4]||(p[4]=[S(" Далее ")])),_:1})])],32))}}),ns={RESPONSE:A.array(ke)},rs={RESPONSE:A.array(Et)};A.array(Et);const us={REQUEST:he.merge(ga.pick({groupId:!0})),RESPONSE:A.array(Rt)};A.array(Rt);const ds={REQUEST:he.merge(ba.pick({sportsmanId:!0})),RESPONSE:A.array(Bt)};A.array(Bt);const Qt={REQUEST:he.omit({workoutPoolId:!0,dates:!0}).merge(A.object({date:ha})),RESPONSE:ke},is={RESPONSE:A.array(ke)},cs={RESPONSE:A.array(ke)},fs={RESPONSE:A.array(ke)},ps={RESPONSE:A.array(ke)},ms={RESPONSE:A.array(ka)};async function vs(t){const a=await wa.get("/workouts",{params:t});return a.status!==ae.Ok?null:le(ns.RESPONSE,a.data)}async function ys(t){const a=await te.post("/workouts/team",t);return a.status!==ae.Created?null:le(rs.RESPONSE,a.data)}async function _s(t){const a=await te.post("/workouts/group",t);return a.status!==ae.Created?null:le(us.RESPONSE,a.data)}async function gs(t){const a=await te.post("/workouts/individual",t);return a.status!==ae.Created?null:le(ds.RESPONSE,a.data)}async function bs(t,a){const l=await te.patch("/workouts",a,{params:{id:t}});return l.status!==ae.Ok?null:le(Qt.RESPONSE,l.data)}async function hs(t){return(await te.delete("/workouts",{params:{id:t}})).status===ae.NoContent}async function ks(t){return(await te.delete("/workouts/repeat",{params:{id:t}})).status===ae.NoContent}async function ws(t){const a=await te.patch("/workouts/attend/yes",t);return a.status!==ae.Ok?null:le(is.RESPONSE,a.data)}async function Os(t){const a=await te.patch("/workouts/attend/no",t);return a.status!==ae.Ok?null:le(cs.RESPONSE,a.data)}async function Ss(t){const a=await te.patch("/workouts/paid/yes",t);return a.status!==ae.Ok?null:le(fs.RESPONSE,a.data)}async function Ps(t){const a=await te.patch("/workouts/paid/no",t);return a.status!==ae.Ok?null:le(ps.RESPONSE,a.data)}async function $s(t){const a=await te.get("/workouts/stats",{params:{id:t}});return le(ms.RESPONSE,a.data)}const Ce=Oa("workouts",{state:()=>({workouts:null,stats:null}),actions:{async getWorkouts(){const t=await vs();t&&(this.workouts=t.reduce((a,l)=>(a[l.id]=l,a),{}))},async createTeamWorkout(t){const a=await ys(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async createGroupWorkout(t){const a=await _s(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async createIndividualWorkout(t){const a=await gs(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async patchWorkout(t,a){const l=await bs(t,a);return l?(this.workouts[l.id]=l,!0):!1},async deleteWorkout(t){return await hs(t)?(delete this.workouts[t],!0):!1},async deleteRepeatWorkout(t){return await ks(t)?(await this.getWorkouts(),!0):!1},async getStats(t){const a=await $s(t);return a?(this.stats=a.reduce((l,{sportsmanId:n,isPaid:r,isAttend:u})=>(l[n]={sportsmanId:n,isPaid:r,isAttend:u},l),{}),!0):!1}},getters:{WORKOUTS:t=>t.workouts?Object.values(t.workouts):null,STATS:t=>t.stats?Object.values(t.stats):null}}),xs={class:"grid gap-2 sm:grid-cols-2"},Cs=$({__name:"InfoForm",props:{type:{},id:{},workoutPoolId:{},dates:{}},emits:["saved","back"],setup(t,{emit:a}){const l=t,n=a,{createTeamWorkout:r,createGroupWorkout:u,createIndividualWorkout:p}=Ce(),{handleSubmit:O,isSubmitting:d}=Ie({validationSchema:Te(he.omit({dates:!0,workoutPoolId:!0})),initialValues:{restTime:{hour:0,minute:0,second:0},price:0},keepValuesOnUnmount:!0}),v=O(async g=>{const{dates:m,id:f,workoutPoolId:b,type:P}=l;if(!m||!b||!P)return;let h;l.type==="team"&&(h=await r({...g,workoutPoolId:b,dates:m})),l.type==="group"&&f&&(h=await u({...g,groupId:f,workoutPoolId:b,dates:m})),l.type==="individual"&&f&&(h=await p({...g,sportsmanId:f,workoutPoolId:b,dates:m})),h&&n("saved")});return(g,m)=>(i(),I("form",{onSubmit:m[1]||(m[1]=(...f)=>e(v)&&e(v)(...f)),class:"flex-1 space-y-2"},[s(e(L),{name:"goal"},{default:o(({componentField:f})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[2]||(m[2]=[S("Цель тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},f,{placeholder:"Например, повышение силовых нагрузок..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"comment"},{default:o(({componentField:f})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[3]||(m[3]=[S("Комментарий")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},f,{placeholder:"Например, требуемый инвентарь..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"price"},{default:o(({value:f,setValue:b})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[4]||(m[4]=[S("Стоимость тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(At),{"model-value":f,"format-options":{style:"currency",currency:"RUB",currencyDisplay:"narrowSymbol",currencySign:"accounting"},step:100,"step-snapping":!1,"onUpdate:modelValue":b},{default:o(()=>[s(e(Mt),null,{default:o(()=>[s(e(Ut)),s(e(Nt)),s(e(Wt))]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"restTime"},{default:o(({value:f,setValue:b})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[5]||(m[5]=[S("Время отдыха после тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Be),{"model-value":new(e(dt))(f.hour,f.minute,f.second),"onUpdate:modelValue":P=>b({hour:P==null?void 0:P.hour,minute:P==null?void 0:P.minute,second:P==null?void 0:P.second}),granularity:"second"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),R("div",xs,[s(e(q),{onClick:m[0]||(m[0]=f=>n("back")),type:"button",variant:"outline",class:"w-full"},{default:o(()=>m[6]||(m[6]=[S(" Назад ")])),_:1}),s(e(q),{loading:e(d),type:"submit",class:"w-full"},{default:o(()=>m[7]||(m[7]=[S(" Создать ")])),_:1},8,["loading"])])],32))}}),Ds={class:"flex w-full gap-2"},xt=$({__name:"AddModal",setup(t){he.pick({dates:!0});const a=Sa("(min-width: 640px)"),l=V(1),n=V(!1),r=V(),u=V();function p(d){r.value=d,l.value++}function O(d){u.value=d,l.value++}return ge(n,d=>{d||(l.value=1)}),(d,v)=>(i(),k($e,{modelValue:n.value,"onUpdate:modelValue":v[3]||(v[3]=g=>n.value=g),title:"Создание тренировки",description:"Создайте новую тренировку."},{trigger:o(()=>[e(a)?(i(),k(e(q),{key:0,variant:"outline"},{default:o(()=>v[4]||(v[4]=[S(" Создать тренировку ")])),_:1})):(i(),k(e(q),{key:1,size:"icon",variant:"outline"},{default:o(()=>[s(e(ra),{class:"!size-6"})]),_:1}))]),default:o(()=>[R("div",Ds,[(i(),I(G,null,Y(3,(g,m)=>R("div",{class:_e(["h-1 flex-1 rounded-sm transition-colors duration-700",m>=l.value?"bg-gray-300":"bg-primary"]),key:g},null,2)),64))]),s(Hl,{class:_e({hidden:l.value!==1}),onSaved:p},null,8,["class"]),s(os,{class:_e({hidden:l.value!==2}),onSaved:O,onBack:v[0]||(v[0]=g=>l.value--)},null,8,["class"]),s(Cs,B({class:{hidden:l.value!==3}},{...r.value,...u.value},{onSaved:v[1]||(v[1]=g=>n.value=!1),onBack:v[2]||(v[2]=g=>l.value--)}),null,16,["class"])]),_:1},8,["modelValue"]))}}),Es={class:"group flex cursor-pointer select-none flex-col gap-3"},Rs={class:"relative aspect-[10/7] overflow-hidden rounded-lg border"},Bs=["alt","src"],Is={class:"flex flex-col gap-1"},Ts={class:"flex flex-col gap-2"},Vs={class:"text-sm"},Zt=$({__name:"Item",props:{item:{}},setup(t){const a=new it("ru-RU",{dateStyle:"long",timeStyle:"short"});return(l,n)=>(i(),I("div",Es,[R("div",Rs,[R("img",{alt:l.item.id,draggable:!1,src:`/images/${l.item.workoutType}.png`,class:"size-full object-cover transition-transform duration-500 will-change-transform group-hover:scale-110"},null,8,Bs),s(e(Ka),null,{default:o(()=>[s(e(Ha),{class:_e(["absolute right-2 top-2 rounded-full p-1",{"bg-primary text-primary-foreground":l.item.workoutType==="Командная","bg-secondary text-secondary-foreground":l.item.workoutType==="Групповая","bg-destructive text-destructive-foreground":l.item.workoutType==="Индивидуальная"}])},{default:o(()=>[l.item.workoutType==="Командная"?(i(),k(e(cl),{key:0,class:"size-5"})):l.item.workoutType==="Групповая"?(i(),k(e(Pa),{key:1,class:"size-5"})):(i(),k(e(Fa),{key:2,class:"size-5"}))]),_:1},8,["class"]),s(e(qa),{side:"right",align:"center"},{default:o(()=>[S(F(l.item.workoutType),1)]),_:1})]),_:1})]),R("div",Is,[R("h3",{class:_e(["font-semibold",{italic:!l.item.name}])},F(l.item.name),3),R("div",Ts,[R("p",Vs,F(e(a).format(e(fe)(l.item.date).toDate(e(be)()))),1)])])]))}}),As=$({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:a}){const r=we(t,a);return(u,p)=>(i(),k(e(Ul),re(ue(e(r))),{default:o(()=>[E(u.$slots,"default")]),_:3},16))}}),Ms=$({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=D(()=>{const{class:p,...O}=l;return O}),u=we(r,n);return(p,O)=>(i(),k(e(Wl),null,{default:o(()=>[s(e(Ll),B({...e(u),...p.$attrs},{class:e(Z)(`z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md
          outline-none data-[state=open]:animate-in data-[state=closed]:animate-out
          data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0
          data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
          data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,l.class)}),{default:o(()=>[E(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Us=$({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(i(),k(e(Nl),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Ns={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ws={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Fs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},zs={class:"flex gap-4"},Ls={class:"grid grid-cols-2 gap-4 sm:ml-auto sm:w-fit"},Gs=$({__name:"Form",props:{item:{}},emits:["saved"],setup(t,{emit:a}){const l=new it("ru-RU",{dateStyle:"long"}),n=V(!1),r=V(!1),u=t,p=a,O=Ce(),{patchWorkout:d,deleteWorkout:v,deleteRepeatWorkout:g}=O,{handleSubmit:m,isSubmitting:f}=Ie({validationSchema:Te(Qt.REQUEST),keepValuesOnUnmount:!0,initialValues:{...u.item}}),b=async()=>{var y;n.value=!0,(y=u.item)!=null&&y.id&&(await v(u.item.id),n.value=!1)},P=async()=>{var y;r.value=!0,(y=u.item)!=null&&y.id&&(await g(u.item.id),r.value=!1)},h=m(async y=>{console.log(y),await d(u.item.id,y)&&p("saved")});return(y,c)=>(i(),I("form",{onSubmit:c[0]||(c[0]=(...w)=>e(h)&&e(h)(...w)),class:"-m-1 flex-1 space-y-2 overflow-y-auto overflow-x-visible p-1"},[R("div",Ns,[s(e(L),{name:"date"},{default:o(({value:w,setValue:_})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[1]||(c[1]=[S("Дата проведения")])),_:1}),s(e(M),null,{default:o(()=>[s(e(As),null,{default:o(()=>[s(e(Us),{"as-child":""},{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(q),{class:"h-12 w-full text-sm",variant:"outline"},{default:o(()=>[R("span",null,F(w?e(l).format(e(ve)(e(fe)(w))):"Выберите дату"),1),s(e(Ht),{class:"ms-auto h-4 w-4 opacity-50"})]),_:2},1024),c[2]||(c[2]=R("input",{hidden:""},null,-1))]),_:2},1024)]),_:2},1024),s(e(Ms),{class:"w-auto p-0"},{default:o(()=>[s(e(Yt),{"model-value":e(fe)(w),"min-value":e(Na)(e(be)()),"onUpdate:modelValue":x=>{if(!x){_(void 0);return}_(x.toString())},"calendar-label":"Дата тренировки","initial-focus":""},null,8,["model-value","min-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024),s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[3]||(c[3]=[S("Время проведения")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Be),{"model-value":e(fe)(w),"onUpdate:modelValue":x=>{if(!x){_(void 0);return}_(x.toString())}},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Ws,[s(e(L),{name:"goal"},{default:o(({componentField:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[4]||(c[4]=[S("Цель тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},w,{placeholder:"Например, повышение силовых нагрузок..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"comment"},{default:o(({componentField:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[5]||(c[5]=[S("Комментарий")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},w,{placeholder:"Например, требуемый инвентарь..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Fs,[s(e(L),{name:"price"},{default:o(({value:w,setValue:_})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[6]||(c[6]=[S("Стоимость тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(At),{"model-value":w,"format-options":{style:"currency",currency:"RUB",currencyDisplay:"narrowSymbol",currencySign:"accounting"},step:100,"step-snapping":!1,"onUpdate:modelValue":_},{default:o(()=>[s(e(Mt),null,{default:o(()=>[s(e(Ut)),s(e(Nt)),s(e(Wt))]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"restTime"},{default:o(({value:w,setValue:_})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[7]||(c[7]=[S("Время отдыха после тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Be),{"model-value":new(e(dt))(w.hour,w.minute,w.second),"onUpdate:modelValue":x=>_({hour:x==null?void 0:x.hour,minute:x==null?void 0:x.minute,second:x==null?void 0:x.second}),granularity:"second"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",zs,[y.item.repeatId?(i(),k(e(q),{key:0,loading:r.value,onClick:P,type:"button",variant:"destructive",class:"mr-auto"},{default:o(()=>c[8]||(c[8]=[S(" Удалить все ")])),_:1},8,["loading"])):ye("",!0),R("div",Ls,[s(e(q),{loading:n.value,onClick:b,type:"button",variant:"outline"},{default:o(()=>c[9]||(c[9]=[S(" Удалить ")])),_:1},8,["loading"]),s(e(q),{loading:e(f),type:"submit"},{default:o(()=>c[10]||(c[10]=[S(" Сохранить ")])),_:1},8,["loading"])])])],32))}}),js=$({__name:"EditModal",props:{item:{}},setup(t){const a=V(!1);return(l,n)=>(i(),k($e,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value=r),title:"Редактирование тренировки",description:"Измените или удалите тренировку.",size:"lg","only-dialog":""},{trigger:o(()=>[s(Zt,{item:l.item},null,8,["item"])]),default:o(()=>[s(Gs,{item:l.item,onSaved:n[0]||(n[0]=r=>a.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),Ks={class:"flex items-center space-x-4 rounded-lg border border-border p-3"},Hs={class:"block text-sm text-muted-foreground"},qs={class:"text-lg font-semibold text-foreground"},me=$({__name:"PreviewGridItem",props:{title:{},value:{},type:{}},setup(t){return(a,l)=>(i(),I("div",Ks,[R("div",{class:_e(e(Z)(`flex h-12 w-12 items-center justify-center rounded-lg bg-primary
          text-primary-foreground`,{"bg-destructive":a.type==="destructive","bg-emerald-500 dark:bg-emerald-400":a.type==="positive"}))},[E(a.$slots,"default")],2),R("div",null,[R("span",Hs,F(a.title),1),R("span",qs,F(a.value),1)])]))}}),Ys={class:"max-h-[70vh] space-y-2 overflow-y-auto md:max-h-[90vh]","data-vaul-no-drag":""},Qs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Zs={class:"space-y-2"},Js={class:"grid gap-4 overflow-y-auto sm:grid-cols-2 lg:grid-cols-3"},Xs=$({__name:"PreviewData",props:{item:{}},setup(t){const a=new it("ru-RU",{dateStyle:"long"});return(l,n)=>(i(),I("div",Ys,[R("div",Qs,[s(me,{value:e(a).format(e(fe)(l.item.date).toDate(e(be)())),title:"Дата проведения"},{default:o(()=>[s(e(Ht),{class:"size-6"})]),_:1},8,["value"]),s(me,{value:e(Xe)(l.item.estimatedTime),title:"Время выполнения"},{default:o(()=>[s(e(dl),{class:"size-6"})]),_:1},8,["value"]),s(me,{value:e(Xe)(l.item.restTime),title:"Время отдыха"},{default:o(()=>[s(e(nl),{class:"size-6"})]),_:1},8,["value"]),s(me,{value:e(Xe)(l.item.restTime),title:"Оплата",type:"positive"},{default:o(()=>[s(e(fl),{class:"size-6"})]),_:1},8,["value"]),s(me,{value:l.item.isPaid?"Да":"Нет",type:l.item.isPaid?"positive":"destructive",title:"Оплачена"},{default:o(()=>[s(e(St),{class:"size-6"})]),_:1},8,["value","type"]),s(me,{value:l.item.isAttend?"Да":"Нет",type:l.item.isAttend?"positive":"destructive",title:"Начата"},{default:o(()=>[s(e(St),{class:"size-6"})]),_:1},8,["value","type"])]),R("div",Zs,[n[0]||(n[0]=R("p",{class:"font-medium"},"Список упражнений",-1)),R("div",Js,[(i(!0),I(G,null,Y(l.item.exercises,(r,u)=>(i(),k(Wa,{exercise:r,"is-draggable":!1,key:u},null,8,["exercise"]))),128))])])]))}}),eo=$({__name:"PreviewModal",props:{item:{}},setup(t){const a=V(!1);return(l,n)=>(i(),k($e,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value=r),title:l.item.name,description:"Просмотр тренировки.",size:"lg"},{trigger:o(()=>[s(Zt,{item:l.item},null,8,["item"])]),default:o(()=>[s(Xs,{item:l.item,onSaved:n[0]||(n[0]=r=>a.value=!1)},null,8,["item"])]),_:1},8,["modelValue","title"]))}}),to=$({__name:"PaymentModal",props:It({workoutId:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=t,l=Ce(),n=Ve(),{STATS:r}=ne(l),{SPORTSMANS:u}=ne(n),p=Tt(t,"modelValue"),O=V(!1),d=V([]),v=D(()=>{var m;return((m=r.value)==null?void 0:m.map(f=>{var P;const b=(P=u.value)==null?void 0:P.find(h=>h.id===f.sportsmanId);return{value:f.sportsmanId,label:b?ct(b):""}}))||[]});async function g(){if(!a.workoutId||!await Ss({workoutId:a.workoutId,sportsmansIds:d.value}))return;const f=v.value.filter(P=>!d.value.includes(P.value)).map(P=>P.value);await Ps({workoutId:a.workoutId,sportsmansIds:f})&&(p.value=!1)}return ge(r,m=>{d.value=(m==null?void 0:m.filter(f=>f.isPaid).map(f=>f.sportsmanId))||[]}),(m,f)=>(i(),k($e,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=b=>p.value=b),title:"Отметка оплаты",description:"Выберите спортсменов, которые оплатили тренировку."},{default:o(()=>[s(e(jt),{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=b=>d.value=b),class:"flex flex-col gap-4"},{default:o(()=>[(i(!0),I(G,null,Y(v.value,b=>(i(),I("div",{key:b.value,class:"flex items-center gap-4"},[s(e(Kt),{value:b.value,id:b.value,type:"checkbox"},null,8,["value","id"]),s(e(Ct),{for:b.value,class:"text-md"},{default:o(()=>[S(F(b.label),1)]),_:2},1032,["for"])]))),128))]),_:1},8,["modelValue"]),s(e(q),{loading:O.value,onClick:g,class:"w-full"},{default:o(()=>f[2]||(f[2]=[S(" Сохранить ")])),_:1},8,["loading"])]),_:1},8,["modelValue"]))}}),ao=$({__name:"AttendanceModal",props:It({workoutId:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=t,l=Ce(),n=Ve(),{STATS:r}=ne(l),{SPORTSMANS:u}=ne(n),p=Tt(t,"modelValue"),O=V(!1),d=V([]),v=D(()=>{var m;return((m=r.value)==null?void 0:m.map(f=>{var P;const b=(P=u.value)==null?void 0:P.find(h=>h.id===f.sportsmanId);return{value:f.sportsmanId,label:b?ct(b):""}}))||[]});async function g(){if(!a.workoutId||!await ws({workoutId:a.workoutId,sportsmansIds:d.value}))return;const f=v.value.filter(P=>!d.value.includes(P.value)).map(P=>P.value);await Os({workoutId:a.workoutId,sportsmansIds:f})&&(p.value=!1)}return ge(r,m=>{d.value=(m==null?void 0:m.filter(f=>f.isAttend).map(f=>f.sportsmanId))||[]}),(m,f)=>(i(),k($e,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=b=>p.value=b),title:"Отметка посещений",description:"Выберите спортсменов, которые посетили тренировку."},{default:o(()=>[s(e(jt),{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=b=>d.value=b),class:"flex flex-col gap-4"},{default:o(()=>[(i(!0),I(G,null,Y(v.value,b=>(i(),I("div",{key:b.value,class:"flex items-center gap-4"},[s(e(Kt),{value:b.value,id:b.value,type:"checkbox"},null,8,["value","id"]),s(e(Ct),{for:b.value,class:"text-md"},{default:o(()=>[S(F(b.label),1)]),_:2},1032,["for"])]))),128))]),_:1},8,["modelValue"]),s(e(q),{loading:O.value,onClick:g,class:"w-full"},{default:o(()=>f[2]||(f[2]=[S(" Сохранить ")])),_:1},8,["loading"])]),_:1},8,["modelValue"]))}}),lo={key:0,class:"flex flex-1 flex-col items-center justify-center gap-4"},so={key:1,class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"},Ao=$({__name:"Schedule",setup(t){const a=$a(),l=Ce(),n=Vt(),r=Ft(),u=Ve(),{IS_TRAINER:p}=ne(a),{deleteWorkout:O,getStats:d}=l,{WORKOUTS:v}=ne(l),g=V(null),m=V(!1),f=V(!1);async function b(h){await d(h),g.value=h,m.value=!0}async function P(h){await d(h),g.value=h,f.value=!0}return ut(async()=>{await l.getWorkouts(),p.value&&(await n.getWorkoutPools(),await r.getGroups(),await u.getTeam())}),(h,y)=>{var c;return i(),k(ua,null,xa({default:o(()=>{var w;return[((w=e(v))==null?void 0:w.length)===0?(i(),I("div",lo,[y[2]||(y[2]=R("p",null,"Список тренировок пуст",-1)),e(p)?(i(),k(xt,{key:0})):ye("",!0)])):(i(),I("div",so,[e(v)?(i(),I(G,{key:0},[e(p)?(i(!0),I(G,{key:0},Y(e(v),_=>(i(),k(e(za),{key:_.id},{default:o(()=>[s(e(La),{"as-child":""},{default:o(()=>[s(js,{item:_},null,8,["item"])]),_:2},1024),s(e(Ga),null,{default:o(()=>[s(e(et),{onClick:x=>b(_.id),class:"gap-2"},{default:o(()=>[s(e(pl),{class:"size-4"}),y[3]||(y[3]=S(" Отметить оплату "))]),_:2},1032,["onClick"]),s(e(et),{onClick:x=>P(_.id),class:"gap-2"},{default:o(()=>[s(e(il),{class:"size-4"}),y[4]||(y[4]=S(" Отметить посещения "))]),_:2},1032,["onClick"]),s(e(ja)),s(e(et),{onClick:x=>e(O)(_.id),class:"gap-2 !text-destructive"},{default:o(()=>[s(e(ml),{class:"size-4"}),y[5]||(y[5]=R("span",null,"Удалить тренировку",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)):(i(!0),I(G,{key:1},Y(e(v),_=>(i(),k(eo,{item:_,key:_.id},null,8,["item"]))),128))],64)):(i(),I(G,{key:1},Y(5,_=>R("div",{key:_,class:"flex flex-col gap-3"},[s(e(Ot),{class:"aspect-[10/7] rounded-lg"}),s(e(Ot),{class:"h-6 w-3/4 rounded-lg"})])),64))])),s(to,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=_=>m.value=_),"workout-id":g.value},null,8,["modelValue","workout-id"]),s(ao,{modelValue:f.value,"onUpdate:modelValue":y[1]||(y[1]=_=>f.value=_),"workout-id":g.value},null,8,["modelValue","workout-id"])]}),_:2},[((c=e(v))==null?void 0:c.length)!==0?{name:"actions",fn:o(()=>[e(p)?(i(),k(xt,{key:0})):ye("",!0)]),key:"0"}:void 0]),1024)}}});export{Ao as default};
