import{_ as V}from"./index-S1t7jIR0.js";import{_ as B,a as F,b as N,c as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-BPn9gMLN.js";import{_ as C}from"./CardDescription.vue_vue_type_script_setup_true_lang-lGDOM6zC.js";import{u as L,t as R,F as r,_ as f,a as _,b as d,d as U,c as p}from"./Input.vue_vue_type_script_setup_true_lang-D-dUZtmQ.js";import{d as z,_ as A,aw as D,b as I,f as s,i as a,e as o,v as t,l,h as c,n as M,k as P,B as $,F as x,j as b,au as j,ax as G}from"./index-DLHU7c2Y.js";import{_ as O,a as Q,b as q,c as H,d as J,e as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-BRl8LapW.js";import"./useId-DCbrToum.js";import"./useForwardPropsEmits-PfBqLJL5.js";import"./useBodyScrollLock-DbBY7mPc.js";import"./getActiveElement-PSEvxwrx.js";import"./useNonce-CP6YKMfE.js";import"./Collection-V5NtFpxF.js";import"./useFormControl-u48-BFO-.js";import"./ohash.D__AXeF1-wOtztpCT.js";import"./clamp-jFYhBC76.js";import"./PopperContent-bRObJEC0.js";import"./useFocusGuards-DYgzZOh7.js";import"./nullish-CHIgUVhi.js";const K={class:"mt-4 text-center text-sm"},pa=z({__name:"SendEmail",setup(W){const{sendEmail:y}=A(),{remaining:m,start:v}=D(0),{handleSubmit:k,isSubmitting:w}=L({validationSchema:R(G.REQUEST),initialValues:{userType:"sportsman"}}),i=k(async u=>{const e=await y(u);e&&v(e.expire)});return(u,e)=>{const E=j("RouterLink");return o(),I(a(B),{class:"w-full max-w-md"},{default:s(()=>[t(a(N),null,{default:s(()=>[t(a(F),{class:"text-2xl"},{default:s(()=>e[1]||(e[1]=[l("Введите почту")])),_:1}),t(a(C),null,{default:s(()=>e[2]||(e[2]=[l("Для регистрации пользователя.")])),_:1})]),_:1}),t(a(T),null,{default:s(()=>[c("form",{onSubmit:e[0]||(e[0]=(...n)=>a(i)&&a(i)(...n)),class:"space-y-2"},[t(a(r),{name:"email"},{default:s(({value:n,handleChange:g})=>[t(a(f),null,{default:s(()=>[t(a(_),null,{default:s(()=>e[3]||(e[3]=[l("Почта")])),_:1}),t(a(d),null,{default:s(()=>[t(a(U),{"model-value":n,"onUpdate:modelValue":g,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),t(a(p))]),_:2},1024)]),_:1}),t(a(r),{name:"userType"},{default:s(({componentField:n})=>[t(a(f),null,{default:s(()=>[t(a(_),null,{default:s(()=>e[4]||(e[4]=[l("Тип пользователя")])),_:1}),t(a(O),M(P(n)),{default:s(()=>[t(a(d),null,{default:s(()=>[t(a(Q),null,{default:s(()=>[t(a(q))]),_:1})]),_:1}),t(a(H),null,{default:s(()=>[t(a(J),null,{default:s(()=>[t(a(S),{value:"trainer"},{default:s(()=>e[5]||(e[5]=[l(" Тренер ")])),_:1}),t(a(S),{value:"sportsman"},{default:s(()=>e[6]||(e[6]=[l(" Спортсмен ")])),_:1})]),_:1})]),_:1})]),_:2},1040),t(a(p))]),_:2},1024)]),_:1}),t(a(V),{disabled:a(w)||a(m)>0,type:"submit",class:"w-full"},{default:s(()=>[a(m)?(o(),$(x,{key:1},[l(" Пожалуйста, подождите "+b(Math.floor(a(m)/60))+":"+b(`${a(m)%60}`.padStart(2,"0")),1)],64)):(o(),$(x,{key:0},[l(" Продолжить ")],64))]),_:1},8,["disabled"])],32),c("div",K,[e[8]||(e[8]=l(" Уже есть аккаунт? ")),t(E,{to:{name:"LOGIN"},class:"text-primary hover:underline"},{default:s(()=>e[7]||(e[7]=[l(" Войти ")])),_:1})])]),_:1})]),_:1})}}});export{pa as default};
