import{d as v,u as w,r as i,p as c,l as g,m as y,n as t,q as d,f as l,Q as _,t as u,v as p,x as q,y as V,A as b,_ as x}from"./index-CigzdHN_.js";import{Q}from"./QForm-COvoHNqS.js";import{Q as z}from"./QPage-Bk6CQXv3.js";const B={class:"form-container column q-pa-lg"},h={class:"row full-width"},A=d("h4",{class:"text-h5 q-my-md"},"Вход",-1),P=v({__name:"LoginPage",setup($){const m=w(),s=i({email:null,password:null}),o=i({email:"",password:""}),r=i(!1);async function f(){r.value=!0;const n=await b.login(o.value);r.value=!1,n&&m.push({path:"/team"})}return c(async()=>{const n=m.currentRoute.value.query.email;n&&(o.value.email=n)}),(n,a)=>(g(),y(z,{class:"window-height window-width row justify-center items-center"},{default:t(()=>[d("div",B,[d("div",h,[l(Q,{class:"full-width",onSubmit:f},{default:t(()=>[l(_,{square:"",flat:"",class:"full-width"},{default:t(()=>[l(u,{class:"bg-primary text-dark q-mb-lg"},{default:t(()=>[A]),_:1}),l(u,{class:"q-py-none q-pb-sm"},{default:t(()=>[l(p,{modelValue:o.value.email,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value.email=e),rules:[e=>!!e||"Обязательное поле",e=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)||"Некорректный email"],ref:e=>s.value.email=e,onKeydown:a[1]||(a[1]=e=>s.value.email?.resetValidation()),onBlur:a[2]||(a[2]=e=>s.value.email?.validate()),autocapitalize:"off",label:"Логин",type:"email",inputmode:"email","lazy-rules":"",outlined:""},null,8,["modelValue","rules"])]),_:1}),l(u,{class:"q-pt-none q-pb-sm"},{default:t(()=>[l(p,{modelValue:o.value.password,"onUpdate:modelValue":a[3]||(a[3]=e=>o.value.password=e),rules:[e=>!!e||"Обязательное поле",e=>e.length>=5||"Пароль должен содержать не менее 5 символов",e=>e.length<=30||"Пароль должен содержать не более 30 символов"],ref:e=>s.value.password=e,onKeydown:a[4]||(a[4]=e=>s.value.password?.resetValidation()),onBlur:a[5]||(a[5]=e=>s.value.password?.validate()),label:"Пароль",type:"password","lazy-rules":"",outlined:""},null,8,["modelValue","rules"])]),_:1}),l(u,{class:"q-pt-none q-pb-lg"},{default:t(()=>[l(q,{loading:r.value,type:"submit",color:"primary","text-color":"dark",class:"full-width",size:"lg","no-caps":""},{default:t(()=>[V(" Войти ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})])])]),_:1}))}}),N=x(P,[["__file","LoginPage.vue"]]);export{N as default};
