import{P as ce,c as g,a as ue,_ as pe}from"./index-Crs7OOR2.js";import{c as A,d as f,a as E,b as m,e as i,f as s,g as h,m as v,i as e,q as M,s as G,x as a,C as y,a1 as ve,h as p,k as x,j as S,X as O,F as fe,y as me,V as ye,r as K,u as xe,ak as $e,D as R,$ as Q,aG as ke,E as we,au as _e,aH as T,N as W,O as X,P as Y,R as Se,A as J,aF as Ce,o as Ee,at as Oe}from"./index-BPf4Rk1d.js";import{c as Ae}from"./useId-BWTRPJho.js";import{_ as Ie,a as ze,b as Be,c as Pe,d as te,f as ae}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C--jCwtb.js";import{a as he}from"./useForwardPropsEmits-COt-lDJ5.js";import{a as Me,b as Re,c as Te,d as Ne,e as Ve,X as Le,f as De,g as Fe,_ as He,h as Ue}from"./Modal.vue_vue_type_script_setup_true_lang-D8UDpHoT.js";import{u as je,F as V,_ as L,a as D,b as F,d as H,c as U,t as qe}from"./Input.vue_vue_type_script_setup_true_lang-DD38yQ-O.js";import{_ as se,a as oe}from"./index-DXcrlXcb.js";import{b as Ge,c as Ke,i as ne,d as Qe,e as We,f as re,g as Xe,h as j}from"./AvatarImage.vue_vue_type_script_setup_true_lang-B6_qlF__.js";import{_ as q}from"./Skeleton.vue_vue_type_script_setup_true_lang-CWzlUr4m.js";import{_ as Ye}from"./Switch.vue_vue_type_script_setup_true_lang-ByH6EQTE.js";import{C as Je}from"./chevrons-up-down-Ckc_WkZY.js";import{M as Ze}from"./moon-DrngDT7j.js";import"./Collection-CK7GpEza.js";import"./useFormControl-D8JzIEid.js";import"./Teleport-CRI3oJ-H.js";import"./getActiveElement-CA7ud6Nr.js";import"./useTypeahead-DycDFoxL.js";import"./useFocusGuards-D_ueCkRu.js";import"./RovingFocusGroup-B63H2_PY.js";import"./utils-jBiBC--7.js";import"./VisuallyHiddenInput-BbFbLGlz.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=A("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=A("LifeBuoyIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=A("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=A("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=A("TabletSmartphoneIcon",[["rect",{width:"10",height:"14",x:"3",y:"8",rx:"2",key:"1vrsiq"}],["path",{d:"M5 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-2.4",key:"1j4zmg"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=A("TrophyIcon",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=A("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),lt=f({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const t=n,o=["horizontal","vertical"];function r(_){return o.includes(_)}const c=E(()=>r(t.orientation)?t.orientation:"horizontal"),d=E(()=>c.value==="vertical"?t.orientation:void 0),l=E(()=>t.decorative?{role:"none"}:{"aria-orientation":d.value,role:"separator"});return(_,w)=>(i(),m(e(ce),v({as:_.as,"as-child":_.asChild,"data-orientation":c.value},l.value),{default:s(()=>[h(_.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),it=f({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const t=n;return(o,r)=>(i(),m(lt,M(G(t)),{default:s(()=>[h(o.$slots,"default")]),_:3},16))}}),dt=f({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:t}){const c=he(n,t);return(d,l)=>(i(),m(e(Me),M(G(e(c))),{default:s(()=>[h(d.$slots,"default")]),_:3},16))}}),ct=f({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const o=n,r=t,c=E(()=>{const{class:l,side:_,...w}=o;return w}),d=he(c,r);return(l,_)=>(i(),m(e(Re),null,{default:s(()=>[a(e(Te),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),a(e(Ne),v({class:e(g)(e(ft)({side:l.side}),o.class)},{...e(d),...l.$attrs}),{default:s(()=>[h(l.$slots,"default"),a(e(Ve),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:s(()=>[a(e(Le),{class:"h-4 w-4 text-muted-foreground"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),ut=f({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,o=E(()=>{const{class:r,...c}=t;return c});return(r,c)=>(i(),m(e(De),v({class:e(g)("text-sm text-muted-foreground",t.class)},o.value),{default:s(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),pt=f({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,o=E(()=>{const{class:r,...c}=t;return c});return(r,c)=>(i(),m(e(Fe),v({class:e(g)("text-lg font-semibold text-foreground",t.class)},o.value),{default:s(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),ft=ue("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),mt="sidebar:state",_t=60*60*24*7,ht="20rem",gt="18rem",bt="3rem",vt="b",[P,yt]=Ae("Sidebar"),xt={class:"flex h-full w-full flex-col"},$t=["data-state","data-collapsible","data-variant","data-side"],kt={"data-sidebar":"sidebar",class:"flex h-full w-full flex-col bg-sidebar text-sidebar-foreground group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},wt=f({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{},title:{},description:{}},setup(n){const t=n,{isMobile:o,state:r,openMobile:c,setOpenMobile:d}=P();return(l,_)=>l.collapsible==="none"?(i(),y("div",v({key:0,class:e(g)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",t.class)},l.$attrs),[h(l.$slots,"default")],16)):e(o)?(i(),m(e(dt),v({key:1,open:e(c)},l.$attrs,{"onUpdate:open":e(d)}),{default:s(()=>[a(e(ct),{style:ve({"--sidebar-width":e(gt)}),side:l.side,"data-sidebar":"sidebar","data-mobile":"true",class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"},{default:s(()=>[a(e(pt),{class:"hidden"},{default:s(()=>[x(S(t.title),1)]),_:1}),a(e(ut),{class:"hidden"},{default:s(()=>[x(S(t.description),1)]),_:1}),p("div",xt,[h(l.$slots,"default")])]),_:3},8,["style","side"])]),_:3},16,["open","onUpdate:open"])):(i(),y("div",{key:2,"data-state":e(r),"data-collapsible":e(r)==="collapsed"?l.collapsible:"","data-variant":l.variant,"data-side":l.side,class:"group peer hidden md:block"},[p("div",{class:O(e(g)(`relative h-svh w-[--sidebar-width] bg-transparent transition-[width]
          duration-200 ease-linear`,"group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",l.variant==="floating"||l.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]"))},null,2),p("div",v({class:e(g)(`fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width]
          transition-[left,right,width] duration-200 ease-linear md:flex`,l.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",l.variant==="floating"||l.variant==="inset"?`p-2
              group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon]
              group-data-[side=left]:border-r group-data-[side=right]:border-l`,t.class)},l.$attrs),[p("div",kt,[h(l.$slots,"default")])],16)],8,$t))}}),St=f({__name:"SidebarContent",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("div",{class:O(e(g)(`flex min-h-0 flex-1 flex-col gap-2 overflow-auto
        group-data-[collapsible=icon]:overflow-hidden`,t.class)),"data-sidebar":"content"},[h(o.$slots,"default")],2))}}),Ct=f({__name:"SidebarFooter",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("div",{class:O(e(g)("flex flex-col gap-2 p-2",t.class)),"data-sidebar":"footer"},[h(o.$slots,"default")],2))}}),le=f({__name:"SidebarGroup",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("div",{class:O(e(g)("relative flex w-full min-w-0 flex-col p-2",t.class)),"data-sidebar":"group"},[h(o.$slots,"default")],2))}}),Et=f({__name:"SidebarHeader",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("div",{class:O(e(g)("flex flex-col gap-2 p-2",t.class)),"data-sidebar":"header"},[h(o.$slots,"default")],2))}}),Ot=f({__name:"SidebarInset",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("main",{class:O(e(g)("relative flex min-h-svh flex-1 flex-col bg-background",`peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))]
        md:peer-data-[variant=inset]:m-2
        md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-1
        md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl
        md:peer-data-[variant=inset]:shadow`,t.class))},[h(o.$slots,"default")],2))}}),N=f({__name:"SidebarMenu",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("ul",{class:O(e(g)("flex w-full min-w-0 flex-col gap-1",t.class)),"data-sidebar":"menu"},[h(o.$slots,"default")],2))}}),ie=f({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const t=n;return(o,r)=>(i(),m(e(ce),v({"data-size":o.size,"data-active":o.isActive,class:e(g)(e(zt)({variant:o.variant,size:o.size}),t.class),as:o.as,"as-child":o.asChild,"data-sidebar":"menu-button"},o.$attrs),{default:s(()=>[h(o.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),z=f({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(n){const t=n,{isMobile:o,state:r}=P(),c=E(()=>{const{tooltip:d,...l}=t;return l});return(d,l)=>d.tooltip?(i(),m(e(Ie),{key:1},{default:s(()=>[a(e(ze),{"as-child":""},{default:s(()=>[a(ie,M(G({...c.value,...d.$attrs})),{default:s(()=>[h(d.$slots,"default")]),_:3},16)]),_:3}),a(e(Be),{hidden:e(r)!=="collapsed"||e(o),side:"right",align:"center"},{default:s(()=>[typeof d.tooltip=="string"?(i(),y(fe,{key:0},[x(S(d.tooltip),1)],64)):(i(),m(me(d.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(i(),m(ie,M(v({key:0},{...c.value,...d.$attrs})),{default:s(()=>[h(d.$slots,"default")]),_:3},16))}}),B=f({__name:"SidebarMenuItem",props:{class:{}},setup(n){const t=n;return(o,r)=>(i(),y("li",{class:O(e(g)("group/menu-item relative",t.class)),"data-sidebar":"menu-item"},[h(o.$slots,"default")],2))}}),At=f({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(n,{emit:t}){const o=n,r=t,c=ye("(max-width: 768px)"),d=K(!1),l=xe(o,"open",r,{defaultValue:o.defaultOpen??!1,passive:o.open===void 0});function _(u){l.value=u,document.cookie=`${mt}=${l.value}; path=/; max-age=${_t}`}function w(u){d.value=u}function $(){return c.value?w(!d.value):_(!l.value)}$e("keydown",u=>{u.key===vt&&(u.metaKey||u.ctrlKey)&&(u.preventDefault(),$())});const C=E(()=>l.value?"expanded":"collapsed");return yt({state:C,open:l,setOpen:_,isMobile:c,openMobile:d,setOpenMobile:w,toggleSidebar:$}),(u,k)=>(i(),m(e(Pe),{"delay-duration":0},{default:s(()=>[p("div",v({style:{"--sidebar-width":e(ht),"--sidebar-width-icon":e(bt)},class:e(g)(`group/sidebar-wrapper flex min-h-svh w-full
          has-[[data-variant=inset]]:bg-sidebar`,o.class)},u.$attrs),[h(u.$slots,"default")],16)]),_:3}))}}),de=f({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(n){const t=n,o=E(()=>{const{class:r,...c}=t;return c});return(r,c)=>(i(),m(e(it),v(o.value,{class:e(g)("relative shrink-0 bg-border",t.orientation==="vertical"?"h-full w-px":"h-px w-full",t.class)}),{default:s(()=>[t.label?(i(),y("span",{key:0,class:O(e(g)(`absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center
          justify-center bg-background text-xs text-muted-foreground`,t.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] px-2 py-1"))},S(t.label),3)):R("",!0)]),_:1},16,["class"]))}}),It=f({__name:"SidebarTrigger",props:{class:{}},setup(n){const t=n,{toggleSidebar:o}=P();return(r,c)=>(i(),m(e(pe),{class:O(e(g)("size-10",t.class)),onClick:e(o),"data-sidebar":"trigger",variant:"ghost",size:"icon"},{default:s(()=>[a(e(st)),c[0]||(c[0]=p("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),zt=ue("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",md:"h-10 text-sm",lg:"h-14 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Bt={href:"#"},Pt={class:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-sidebar-primary-foreground"},Mt=f({__name:"NavigationHeader",setup(n){return(t,o)=>(i(),m(e(N),null,{default:s(()=>[a(e(B),null,{default:s(()=>[a(e(z),{size:"lg","as-child":""},{default:s(()=>[p("a",Bt,[p("div",Pt,[a(e(nt),{class:"size-4"})]),o[0]||(o[0]=p("div",{class:"grid flex-1 text-left text-sm leading-tight"},[p("span",{class:"truncate font-semibold"},"TBuilder"),p("span",{class:"truncate text-xs"},"Приложение для тренировок")],-1))])]),_:1})]),_:1})]),_:1}))}}),Rt={href:"#"},Tt={href:"#"},Nt=f({__name:"NavigationContent",setup(n){const{userType:t}=Q(),{setOpenMobile:o}=P(),r=E(()=>ke.filter(c=>{var d;return(d=c.meta)!=null&&d.userTypes?c.meta.userTypes.includes(t):!0}));return(c,d)=>{const l=_e("RouterLink");return i(),m(e(St),null,{default:s(()=>[a(e(le),null,{default:s(()=>[a(e(N),null,{default:s(()=>[(i(!0),y(fe,null,we(r.value,_=>(i(),m(e(B),{key:_.name},{default:s(()=>[a(l,{to:{name:_.name}},{default:s(({isActive:w})=>{var $;return[a(e(z),{tooltip:($=_.meta)==null?void 0:$.title,"is-active":w,onClick:d[0]||(d[0]=C=>e(o)(!1)),size:"md"},{default:s(()=>{var C,u;return[(i(),m(me((C=_.meta)==null?void 0:C.icon))),x(" "+S((u=_.meta)==null?void 0:u.title),1)]}),_:2},1032,["tooltip","is-active"])]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1}),a(e(le),{class:"mt-auto"},{default:s(()=>[a(e(N),null,{default:s(()=>[a(e(B),null,{default:s(()=>[a(e(z),{tooltip:"Поддержка",size:"md","as-child":""},{default:s(()=>[p("a",Rt,[a(e(tt),{class:"size-4"}),d[1]||(d[1]=p("span",{class:"ml-2"},"Поддержка",-1))])]),_:1})]),_:1}),a(e(B),null,{default:s(()=>[a(e(z),{tooltip:"Мобильное приложение",size:"md","as-child":""},{default:s(()=>[p("a",Tt,[a(e(ot),{class:"size-4"}),d[2]||(d[2]=p("span",{class:"ml-2"},"Мобильное приложение",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Vt={RESPONSE:T},ge={REQUEST:T.omit({id:!0,email:!0,avatarUri:!0}),RESPONSE:T},Lt={RESPONSE:T};async function Dt(){const n=await W.get("/profile");return n.status!==X.Ok?null:Y(Vt.RESPONSE,n.data)}async function Ft(n){const t=await W.patch("/profile",n);return t.status!==X.Ok?null:Y(ge.RESPONSE,t.data)}async function Ht(n){const t=await W.post("/profile/avatar",n,{headers:{"Content-Type":"multipart/form-data"}});return t.status!==X.Ok?null:Y(Lt.RESPONSE,t.data)}const be=Se("user",{state:()=>({profile:null}),actions:{async getProfile(){this.profile=await Dt()},async patchProfile(n){const t=await Ft(n);return t?(this.profile=t,!0):!1},async changeAvatar(n){const t=await Ht(n);return t?(this.profile=t,!0):!1}},getters:{PROFILE:n=>n.profile,AVATAR:n=>{var t;return(t=n.profile)==null?void 0:t.avatarUri},EMAIL:n=>{var t;return((t=n.profile)==null?void 0:t.email)||""}}}),Ut=f({__name:"Form",emits:["saved"],setup(n,{emit:t}){const o=t,r=be(),{patchProfile:c}=r,{PROFILE:d}=J(r),l=qe(ge.REQUEST),{handleSubmit:_,isSubmitting:w}=je({validationSchema:l,keepValuesOnUnmount:!0,initialValues:{...d.value}}),$=_(async C=>{await c(C)&&o("saved")});return(C,u)=>(i(),y("form",{onSubmit:u[0]||(u[0]=(...k)=>e($)&&e($)(...k)),class:"grid gap-3"},[a(e(V),{name:"lastName"},{default:s(({componentField:k})=>[a(e(L),null,{default:s(()=>[a(e(D),null,{default:s(()=>u[1]||(u[1]=[x("Фамилия")])),_:1}),a(e(F),null,{default:s(()=>[a(e(H),v({type:"text"},k,{placeholder:"Смирнов"}),null,16)]),_:2},1024),a(e(U))]),_:2},1024)]),_:1}),a(e(V),{name:"firstName"},{default:s(({componentField:k})=>[a(e(L),null,{default:s(()=>[a(e(D),null,{default:s(()=>u[2]||(u[2]=[x("Имя")])),_:1}),a(e(F),null,{default:s(()=>[a(e(H),v({type:"text"},k,{placeholder:"Иван"}),null,16)]),_:2},1024),a(e(U))]),_:2},1024)]),_:1}),a(e(V),{name:"middleName"},{default:s(({componentField:k})=>[a(e(L),null,{default:s(()=>[a(e(D),null,{default:s(()=>u[3]||(u[3]=[x("Отчество")])),_:1}),a(e(F),null,{default:s(()=>[a(e(H),v({type:"text"},k,{placeholder:"Петрович"}),null,16)]),_:2},1024),a(e(U))]),_:2},1024)]),_:1}),a(e(pe),{loading:e(w),type:"submit"},{default:s(()=>u[4]||(u[4]=[x(" Сохранить ")])),_:1},8,["loading"])],32))}}),jt=f({__name:"Profile",setup(n){const t=K(!1);return(o,r)=>(i(),m(He,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=c=>t.value=c),title:"Изменить профиль",description:"Измените информацию о себе."},{trigger:s(()=>[h(o.$slots,"default")]),default:s(()=>[a(Ut,{onSaved:r[0]||(r[0]=c=>t.value=!1)})]),_:3},8,["modelValue"]))}}),qt={class:"grid flex-1 text-left text-sm leading-tight"},Gt={class:"truncate font-semibold"},Kt={class:"truncate text-xs"},Qt={class:"flex flex-col items-center gap-2 px-1 py-1.5 text-left text-sm"},Wt={class:"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 transition-opacity group-hover:opacity-100"},Xt={class:"flex flex-col items-center gap-1 text-sm leading-tight"},Yt={class:"truncate font-semibold"},Jt={class:"truncate text-xs"},Zt={key:1,class:"flex items-center space-x-2 p-2"},ea={class:"w-full space-y-2"},ta=f({__name:"UserDropdown",setup(n){const t=Oe(),o=be(),{store:r}=Ce(),{isMobile:c}=P(),{PROFILE:d,EMAIL:l,AVATAR:_}=J(o),{logout:w}=Q(),$=K();async function C(k){const b=k.target;if(!b.files||b.files.length===0)return;const I=new FormData;I.append("avatar",b.files[0]),await o.changeAvatar(I)}async function u(){await w()&&t.push({name:"LOGIN"})}return Ee(async()=>{await o.getProfile()}),(k,b)=>e(d)?(i(),m(jt,{key:0},{default:s(()=>[a(e(Ge),null,{default:s(()=>[a(e(Ke),{"as-child":""},{default:s(()=>[a(e(z),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:s(()=>[a(e(se),{class:"h-10 w-10 shrink-0 rounded-lg"},{default:s(()=>[e(_)?(i(),m(e(ne),{key:0,src:e(_),alt:"Avatar"},null,8,["src"])):R("",!0),a(e(oe),{class:"rounded-lg"},{default:s(()=>[x(S(e(te)(e(d))),1)]),_:1})]),_:1}),p("div",qt,[p("span",Gt,S(e(ae)(e(d))),1),p("span",Kt,S(e(l)),1)]),a(e(Je),{class:"ml-auto size-4"})]),_:1})]),_:1}),a(e(Qe),{side:e(c)?"bottom":"right","side-offset":4,class:"w-[--reka-dropdown-menu-trigger-width] min-w-56 rounded-lg",align:"end"},{default:s(()=>[a(e(We),{class:"p-0 font-normal"},{default:s(()=>[p("div",Qt,[p("div",{onClick:b[0]||(b[0]=(...I)=>{var Z,ee;return((Z=$.value)==null?void 0:Z.click)&&((ee=$.value)==null?void 0:ee.click(...I))}),class:"group relative size-20 cursor-pointer"},[a(e(se),{class:"size-full"},{default:s(()=>[e(_)?(i(),m(e(ne),{key:0,src:e(_),alt:"Profile"},null,8,["src"])):R("",!0),a(e(oe),{class:"text-2xl"},{default:s(()=>[x(S(e(te)(e(d))),1)]),_:1})]),_:1}),p("div",Wt,[a(e(et),{class:"size-8 text-white"})]),p("input",{onChange:C,type:"file",ref_key:"avatarInputRef",ref:$,class:"hidden",accept:"image/*"},null,544)]),p("div",Xt,[p("span",Yt,S(e(ae)(e(d))),1),p("span",Jt,S(e(l)),1)])])]),_:1}),a(e(re)),a(e(Xe),null,{default:s(()=>[a(e(Ue),{"as-child":""},{default:s(()=>[a(e(j),null,{default:s(()=>[a(e(rt)),b[2]||(b[2]=x(" Профиль "))]),_:1})]),_:1}),a(e(j),{onSelect:b[1]||(b[1]=I=>{I.preventDefault(),r.value=e(r)==="dark"?"light":"dark"})},{default:s(()=>[a(e(Ze)),b[3]||(b[3]=x(" Тёмная тема ")),a(e(Ye),{"model-value":e(r)==="dark",class:"ml-auto"},null,8,["model-value"])]),_:1})]),_:1}),a(e(re)),a(e(j),{onClick:u,class:"!text-destructive"},{default:s(()=>[a(e(at)),b[4]||(b[4]=x(" Выйти "))]),_:1})]),_:1},8,["side"])]),_:1})]),_:1})):(i(),y("div",Zt,[a(e(q),{class:"h-10 w-10 shrink-0 rounded-lg"}),p("div",ea,[a(e(q),{class:"h-3.5 w-1/2"}),a(e(q),{class:"h-3 w-3/4"})])]))}}),aa=f({__name:"NavigationFooter",setup(n){return(t,o)=>(i(),m(e(N),null,{default:s(()=>[a(e(B),null,{default:s(()=>[a(ta)]),_:1})]),_:1}))}}),sa=f({__name:"Navigation",setup(n){return(t,o)=>(i(),m(e(wt),{collapsible:"icon",variant:"inset",title:"TBuilder",description:"Приложение для тренировок"},{default:s(()=>[a(e(Et),null,{default:s(()=>[a(Mt)]),_:1}),a(e(de)),a(Nt),a(e(de)),a(e(Ct),null,{default:s(()=>[a(aa)]),_:1})]),_:1}))}}),oa={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b px-4"},na={class:"flex flex-1 flex-col gap-6 p-4 pt-6 md:p-8"},ra=f({__name:"NavigationInset",setup(n){return(t,o)=>{const r=_e("RouterView");return i(),m(e(Ot),null,{default:s(()=>[p("header",oa,[a(e(It),{class:"-ml-1"})]),p("div",na,[a(r)])]),_:1})}}}),Aa=f({__name:"Default",setup(n){const t=Q(),{isAuthorized:o}=J(t);return(r,c)=>e(o)?(i(),m(e(At),{key:0},{default:s(()=>[a(sa),a(ra)]),_:1})):R("",!0)}});export{Aa as default};
