import{B as Te,b1 as ct,b2 as _t,b3 as qt,b4 as Vt,G as dt,b5 as Yt,g as Ke,I as vt,b6 as Xt,c as d,J as Gt,h as i,Z as $e,b7 as Jt,aA as Zt,u as Ie,n as el,r as E,w as ve,ad as tl,D as ll,ae as nl,af as ul,E as nt,A as _e,aQ as It,b8 as al,b9 as yt,aE as We,ba as il,bb as ol,bc as it,bd as rl,be as Pe,aC as sl,aD as cl,at as At,M as dl,a$ as vl,aR as fl,t as ml,z as Mt,aT as hl,aX as gl,x as Ot,ag as pt,Q as Sl,bf as bl,a8 as Tt,aL as yl,aM as wl,bg as xl,aN as kl,aF as Cl,X as wt,bh as _l}from"./index-CrMxzk4B.js";import{b as lt,c as rt,a as zt}from"./QList-DMvAb0PL.js";import{Q as Bt,u as ql,a as Vl}from"./QMenu-DDL4rfaS.js";import{r as st}from"./rtl-DFPa-2ov.js";import{n as xt,p as Re,T as Il}from"./format-BoKE-3dj.js";import{b as Al,c as Ml,d as Ol,_ as tt,g as pl,f as Tl}from"./use-quasar-4RUW9YXV.js";const zl=Te({name:"QField",inheritAttrs:!1,props:{...ct,tag:{type:String,default:"label"}},emits:_t,setup(){return qt(Vt({requiredForAttr:!1,tagProp:!0}))}}),Bl={xs:8,sm:10,md:14,lg:20,xl:24},Hl=Te({name:"QChip",props:{...dt,...Yt,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:g,emit:f}){const{proxy:{$q:w}}=Ke(),I=vt(e,w),a=Xt(e,Bl),q=d(()=>e.selected===!0||e.icon!==void 0),S=d(()=>e.selected===!0?e.iconSelected||w.iconSet.chip.selected:e.icon),y=d(()=>e.iconRemove||w.iconSet.chip.remove),H=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=d(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(H.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(I.value===!0?" q-chip--dark q-dark":"")}),b=d(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||w.lang.label.remove};return{chip:m,remove:P}});function C(m){m.keyCode===13&&O(m)}function O(m){e.disable||(f("update:selected",!e.selected),f("click",m))}function L(m){(m.keyCode===void 0||m.keyCode===13)&&(Ie(m),e.disable===!1&&(f("update:modelValue",!1),f("remove")))}function v(){const m=[];H.value===!0&&m.push(i("div",{class:"q-focus-helper"})),q.value===!0&&m.push(i($e,{class:"q-chip__icon q-chip__icon--left",name:S.value}));const P=e.label!==void 0?[i("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(i("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Jt(g.default,P))),e.iconRight&&m.push(i($e,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(i($e,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:y.value,...b.value.remove,onClick:L,onKeyup:L})),m}return()=>{if(e.modelValue===!1)return;const m={class:h.value,style:a.value};return H.value===!0&&Object.assign(m,b.value.chip,{onClick:O,onKeyup:C}),Gt("div",m,v(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Zt,e.ripple]])}}}),me=1e3,Ll=["start","center","end","start-force","center-force","end-force"],Ht=Array.prototype.filter,Fl=window.getComputedStyle(document.body).overflowAnchor===void 0?el:function(e,g){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const f=e.children||[];Ht.call(f,I=>I.dataset&&I.dataset.qVsAnchor!==void 0).forEach(I=>{delete I.dataset.qVsAnchor});const w=f[g];w&&w.dataset&&(w.dataset.qVsAnchor="")}))};function Ne(e,g){return e+g}function ot(e,g,f,w,I,a,q,S){const y=e===window?document.scrollingElement||document.documentElement:e,H=I===!0?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-q-S,scrollMaxSize:0,offsetStart:-q,offsetEnd:-S};if(I===!0?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=y.scrollLeft,h.scrollViewSize+=y.clientWidth),h.scrollMaxSize=y.scrollWidth,a===!0&&(h.scrollStart=(st===!0?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=y.scrollTop,h.scrollViewSize+=y.clientHeight),h.scrollMaxSize=y.scrollHeight),f!==null)for(let b=f.previousElementSibling;b!==null;b=b.previousElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetStart+=b[H]);if(w!==null)for(let b=w.nextElementSibling;b!==null;b=b.nextElementSibling)b.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetEnd+=b[H]);if(g!==e){const b=y.getBoundingClientRect(),C=g.getBoundingClientRect();I===!0?(h.offsetStart+=C.left-b.left,h.offsetEnd-=C.width):(h.offsetStart+=C.top-b.top,h.offsetEnd-=C.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function kt(e,g,f,w){g==="end"&&(g=(e===window?document.body:e)[f===!0?"scrollWidth":"scrollHeight"]),e===window?f===!0?(w===!0&&(g=(st===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-g),window.scrollTo(g,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,g):f===!0?(w===!0&&(g=(st===!0?e.scrollWidth-e.offsetWidth:0)-g),e.scrollLeft=g):e.scrollTop=g}function Ye(e,g,f,w){if(f>=w)return 0;const I=g.length,a=Math.floor(f/me),q=Math.floor((w-1)/me)+1;let S=e.slice(a,q).reduce(Ne,0);return f%me!==0&&(S-=g.slice(a*me,f).reduce(Ne,0)),w%me!==0&&w!==I&&(S-=g.slice(w,q*me).reduce(Ne,0)),S}const Dl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},El={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Dl};function Pl({virtualScrollLength:e,getVirtualScrollTarget:g,getVirtualScrollEl:f,virtualScrollItemSizeComputed:w}){const I=Ke(),{props:a,emit:q,proxy:S}=I,{$q:y}=S;let H,h,b,C=[],O;const L=E(0),v=E(0),m=E({}),P=E(null),j=E(null),x=E(null),s=E({from:0,to:0}),N=d(()=>a.tableColspan!==void 0?a.tableColspan:100);w===void 0&&(w=d(()=>a.virtualScrollItemSize));const K=d(()=>w.value+";"+a.virtualScrollHorizontal),ae=d(()=>K.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ve(ae,()=>{Z()}),ve(K,Q);function Q(){J(h,!0)}function Se(n){J(n===void 0?h:n)}function se(n,r){const A=g();if(A==null||A.nodeType===8)return;const F=ot(A,f(),P.value,j.value,a.virtualScrollHorizontal,y.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);b!==F.scrollViewSize&&Z(F.scrollViewSize),W(A,F,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,Ll.indexOf(r)!==-1?r:h!==-1&&n>h?"end":"start")}function be(){const n=g();if(n==null||n.nodeType===8)return;const r=ot(n,f(),P.value,j.value,a.virtualScrollHorizontal,y.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),A=e.value-1,F=r.scrollMaxSize-r.offsetStart-r.offsetEnd-v.value;if(H===r.scrollStart)return;if(r.scrollMaxSize<=0){W(n,r,0,0);return}b!==r.scrollViewSize&&Z(r.scrollViewSize),ce(s.value.from);const Y=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(O[A],r.scrollViewSize/2));if(Y>0&&Math.ceil(r.scrollStart)>=Y){W(n,r,A,r.scrollMaxSize-r.offsetEnd-C.reduce(Ne,0));return}let B=0,M=r.scrollStart-r.offsetStart,U=M;if(M<=F&&M+r.scrollViewSize>=L.value)M-=L.value,B=s.value.from,U=M;else for(let p=0;M>=C[p]&&B<A;p++)M-=C[p],B+=me;for(;M>0&&B<A;)M-=O[B],M>-r.scrollViewSize?(B++,U=M):U=O[B]+M;W(n,r,B,U)}function W(n,r,A,F,Y){const B=typeof Y=="string"&&Y.indexOf("-force")!==-1,M=B===!0?Y.replace("-force",""):Y,U=M!==void 0?M:"start";let p=Math.max(0,A-m.value[U]),ne=p+m.value.total;ne>e.value&&(ne=e.value,p=Math.max(0,ne-m.value.total)),H=r.scrollStart;const re=p!==s.value.from||ne!==s.value.to;if(re===!1&&M===void 0){G(A);return}const{activeElement:qe}=document,de=x.value;re===!0&&de!==null&&de!==qe&&de.contains(qe)===!0&&(de.addEventListener("focusout",fe),setTimeout(()=>{de!==null&&de.removeEventListener("focusout",fe)})),Fl(de,A-p);const ze=M!==void 0?O.slice(p,A).reduce(Ne,0):0;if(re===!0){const we=ne>=s.value.from&&p<=s.value.to?s.value.to:ne;s.value={from:p,to:we},L.value=Ye(C,O,0,p),v.value=Ye(C,O,ne,e.value),requestAnimationFrame(()=>{s.value.to!==ne&&H===r.scrollStart&&(s.value={from:s.value.from,to:ne},v.value=Ye(C,O,ne,e.value))})}requestAnimationFrame(()=>{if(H!==r.scrollStart)return;re===!0&&ce(p);const we=O.slice(p,A).reduce(Ne,0),xe=we+r.offsetStart+L.value,Be=xe+O[A];let Ae=xe+F;if(M!==void 0){const je=we-ze,he=r.scrollStart+je;Ae=B!==!0&&he<xe&&Be<he+r.scrollViewSize?he:M==="end"?Be-r.scrollViewSize:xe-(M==="start"?0:Math.round((r.scrollViewSize-O[A])/2))}H=Ae,kt(n,Ae,a.virtualScrollHorizontal,y.lang.rtl),G(A)})}function ce(n){const r=x.value;if(r){const A=Ht.call(r.children,p=>p.classList&&p.classList.contains("q-virtual-scroll--skip")===!1),F=A.length,Y=a.virtualScrollHorizontal===!0?p=>p.getBoundingClientRect().width:p=>p.offsetHeight;let B=n,M,U;for(let p=0;p<F;){for(M=Y(A[p]),p++;p<F&&A[p].classList.contains("q-virtual-scroll--with-prev")===!0;)M+=Y(A[p]),p++;U=M-O[B],U!==0&&(O[B]+=U,C[Math.floor(B/me)]+=U),B++}}}function fe(){x.value!==null&&x.value!==void 0&&x.value.focus()}function J(n,r){const A=1*w.value;(r===!0||Array.isArray(O)===!1)&&(O=[]);const F=O.length;O.length=e.value;for(let B=e.value-1;B>=F;B--)O[B]=A;const Y=Math.floor((e.value-1)/me);C=[];for(let B=0;B<=Y;B++){let M=0;const U=Math.min((B+1)*me,e.value);for(let p=B*me;p<U;p++)M+=O[p];C.push(M)}h=-1,H=void 0,L.value=Ye(C,O,0,s.value.from),v.value=Ye(C,O,s.value.to,e.value),n>=0?(ce(s.value.from),_e(()=>{se(n)})):oe()}function Z(n){if(n===void 0&&typeof window<"u"){const M=g();M!=null&&M.nodeType!==8&&(n=ot(M,f(),P.value,j.value,a.virtualScrollHorizontal,y.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}b=n;const r=parseFloat(a.virtualScrollSliceRatioBefore)||0,A=parseFloat(a.virtualScrollSliceRatioAfter)||0,F=1+r+A,Y=n===void 0||n<=0?1:Math.ceil(n/w.value),B=Math.max(1,Y,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/F));m.value={total:Math.ceil(B*F),start:Math.ceil(B*r),center:Math.ceil(B*(.5+r)),end:Math.ceil(B*(1+r)),view:Y}}function _(n,r){const A=a.virtualScrollHorizontal===!0?"width":"height",F={["--q-virtual-scroll-item-"+A]:w.value+"px"};return[n==="tbody"?i(n,{class:"q-virtual-scroll__padding",key:"before",ref:P},[i("tr",[i("td",{style:{[A]:`${L.value}px`,...F},colspan:N.value})])]):i(n,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[A]:`${L.value}px`,...F}}),i(n,{class:"q-virtual-scroll__content",key:"content",ref:x,tabindex:-1},r.flat()),n==="tbody"?i(n,{class:"q-virtual-scroll__padding",key:"after",ref:j},[i("tr",[i("td",{style:{[A]:`${v.value}px`,...F},colspan:N.value})])]):i(n,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[A]:`${v.value}px`,...F}})]}function G(n){h!==n&&(a.onVirtualScroll!==void 0&&q("virtualScroll",{index:n,from:s.value.from,to:s.value.to-1,direction:n<h?"decrease":"increase",ref:S}),h=n)}Z();const oe=tl(be,y.platform.is.ios===!0?120:35);ll(()=>{Z()});let ye=!1;return nl(()=>{ye=!0}),ul(()=>{if(ye!==!0)return;const n=g();H!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?kt(n,H,a.virtualScrollHorizontal,y.lang.rtl):se(h)}),nt(()=>{oe.cancel()}),Object.assign(S,{scrollTo:se,reset:Q,refresh:Se}),{virtualScrollSliceRange:s,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:Z,onVirtualScrollEvt:oe,localResetVirtualScroll:J,padVirtualScroll:_,scrollTo:se,reset:Q,refresh:Se}}const Ct=e=>["add","add-unique","toggle"].includes(e),Rl=".*+?^${}()|[]\\",$l=Object.keys(ct),Zl=Te({name:"QSelect",inheritAttrs:!1,props:{...El,...It,...ct,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ct},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[..._t,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:g,emit:f}){const{proxy:w}=Ke(),{$q:I}=w,a=E(!1),q=E(!1),S=E(-1),y=E(""),H=E(!1),h=E(!1);let b=null,C=null,O,L,v,m=null,P,j,x,s;const N=E(null),K=E(null),ae=E(null),Q=E(null),Se=E(null),se=al(e),be=rl(mt),W=d(()=>Array.isArray(e.options)?e.options.length:0),ce=d(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:fe,virtualScrollSliceSizeComputed:J,localResetVirtualScroll:Z,padVirtualScroll:_,onVirtualScrollEvt:G,scrollTo:oe,setVirtualScrollSize:ye}=Pl({virtualScrollLength:W,getVirtualScrollTarget:Lt,getVirtualScrollEl:Ze,virtualScrollItemSizeComputed:ce}),n=Vt(),r=d(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,c=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const o=e.mapOptions===!0&&O!==void 0?O:[],V=c.map(R=>k(R,o));return e.modelValue===null&&t===!0?V.filter(R=>R!==null):V}return c}),A=d(()=>{const t={};return $l.forEach(c=>{const o=e[c];o!==void 0&&(t[c]=o)}),t}),F=d(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),Y=d(()=>yt(r.value)),B=d(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||r.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),M=d(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),U=d(()=>W.value===0),p=d(()=>r.value.map(t=>ee.value(t)).join(", ")),ne=d(()=>e.displayValue!==void 0?e.displayValue:p.value),re=d(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),qe=d(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||r.value.some(re.value))),de=d(()=>n.focused.value===!0?e.tabindex:-1),ze=d(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return S.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${S.value}`),t}),we=d(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),xe=d(()=>r.value.map((t,c)=>({index:c,opt:t,html:re.value(t),selected:!0,removeAtIndex:Qe,toggleOption:Ce,tabindex:de.value}))),Be=d(()=>{if(W.value===0)return[];const{from:t,to:c}=fe.value;return e.options.slice(t,c).map((o,V)=>{const R=Ve.value(o)===!0,D=$(o)===!0,le=t+V,X={clickable:!0,active:D,activeClass:he.value,manualFocus:!0,focused:!1,disable:R,tabindex:-1,dense:e.optionsDense,dark:F.value,role:"option","aria-selected":D===!0?"true":"false",id:`${n.targetUid.value}_${le}`,onClick:()=>{Ce(o)}};return R!==!0&&(S.value===le&&(X.focused=!0),I.platform.is.desktop===!0&&(X.onMousemove=()=>{a.value===!0&&l(le)})),{index:le,opt:o,html:re.value(o),label:ee.value(o),selected:X.active,focused:X.focused,toggleOption:Ce,setOptionIndex:l,itemProps:X}})}),Ae=d(()=>e.dropdownIcon!==void 0?e.dropdownIcon:I.iconSet.arrow.dropdown),je=d(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),he=d(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ue=d(()=>z(e.optionValue,"value")),ee=d(()=>z(e.optionLabel,"label")),Ve=d(()=>z(e.optionDisable,"disable")),Me=d(()=>r.value.map(t=>ue.value(t))),Xe=d(()=>{const t={onInput:mt,onChange:be,onKeydown:Je,onKeyup:te,onKeypress:ge,onFocus:ie,onClick(c){L===!0&&Pe(c)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=be,t});ve(r,t=>{O=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(q.value!==!0&&a.value!==!0||Y.value!==!0)&&(v!==!0&&Ee(),(q.value===!0||a.value===!0)&&Le(""))},{immediate:!0}),ve(()=>e.fillInput,Ee),ve(a,ut),ve(W,Wt);function He(t){return e.emitValue===!0?ue.value(t):t}function ke(t){if(t!==-1&&t<r.value.length)if(e.multiple===!0){const c=e.modelValue.slice();f("remove",{index:t,value:c.splice(t,1)[0]}),f("update:modelValue",c)}else f("update:modelValue",null)}function Qe(t){ke(t),n.focus()}function Ge(t,c){const o=He(t);if(e.multiple!==!0){e.fillInput===!0&&Ue(ee.value(t),!0,!0),f("update:modelValue",o);return}if(r.value.length===0){f("add",{index:0,value:o}),f("update:modelValue",e.multiple===!0?[o]:o);return}if(c===!0&&$(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const V=e.modelValue.slice();f("add",{index:V.length,value:o}),V.push(o),f("update:modelValue",V)}function Ce(t,c){if(n.editable.value!==!0||t===void 0||Ve.value(t)===!0)return;const o=ue.value(t);if(e.multiple!==!0){c!==!0&&(Ue(e.fillInput===!0?ee.value(t):"",!0,!0),Oe()),K.value!==null&&K.value.focus(),(r.value.length===0||We(ue.value(r.value[0]),o)!==!0)&&f("update:modelValue",e.emitValue===!0?o:t);return}if((L!==!0||H.value===!0)&&n.focus(),ie(),r.value.length===0){const D=e.emitValue===!0?o:t;f("add",{index:0,value:D}),f("update:modelValue",e.multiple===!0?[D]:D);return}const V=e.modelValue.slice(),R=Me.value.findIndex(D=>We(D,o));if(R!==-1)f("remove",{index:R,value:V.splice(R,1)[0]});else{if(e.maxValues!==void 0&&V.length>=e.maxValues)return;const D=e.emitValue===!0?o:t;f("add",{index:V.length,value:D}),V.push(D)}f("update:modelValue",V)}function l(t){if(I.platform.is.desktop!==!0)return;const c=t!==-1&&t<W.value?t:-1;S.value!==c&&(S.value=c)}function u(t=1,c){if(a.value===!0){let o=S.value;do o=xt(o+t,-1,W.value-1);while(o!==-1&&o!==S.value&&Ve.value(e.options[o])===!0);S.value!==o&&(l(o),oe(o),c!==!0&&e.useInput===!0&&e.fillInput===!0&&et(o>=0?ee.value(e.options[o]):P,!0))}}function k(t,c){const o=V=>We(ue.value(V),t);return e.options.find(o)||c.find(o)||t}function z(t,c){const o=t!==void 0?t:c;return typeof o=="function"?o:V=>V!==null&&typeof V=="object"&&o in V?V[o]:V}function $(t){const c=ue.value(t);return Me.value.find(o=>We(o,c))!==void 0}function ie(t){e.useInput===!0&&K.value!==null&&(t===void 0||K.value===t.target&&t.target.value===p.value)&&K.value.select()}function T(t){sl(t,27)===!0&&a.value===!0&&(Pe(t),Oe(),Ee()),f("keyup",t)}function te(t){const{value:c}=t.target;if(t.keyCode!==void 0){T(t);return}if(t.target.value="",b!==null&&(clearTimeout(b),b=null),C!==null&&(clearTimeout(C),C=null),Ee(),typeof c=="string"&&c.length!==0){const o=c.toLocaleLowerCase(),V=D=>{const le=e.options.find(X=>D.value(X).toLocaleLowerCase()===o);return le===void 0?!1:(r.value.indexOf(le)===-1?Ce(le):Oe(),!0)},R=D=>{V(ue)!==!0&&(V(ee)===!0||D===!0||Le(c,!0,()=>R(!0)))};R()}else n.clearValue(t)}function ge(t){f("keypress",t)}function Je(t){if(f("keydown",t),cl(t)===!0)return;const c=y.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),o=t.shiftKey!==!0&&e.multiple!==!0&&(S.value!==-1||c===!0);if(t.keyCode===27){it(t);return}if(t.keyCode===9&&o===!1){Fe();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&a.value===!1){Ie(t),De();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&y.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?ke(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&f("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof y.value!="string"||y.value.length===0)&&(Ie(t),S.value=-1,u(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&J.value!==void 0&&(Ie(t),S.value=Math.max(-1,Math.min(W.value,S.value+(t.keyCode===33?-1:1)*J.value.view)),u(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ie(t),u(t.keyCode===38?-1:1,e.multiple));const V=W.value;if((x===void 0||s<Date.now())&&(x=""),V>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||x.length!==0)){a.value!==!0&&De(t);const R=t.key.toLocaleLowerCase(),D=x.length===1&&x[0]===R;s=Date.now()+1500,D===!1&&(Ie(t),x+=R);const le=new RegExp("^"+x.split("").map(at=>Rl.indexOf(at)!==-1?"\\"+at:at).join(".*"),"i");let X=S.value;if(D===!0||X<0||le.test(ee.value(e.options[X]))!==!0)do X=xt(X+1,-1,V-1);while(X!==S.value&&(Ve.value(e.options[X])===!0||le.test(ee.value(e.options[X]))!==!0));S.value!==X&&_e(()=>{l(X),oe(X),X>=0&&e.useInput===!0&&e.fillInput===!0&&et(ee.value(e.options[X]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||x!=="")&&(t.keyCode!==9||o===!1))){if(t.keyCode!==9&&Ie(t),S.value!==-1&&S.value<V){Ce(e.options[S.value]);return}if(c===!0){const R=(D,le)=>{if(le){if(Ct(le)!==!0)return}else le=e.newValueMode;if(Ue("",e.multiple!==!0,!0),D==null)return;(le==="toggle"?Ce:Ge)(D,le==="add-unique"),e.multiple!==!0&&(K.value!==null&&K.value.focus(),Oe())};if(e.onNewValue!==void 0?f("newValue",y.value,R):R(y.value),e.multiple!==!0)return}a.value===!0?Fe():n.innerLoading.value!==!0&&De()}}function Ze(){return L===!0?Se.value:ae.value!==null&&ae.value.contentEl!==null?ae.value.contentEl:void 0}function Lt(){return Ze()}function Ft(){return e.hideSelected===!0?[]:g["selected-item"]!==void 0?xe.value.map(t=>g["selected-item"](t)).slice():g.selected!==void 0?[].concat(g.selected()):e.useChips===!0?xe.value.map((t,c)=>i(Hl,{key:"option-"+c,removable:n.editable.value===!0&&Ve.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:de.value,onRemove(){t.removeAtIndex(c)}},()=>i("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ee.value(t.opt)}))):[i("span",{[qe.value===!0?"innerHTML":"textContent"]:ne.value})]}function ft(){if(U.value===!0)return g["no-option"]!==void 0?g["no-option"]({inputValue:y.value}):void 0;const t=g.option!==void 0?g.option:o=>i(zt,{key:o.index,...o.itemProps},()=>i(lt,()=>i(rt,()=>i("span",{[o.html===!0?"innerHTML":"textContent"]:o.label}))));let c=_("div",Be.value.map(t));return g["before-options"]!==void 0&&(c=g["before-options"]().concat(c)),dl(g["after-options"],c)}function Dt(t,c){const o=c===!0?{...ze.value,...n.splitAttrs.attributes.value}:void 0,V={ref:c===!0?K:void 0,key:"i_t",class:B.value,style:e.inputStyle,value:y.value!==void 0?y.value:"",type:"search",...o,id:c===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Xe.value};return t!==!0&&L===!0&&(Array.isArray(V.class)===!0?V.class=[...V.class,"no-pointer-events"]:V.class+=" no-pointer-events"),i("input",V)}function mt(t){b!==null&&(clearTimeout(b),b=null),C!==null&&(clearTimeout(C),C=null),!(t&&t.target&&t.target.qComposing===!0)&&(et(t.target.value||""),v=!0,P=y.value,n.focused.value!==!0&&(L!==!0||H.value===!0)&&n.focus(),e.onFilter!==void 0&&(b=setTimeout(()=>{b=null,Le(y.value)},e.inputDebounce)))}function et(t,c){y.value!==t&&(y.value=t,c===!0||e.inputDebounce===0||e.inputDebounce==="0"?f("inputValue",t):C=setTimeout(()=>{C=null,f("inputValue",t)},e.inputDebounce))}function Ue(t,c,o){v=o!==!0,e.useInput===!0&&(et(t,!0),(c===!0||o!==!0)&&(P=t),c!==!0&&Le(t))}function Le(t,c,o){if(e.onFilter===void 0||c!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?f("filterAbort"):(n.innerLoading.value=!0,h.value=!0),t!==""&&e.multiple!==!0&&r.value.length!==0&&v!==!0&&t===ee.value(r.value[0])&&(t="");const V=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);m!==null&&clearTimeout(m),m=V,f("filter",t,(R,D)=>{(c===!0||n.focused.value===!0)&&m===V&&(clearTimeout(m),typeof R=="function"&&R(),h.value=!1,_e(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(c===!0?a.value===!0&&Oe():a.value===!0?ut(!0):a.value=!0),typeof D=="function"&&_e(()=>{D(w)}),typeof o=="function"&&_e(()=>{o(w)})}))},()=>{n.focused.value===!0&&m===V&&(clearTimeout(m),n.innerLoading.value=!1,h.value=!1),a.value===!0&&(a.value=!1)})}function Et(){return i(Bt,{ref:ae,class:M.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&U.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:F.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:je.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...we.value,onScrollPassive:G,onBeforeShow:gt,onBeforeHide:Pt,onShow:Rt},ft)}function Pt(t){St(t),Fe()}function Rt(){ye()}function $t(t){Pe(t),K.value!==null&&K.value.focus(),H.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Nt(t){Pe(t),_e(()=>{H.value=!1})}function Kt(){const t=[i(zl,{class:`col-auto ${n.fieldClass.value}`,...A.value,for:n.targetUid.value,dark:F.value,square:!0,loading:h.value,itemAligned:!1,filled:!0,stackLabel:y.value.length!==0,...n.splitAttrs.listeners.value,onFocus:$t,onBlur:Nt},{...g,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&t.push(i("div",{ref:Se,class:M.value+" scroll",style:e.popupContentStyle,...we.value,onClick:it,onScrollPassive:G},ft())),i(At,{ref:Q,modelValue:q.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:gt,onBeforeHide:jt,onHide:Qt,onShow:Ut},()=>i("div",{class:"q-select__dialog"+(F.value===!0?" q-select__dialog--dark q-dark":"")+(H.value===!0?" q-select__dialog--focused":"")},t))}function jt(t){St(t),Q.value!==null&&Q.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function Qt(t){Oe(),n.focused.value===!1&&f("blur",t),Ee()}function Ut(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&K.value!==null&&K.value!==t&&K.value.focus(),ye()}function Fe(){q.value!==!0&&(S.value=-1,a.value===!0&&(a.value=!1),n.focused.value===!1&&(m!==null&&(clearTimeout(m),m=null),n.innerLoading.value===!0&&(f("filterAbort"),n.innerLoading.value=!1,h.value=!1)))}function De(t){n.editable.value===!0&&(L===!0?(n.onControlFocusin(t),q.value=!0,_e(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?Le(y.value):(U.value!==!0||g["no-option"]!==void 0)&&(a.value=!0))}function Oe(){q.value=!1,Fe()}function Ee(){e.useInput===!0&&Ue(e.multiple!==!0&&e.fillInput===!0&&r.value.length!==0&&ee.value(r.value[0])||"",!0,!0)}function ut(t){let c=-1;if(t===!0){if(r.value.length!==0){const o=ue.value(r.value[0]);c=e.options.findIndex(V=>We(ue.value(V),o))}Z(c)}l(c)}function Wt(t,c){a.value===!0&&n.innerLoading.value===!1&&(Z(-1,!0),_e(()=>{a.value===!0&&n.innerLoading.value===!1&&(t>c?Z():ut(!0))}))}function ht(){q.value===!1&&ae.value!==null&&ae.value.updatePosition()}function gt(t){t!==void 0&&Pe(t),f("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function St(t){t!==void 0&&Pe(t),f("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function bt(){L=I.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?g["no-option"]!==void 0||e.onFilter!==void 0||U.value===!1:!0),j=I.platform.is.ios===!0&&L===!0&&e.useInput===!0?"fade":e.transitionShow}return il(bt),ol(ht),bt(),nt(()=>{b!==null&&clearTimeout(b),C!==null&&clearTimeout(C)}),Object.assign(w,{showPopup:De,hidePopup:Oe,removeAtIndex:ke,add:Ge,toggleOption:Ce,getOptionIndex:()=>S.value,setOptionIndex:l,moveOptionSelection:u,filter:Le,updateMenuPosition:ht,updateInputValue:Ue,isOptionSelected:$,getEmittingOptionValue:He,isOptionDisabled:(...t)=>Ve.value.apply(null,t)===!0,getOptionValue:(...t)=>ue.value.apply(null,t),getOptionLabel:(...t)=>ee.value.apply(null,t)}),Object.assign(n,{innerValue:r,fieldClass:d(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:N,targetRef:K,hasValue:Y,showPopup:De,floatingLabel:d(()=>e.hideSelected!==!0&&Y.value===!0||typeof y.value=="number"||y.value.length!==0||yt(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(q.value===!0||U.value!==!0||g["no-option"]!==void 0))return L===!0?Kt():Et();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{Ee(),Fe()})},onClick(t){if(it(t),L!==!0&&a.value===!0){Fe(),K.value!==null&&K.value.focus();return}De(t)}},getControl:t=>{const c=Ft(),o=t===!0||q.value!==!0||L!==!0;if(e.useInput===!0)c.push(Dt(t,o));else if(n.editable.value===!0){const R=o===!0?ze.value:void 0;c.push(i("input",{ref:o===!0?K:void 0,key:"d_t",class:"q-select__focus-target",id:o===!0?n.targetUid.value:void 0,value:ne.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...R,onKeydown:Je,onKeyup:T,onKeypress:ge})),o===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&c.push(i("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:te}))}if(se.value!==void 0&&e.disable!==!0&&Me.value.length!==0){const R=Me.value.map(D=>i("option",{value:D,selected:!0}));c.push(i("select",{class:"hidden",name:se.value,multiple:e.multiple},R))}const V=e.useInput===!0||o!==!0?void 0:n.splitAttrs.attributes.value;return i("div",{class:"q-field__native row items-center",...V,...n.splitAttrs.listeners.value},c)},getInnerAppend:()=>e.loading!==!0&&h.value!==!0&&e.hideDropdownIcon!==!0?[i($e,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Ae.value})]:null}),qt(n)}}),en=Te({name:"QPopupProxy",props:{...ql,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:g,emit:f,attrs:w}){const{proxy:I}=Ke(),{$q:a}=I,q=E(!1),S=E(null),y=d(()=>parseInt(e.breakpoint,10)),{canShow:H}=Vl({showing:q});function h(){return a.screen.width<y.value||a.screen.height<y.value?"dialog":"menu"}const b=E(h()),C=d(()=>b.value==="menu"?{maxHeight:"99vh"}:{});ve(()=>h(),v=>{q.value!==!0&&(b.value=v)});function O(v){q.value=!0,f("show",v)}function L(v){q.value=!1,b.value=h(),f("hide",v)}return Object.assign(I,{show(v){H(v)===!0&&S.value.show(v)},hide(v){S.value.hide(v)},toggle(v){S.value.toggle(v)}}),vl(I,"currentComponent",()=>({type:b.value,ref:S.value})),()=>{const v={ref:S,...C.value,...w,onShow:O,onHide:L};let m;return b.value==="dialog"?m=At:(m=Bt,Object.assign(v,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),i(m,v,g.default)}}});function Nl(e,g){if(e.hour!==null){if(e.minute===null)return"minute";if(g===!0&&e.second===null)return"second"}return"hour"}function Kl(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}const tn=Te({name:"QTime",props:{...dt,...It,...Al,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Ml,setup(e,{slots:g,emit:f}){const w=Ke(),{$q:I}=w.proxy,a=vt(e,I),{tabindex:q,headerClass:S,getLocale:y,getCurrentDate:H}=Ol(e,I),h=fl(e),b=hl(h);let C,O;const L=E(null),v=d(()=>Y()),m=d(()=>y()),P=d(()=>B()),j=tt(e.modelValue,v.value,m.value,e.calendar,P.value),x=E(Nl(j)),s=E(j),N=E(j.hour===null||j.hour<12),K=d(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(a.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ae=d(()=>{const l=s.value;return{hour:l.hour===null?"--":Q.value===!0?Re(l.hour):String(N.value===!0?l.hour===0?12:l.hour:l.hour>12?l.hour-12:l.hour),minute:l.minute===null?"--":Re(l.minute),second:l.second===null?"--":Re(l.second)}}),Q=d(()=>e.format24h!==null?e.format24h:I.lang.date.format24h),Se=d(()=>{const l=x.value==="hour",u=l===!0?12:60,k=s.value[x.value];let $=`rotate(${Math.round(k*(360/u))-180}deg) translateX(-50%)`;return l===!0&&Q.value===!0&&s.value.hour>=12&&($+=" scale(.7)"),{transform:$}}),se=d(()=>s.value.hour!==null),be=d(()=>se.value===!0&&s.value.minute!==null),W=d(()=>e.hourOptions!==void 0?l=>e.hourOptions.includes(l):e.options!==void 0?l=>e.options(l,null,null):null),ce=d(()=>e.minuteOptions!==void 0?l=>e.minuteOptions.includes(l):e.options!==void 0?l=>e.options(s.value.hour,l,null):null),fe=d(()=>e.secondOptions!==void 0?l=>e.secondOptions.includes(l):e.options!==void 0?l=>e.options(s.value.hour,s.value.minute,l):null),J=d(()=>{if(W.value===null)return null;const l=r(0,11,W.value),u=r(12,11,W.value);return{am:l,pm:u,values:l.values.concat(u.values)}}),Z=d(()=>ce.value!==null?r(0,59,ce.value):null),_=d(()=>fe.value!==null?r(0,59,fe.value):null),G=d(()=>{switch(x.value){case"hour":return J.value;case"minute":return Z.value;case"second":return _.value}}),oe=d(()=>{let l,u,k=0,z=1;const $=G.value!==null?G.value.values:void 0;x.value==="hour"?Q.value===!0?(l=0,u=23):(l=0,u=11,N.value===!1&&(k=12)):(l=0,u=55,z=5);const ie=[];for(let T=l,te=l;T<=u;T+=z,te++){const ge=T+k,Je=$!==void 0&&$.includes(ge)===!1,Ze=x.value==="hour"&&T===0?Q.value===!0?"00":"12":T;ie.push({val:ge,index:te,disable:Je,label:Ze})}return ie}),ye=d(()=>[[Il,p,void 0,{stop:!0,prevent:!0,mouse:!0}]]);ve(()=>e.modelValue,l=>{const u=tt(l,v.value,m.value,e.calendar,P.value);(u.dateHash!==s.value.dateHash||u.timeHash!==s.value.timeHash)&&(s.value=u,u.hour===null?x.value="hour":N.value=u.hour<12)}),ve([v,m],()=>{_e(()=>{Qe()})});function n(){const l={...H(),...Kl()};Qe(l),Object.assign(s.value,l),x.value="hour"}function r(l,u,k){const z=Array.apply(null,{length:u+1}).map(($,ie)=>{const T=ie+l;return{index:T,val:k(T)===!0}}).filter($=>$.val===!0).map($=>$.index);return{min:z[0],max:z[z.length-1],values:z,threshold:u+1}}function A(l,u,k){const z=Math.abs(l-u);return Math.min(z,k-z)}function F(l,{min:u,max:k,values:z,threshold:$}){if(l===u)return u;if(l<u||l>k)return A(l,u,$)<=A(l,k,$)?u:k;const ie=z.findIndex(ge=>l<=ge),T=z[ie-1],te=z[ie];return l-T<=te-l?T:te}function Y(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function B(){if(typeof e.defaultDate!="string"){const l=H(!0);return l.dateHash=pl(l),l}return tt(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function M(){return gl(w)===!0||G.value!==null&&(G.value.values.length===0||x.value==="hour"&&Q.value!==!0&&J.value[N.value===!0?"am":"pm"].values.length===0)}function U(){const l=L.value,{top:u,left:k,width:z}=l.getBoundingClientRect(),$=z/2;return{top:u+$,left:k+$,dist:$*.7}}function p(l){if(M()!==!0){if(l.isFirst===!0){C=U(),O=re(l.evt,C);return}O=re(l.evt,C,O),l.isFinal===!0&&(C=!1,O=null,ne())}}function ne(){x.value==="hour"?x.value="minute":e.withSeconds&&x.value==="minute"&&(x.value="second")}function re(l,u,k){const z=ml(l),$=Math.abs(z.top-u.top),ie=Math.sqrt(Math.pow(Math.abs(z.top-u.top),2)+Math.pow(Math.abs(z.left-u.left),2));let T,te=Math.asin($/ie)*(180/Math.PI);if(z.top<u.top?te=u.left<z.left?90-te:270+te:te=u.left<z.left?te+90:270-te,x.value==="hour"){if(T=te/30,J.value!==null){const ge=Q.value!==!0?N.value===!0:J.value.am.values.length!==0&&J.value.pm.values.length!==0?ie>=u.dist:J.value.am.values.length!==0;T=F(T+(ge===!0?0:12),J.value[ge===!0?"am":"pm"])}else T=Math.round(T),Q.value===!0?ie<u.dist?T<12&&(T+=12):T===12&&(T=0):N.value===!0&&T===12?T=0:N.value===!1&&T!==12&&(T+=12);Q.value===!0&&(N.value=T<12)}else T=Math.round(te/6)%60,x.value==="minute"&&Z.value!==null?T=F(T,Z.value):x.value==="second"&&_.value!==null&&(T=F(T,_.value));return k!==T&&Ve[x.value](T),T}const qe={hour(){x.value="hour"},minute(){x.value="minute"},second(){x.value="second"}};function de(l){l.keyCode===13&&Me()}function ze(l){l.keyCode===13&&Xe()}function we(l){M()!==!0&&(I.platform.is.desktop!==!0&&re(l,U()),ne())}function xe(l){M()!==!0&&re(l,U())}function Be(l){if(l.keyCode===13)x.value="hour";else if([37,39].includes(l.keyCode)){const u=l.keyCode===37?-1:1;if(J.value!==null){const k=Q.value===!0?J.value.values:J.value[N.value===!0?"am":"pm"].values;if(k.length===0)return;if(s.value.hour===null)he(k[0]);else{const z=(k.length+k.indexOf(s.value.hour)+u)%k.length;he(k[z])}}else{const k=Q.value===!0?24:12,z=Q.value!==!0&&N.value===!1?12:0,$=s.value.hour===null?-u:s.value.hour;he(z+(24+$+u)%k)}}}function Ae(l){if(l.keyCode===13)x.value="minute";else if([37,39].includes(l.keyCode)){const u=l.keyCode===37?-1:1;if(Z.value!==null){const k=Z.value.values;if(k.length===0)return;if(s.value.minute===null)ue(k[0]);else{const z=(k.length+k.indexOf(s.value.minute)+u)%k.length;ue(k[z])}}else{const k=s.value.minute===null?-u:s.value.minute;ue((60+k+u)%60)}}}function je(l){if(l.keyCode===13)x.value="second";else if([37,39].includes(l.keyCode)){const u=l.keyCode===37?-1:1;if(_.value!==null){const k=_.value.values;if(k.length===0)return;if(s.value.seconds===null)ee(k[0]);else{const z=(k.length+k.indexOf(s.value.second)+u)%k.length;ee(k[z])}}else{const k=s.value.second===null?-u:s.value.second;ee((60+k+u)%60)}}}function he(l){s.value.hour!==l&&(s.value.hour=l,ke())}function ue(l){s.value.minute!==l&&(s.value.minute=l,ke())}function ee(l){s.value.second!==l&&(s.value.second=l,ke())}const Ve={hour:he,minute:ue,second:ee};function Me(){N.value===!1&&(N.value=!0,s.value.hour!==null&&(s.value.hour-=12,ke()))}function Xe(){N.value===!0&&(N.value=!1,s.value.hour!==null&&(s.value.hour+=12,ke()))}function He(l){const u=e.modelValue;x.value!==l&&u!==void 0&&u!==null&&u!==""&&typeof u!="string"&&(x.value=l)}function ke(){if(W.value!==null&&W.value(s.value.hour)!==!0){s.value=tt(),He("hour");return}if(ce.value!==null&&ce.value(s.value.minute)!==!0){s.value.minute=null,s.value.second=null,He("minute");return}if(e.withSeconds===!0&&fe.value!==null&&fe.value(s.value.second)!==!0){s.value.second=null,He("second");return}s.value.hour===null||s.value.minute===null||e.withSeconds===!0&&s.value.second===null||Qe()}function Qe(l){const u=Object.assign({...s.value},l),k=e.calendar==="persian"?Re(u.hour)+":"+Re(u.minute)+(e.withSeconds===!0?":"+Re(u.second):""):Tl(new Date(u.year,u.month===null?null:u.month-1,u.day,u.hour,u.minute,u.second,u.millisecond),v.value,m.value,u.year,u.timezoneOffset);u.changed=k!==e.modelValue,f("update:modelValue",k,u)}function Ge(){const l=[i("div",{class:"q-time__link "+(x.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:qe.hour,onKeyup:Be},ae.value.hour),i("div",":"),i("div",se.value===!0?{class:"q-time__link "+(x.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onKeyup:Ae,onClick:qe.minute}:{class:"q-time__link"},ae.value.minute)];e.withSeconds===!0&&l.push(i("div",":"),i("div",be.value===!0?{class:"q-time__link "+(x.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onKeyup:je,onClick:qe.second}:{class:"q-time__link"},ae.value.second));const u=[i("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},l)];return Q.value===!1&&u.push(i("div",{class:"q-time__header-ampm column items-between no-wrap"},[i("div",{class:"q-time__link "+(N.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:Me,onKeyup:de},"AM"),i("div",{class:"q-time__link "+(N.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:q.value,onClick:Xe,onKeyup:ze},"PM")])),i("div",{class:"q-time__header flex flex-center no-wrap "+S.value},u)}function Ce(){const l=s.value[x.value];return i("div",{class:"q-time__content col relative-position"},[i(Ot,{name:"q-transition--scale"},()=>i("div",{key:"clock"+x.value,class:"q-time__container-parent absolute-full"},[i("div",{ref:L,class:"q-time__container-child fit overflow-hidden"},[pt(i("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:we,onMousedown:xe},[i("div",{class:"q-time__clock-circle fit"},[i("div",{class:"q-time__clock-pointer"+(s.value[x.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Se.value}),oe.value.map(u=>i("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${u.index}`+(u.val===l?" q-time__clock-position--active "+S.value:u.disable===!0?" q-time__clock-position--disable":"")},[i("span",u.label)]))])]),ye.value)])])),e.nowBtn===!0?i(Sl,{class:"q-time__now-button absolute",icon:I.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:q.value,onClick:n}):null])}return w.proxy.setNow=n,()=>{const l=[Ce()],u=Mt(g.default);return u!==void 0&&l.push(i("div",{class:"q-time__actions"},u)),e.name!==void 0&&e.disable!==!0&&b(l,"push"),i("div",{class:K.value,tabindex:-1},[Ge(),i("div",{class:"q-time__main col overflow-auto"},l)])}}}),jl=Te({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:g,emit:f}){let w=!1,I,a,q=null,S=null,y,H;function h(){I&&I(),I=null,w=!1,q!==null&&(clearTimeout(q),q=null),S!==null&&(clearTimeout(S),S=null),a!==void 0&&a.removeEventListener("transitionend",y),y=null}function b(v,m,P){m!==void 0&&(v.style.height=`${m}px`),v.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,w=!0,I=P}function C(v,m){v.style.overflowY=null,v.style.height=null,v.style.transition=null,h(),m!==H&&f(m)}function O(v,m){let P=0;a=v,w===!0?(h(),P=v.offsetHeight===v.scrollHeight?0:void 0):(H="hide",v.style.overflowY="hidden"),b(v,P,m),q=setTimeout(()=>{q=null,v.style.height=`${v.scrollHeight}px`,y=j=>{S=null,(Object(j)!==j||j.target===v)&&C(v,"show")},v.addEventListener("transitionend",y),S=setTimeout(y,e.duration*1.1)},100)}function L(v,m){let P;a=v,w===!0?h():(H="show",v.style.overflowY="hidden",P=v.scrollHeight),b(v,P,m),q=setTimeout(()=>{q=null,v.style.height=0,y=j=>{S=null,(Object(j)!==j||j.target===v)&&C(v,"hide")},v.addEventListener("transitionend",y),S=setTimeout(y,e.duration*1.1)},100)}return nt(()=>{w===!0&&h()}),()=>i(Ot,{css:!1,appear:e.appear,onEnter:O,onLeave:L},g.default)}}),pe=bl({}),Ql=Object.keys(Tt),ln=Te({name:"QExpansionItem",props:{...Tt,...yl,...dt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...wl,"click","afterShow","afterHide"],setup(e,{slots:g,emit:f}){const{proxy:{$q:w}}=Ke(),I=vt(e,w),a=E(e.modelValue!==null?e.modelValue:e.defaultOpened),q=E(null),S=xl(),{show:y,hide:H,toggle:h}=kl({showing:a});let b,C;const O=d(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),L=d(()=>e.contentInsetLevel===void 0?null:{["padding"+(w.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),v=d(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),m=d(()=>{const _={};return Ql.forEach(G=>{_[G]=e[G]}),_}),P=d(()=>v.value===!0||e.expandIconToggle!==!0),j=d(()=>e.expandedIcon!==void 0&&a.value===!0?e.expandedIcon:e.expandIcon||w.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),x=d(()=>e.disable!==!0&&(v.value===!0||e.expandIconToggle===!0)),s=d(()=>({expanded:a.value===!0,detailsId:e.targetUid,toggle:h,show:y,hide:H})),N=d(()=>{const _=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:w.lang.label[a.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":S.value,"aria-label":_}});ve(()=>e.group,_=>{C!==void 0&&C(),_!==void 0&&be()});function K(_){v.value!==!0&&h(_),f("click",_)}function ae(_){_.keyCode===13&&Q(_,!0)}function Q(_,G){G!==!0&&q.value!==null&&q.value.focus(),h(_),Ie(_)}function Se(){f("afterShow")}function se(){f("afterHide")}function be(){b===void 0&&(b=Cl()),a.value===!0&&(pe[e.group]=b);const _=ve(a,oe=>{oe===!0?pe[e.group]=b:pe[e.group]===b&&delete pe[e.group]}),G=ve(()=>pe[e.group],(oe,ye)=>{ye===b&&oe!==void 0&&oe!==b&&H()});C=()=>{_(),G(),pe[e.group]===b&&delete pe[e.group],C=void 0}}function W(){const _={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},G=[i($e,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:j.value})];return x.value===!0&&(Object.assign(_,{tabindex:0,...N.value,onClick:Q,onKeyup:ae}),G.unshift(i("div",{ref:q,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),i(lt,_,()=>G)}function ce(){let _;return g.header!==void 0?_=[].concat(g.header(s.value)):(_=[i(lt,()=>[i(rt,{lines:e.labelLines},()=>e.label||""),e.caption?i(rt,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&_[e.switchToggleSide===!0?"push":"unshift"](i(lt,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>i($e,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&_[e.switchToggleSide===!0?"unshift":"push"](W()),_}function fe(){const _={ref:"item",style:e.headerStyle,class:e.headerClass,dark:I.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return P.value===!0&&(_.clickable=!0,_.onClick=K,Object.assign(_,v.value===!0?m.value:N.value)),i(zt,_,ce)}function J(){return pt(i("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:L.value,id:S.value},Mt(g.default)),[[_l,a.value]])}function Z(){const _=[fe(),i(jl,{duration:e.duration,onShow:Se,onHide:se},J)];return e.expandSeparator===!0&&_.push(i(wt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:I.value}),i(wt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:I.value})),_}return e.group!==void 0&&be(),nt(()=>{C!==void 0&&C()}),()=>i("div",{class:O.value},[i("div",{class:"q-expansion-item__container relative-position"},Z())])}});export{Zl as Q,en as a,tn as b,ln as c};
