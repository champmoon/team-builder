import{P as ue,c as g,a as pe,_ as fe}from"./index-S1t7jIR0.js";import{c as E,d as p,a as O,b as m,e as i,f as s,g as h,m as v,i as e,n as P,k as G,v as t,B as y,a0 as ve,h as f,l as x,j as S,V as A,F as me,x as _e,R as ye,r as K,u as xe,aj as $e,C as R,au as Q,_ as W,aI as ke,D as we,aJ as T,M as J,N as X,O as Y,Q as Se,z as Z,aG as Ce,o as Oe,at as Ae}from"./index-DLHU7c2Y.js";import{c as Ee}from"./useId-DCbrToum.js";import{_ as Ie,a as ze,b as Be,c as Me,d as ae,f as se}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BNIYR6d6.js";import{a as he}from"./useForwardPropsEmits-PfBqLJL5.js";import{a as Pe,b as Re,c as Te,d as Ne,e as Le,X as Ve,f as De,g as Fe,_ as He,h as Ue}from"./Modal.vue_vue_type_script_setup_true_lang-CuXroU--.js";import{u as je,F as L,_ as V,a as D,b as F,d as H,c as U,t as qe}from"./Input.vue_vue_type_script_setup_true_lang-D-dUZtmQ.js";import{_ as oe,a as ne}from"./index-CSFRJgf8.js";import{b as Ge,c as Ke,i as re,d as Qe,e as We,f as le,g as Je,h as j}from"./AvatarImage.vue_vue_type_script_setup_true_lang-CGQnCu4W.js";import{_ as q}from"./Skeleton.vue_vue_type_script_setup_true_lang-BUq85WC_.js";import{_ as Xe}from"./Switch.vue_vue_type_script_setup_true_lang-CBjIxb1Q.js";import{C as Ye}from"./chevrons-up-down-D27wsbA1.js";import{M as Ze}from"./moon-CJVmFPiY.js";import"./PopperContent-bRObJEC0.js";import"./getActiveElement-PSEvxwrx.js";import"./useBodyScrollLock-DbBY7mPc.js";import"./Collection-V5NtFpxF.js";import"./useFormControl-u48-BFO-.js";import"./useFocusGuards-DYgzZOh7.js";import"./RovingFocusGroup-VfN6yUPF.js";import"./utils-B4geQHNq.js";import"./VisuallyHiddenInput-Du5qlbeu.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=E("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=E("LifeBuoyIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=E("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=E("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=E("TabletSmartphoneIcon",[["rect",{width:"10",height:"14",x:"3",y:"8",rx:"2",key:"1vrsiq"}],["path",{d:"M5 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-2.4",key:"1j4zmg"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=E("TrophyIcon",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=E("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),lt=p({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const a=n,o=["horizontal","vertical"];function r(_){return o.includes(_)}const c=O(()=>r(a.orientation)?a.orientation:"horizontal"),d=O(()=>c.value==="vertical"?a.orientation:void 0),l=O(()=>a.decorative?{role:"none"}:{"aria-orientation":d.value,role:"separator"});return(_,w)=>(i(),m(e(ue),v({as:_.as,"as-child":_.asChild,"data-orientation":c.value},l.value),{default:s(()=>[h(_.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),it=p({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const a=n;return(o,r)=>(i(),m(lt,P(G(a)),{default:s(()=>[h(o.$slots,"default")]),_:3},16))}}),dt=p({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const c=he(n,a);return(d,l)=>(i(),m(e(Pe),P(G(e(c))),{default:s(()=>[h(d.$slots,"default")]),_:3},16))}}),ct=p({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const o=n,r=a,c=O(()=>{const{class:l,side:_,...w}=o;return w}),d=he(c,r);return(l,_)=>(i(),m(e(Re),null,{default:s(()=>[t(e(Te),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),t(e(Ne),v({class:e(g)(e(ft)({side:l.side}),o.class)},{...e(d),...l.$attrs}),{default:s(()=>[h(l.$slots,"default"),t(e(Le),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:s(()=>[t(e(Ve),{class:"h-4 w-4 text-muted-foreground"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),ut=p({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,o=O(()=>{const{class:r,...c}=a;return c});return(r,c)=>(i(),m(e(De),v({class:e(g)("text-sm text-muted-foreground",a.class)},o.value),{default:s(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),pt=p({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,o=O(()=>{const{class:r,...c}=a;return c});return(r,c)=>(i(),m(e(Fe),v({class:e(g)("text-lg font-semibold text-foreground",a.class)},o.value),{default:s(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),ft=pe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),mt="sidebar:state",_t=60*60*24*7,ht="20rem",gt="18rem",bt="3rem",vt="b",[M,yt]=Ee("Sidebar"),xt={class:"flex h-full w-full flex-col"},$t=["data-state","data-collapsible","data-variant","data-side"],kt={"data-sidebar":"sidebar",class:"flex h-full w-full flex-col bg-sidebar text-sidebar-foreground group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},wt=p({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{},title:{},description:{}},setup(n){const a=n,{isMobile:o,state:r,openMobile:c,setOpenMobile:d}=M();return(l,_)=>l.collapsible==="none"?(i(),y("div",v({key:0,class:e(g)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a.class)},l.$attrs),[h(l.$slots,"default")],16)):e(o)?(i(),m(e(dt),v({key:1,open:e(c)},l.$attrs,{"onUpdate:open":e(d)}),{default:s(()=>[t(e(ct),{style:ve({"--sidebar-width":e(gt)}),side:l.side,"data-sidebar":"sidebar","data-mobile":"true",class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"},{default:s(()=>[t(e(pt),{class:"hidden"},{default:s(()=>[x(S(a.title),1)]),_:1}),t(e(ut),{class:"hidden"},{default:s(()=>[x(S(a.description),1)]),_:1}),f("div",xt,[h(l.$slots,"default")])]),_:3},8,["style","side"])]),_:3},16,["open","onUpdate:open"])):(i(),y("div",{key:2,"data-state":e(r),"data-collapsible":e(r)==="collapsed"?l.collapsible:"","data-variant":l.variant,"data-side":l.side,class:"group peer hidden md:block"},[f("div",{class:A(e(g)(`relative h-svh w-[--sidebar-width] bg-transparent transition-[width]
          duration-200 ease-linear`,"group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",l.variant==="floating"||l.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]"))},null,2),f("div",v({class:e(g)(`fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width]
          transition-[left,right,width] duration-200 ease-linear md:flex`,l.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",l.variant==="floating"||l.variant==="inset"?`p-2
              group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon]
              group-data-[side=left]:border-r group-data-[side=right]:border-l`,a.class)},l.$attrs),[f("div",kt,[h(l.$slots,"default")])],16)],8,$t))}}),St=p({__name:"SidebarContent",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("div",{class:A(e(g)(`flex min-h-0 flex-1 flex-col gap-2 overflow-auto
        group-data-[collapsible=icon]:overflow-hidden`,a.class)),"data-sidebar":"content"},[h(o.$slots,"default")],2))}}),Ct=p({__name:"SidebarFooter",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("div",{class:A(e(g)("flex flex-col gap-2 p-2",a.class)),"data-sidebar":"footer"},[h(o.$slots,"default")],2))}}),ie=p({__name:"SidebarGroup",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("div",{class:A(e(g)("relative flex w-full min-w-0 flex-col p-2",a.class)),"data-sidebar":"group"},[h(o.$slots,"default")],2))}}),Ot=p({__name:"SidebarHeader",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("div",{class:A(e(g)("flex flex-col gap-2 p-2",a.class)),"data-sidebar":"header"},[h(o.$slots,"default")],2))}}),At=p({__name:"SidebarInset",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("main",{class:A(e(g)("relative flex min-h-svh flex-1 flex-col bg-background",`peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))]
        md:peer-data-[variant=inset]:m-2
        md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-1
        md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl
        md:peer-data-[variant=inset]:shadow`,a.class))},[h(o.$slots,"default")],2))}}),N=p({__name:"SidebarMenu",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("ul",{class:A(e(g)("flex w-full min-w-0 flex-col gap-1",a.class)),"data-sidebar":"menu"},[h(o.$slots,"default")],2))}}),de=p({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;return(o,r)=>(i(),m(e(ue),v({"data-size":o.size,"data-active":o.isActive,class:e(g)(e(zt)({variant:o.variant,size:o.size}),a.class),as:o.as,"as-child":o.asChild,"data-sidebar":"menu-button"},o.$attrs),{default:s(()=>[h(o.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),z=p({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(n){const a=n,{isMobile:o,state:r}=M(),c=O(()=>{const{tooltip:d,...l}=a;return l});return(d,l)=>d.tooltip?(i(),m(e(Ie),{key:1},{default:s(()=>[t(e(ze),{"as-child":""},{default:s(()=>[t(de,P(G({...c.value,...d.$attrs})),{default:s(()=>[h(d.$slots,"default")]),_:3},16)]),_:3}),t(e(Be),{hidden:e(r)!=="collapsed"||e(o),side:"right",align:"center"},{default:s(()=>[typeof d.tooltip=="string"?(i(),y(me,{key:0},[x(S(d.tooltip),1)],64)):(i(),m(_e(d.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(i(),m(de,P(v({key:0},{...c.value,...d.$attrs})),{default:s(()=>[h(d.$slots,"default")]),_:3},16))}}),B=p({__name:"SidebarMenuItem",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),y("li",{class:A(e(g)("group/menu-item relative",a.class)),"data-sidebar":"menu-item"},[h(o.$slots,"default")],2))}}),Et=p({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(n,{emit:a}){const o=n,r=a,c=ye("(max-width: 768px)"),d=K(!1),l=xe(o,"open",r,{defaultValue:o.defaultOpen??!1,passive:o.open===void 0});function _(u){l.value=u,document.cookie=`${mt}=${l.value}; path=/; max-age=${_t}`}function w(u){d.value=u}function $(){return c.value?w(!d.value):_(!l.value)}$e("keydown",u=>{u.key===vt&&(u.metaKey||u.ctrlKey)&&(u.preventDefault(),$())});const C=O(()=>l.value?"expanded":"collapsed");return yt({state:C,open:l,setOpen:_,isMobile:c,openMobile:d,setOpenMobile:w,toggleSidebar:$}),(u,k)=>(i(),m(e(Me),{"delay-duration":0},{default:s(()=>[f("div",v({style:{"--sidebar-width":e(ht),"--sidebar-width-icon":e(bt)},class:e(g)(`group/sidebar-wrapper flex min-h-svh w-full
          has-[[data-variant=inset]]:bg-sidebar`,o.class)},u.$attrs),[h(u.$slots,"default")],16)]),_:3}))}}),ce=p({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(n){const a=n,o=O(()=>{const{class:r,...c}=a;return c});return(r,c)=>(i(),m(e(it),v(o.value,{class:e(g)("relative shrink-0 bg-border",a.orientation==="vertical"?"h-full w-px":"h-px w-full",a.class)}),{default:s(()=>[a.label?(i(),y("span",{key:0,class:A(e(g)(`absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center
          justify-center bg-background text-xs text-muted-foreground`,a.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] px-2 py-1"))},S(a.label),3)):R("",!0)]),_:1},16,["class"]))}}),It=p({__name:"SidebarTrigger",props:{class:{}},setup(n){const a=n,{toggleSidebar:o}=M();return(r,c)=>(i(),m(e(fe),{class:A(e(g)("size-10",a.class)),onClick:e(o),"data-sidebar":"trigger",variant:"ghost",size:"icon"},{default:s(()=>[t(e(st)),c[0]||(c[0]=f("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),zt=pe("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",md:"h-10 text-sm",lg:"h-14 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Bt={class:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-sidebar-primary-foreground"},Mt=p({__name:"NavigationHeader",setup(n){return(a,o)=>{const r=Q("RouterLink");return i(),m(e(N),null,{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(z),{size:"lg","as-child":""},{default:s(()=>[t(r,{to:{name:"LANDING"}},{default:s(()=>[f("div",Bt,[t(e(nt),{class:"size-4"})]),o[0]||(o[0]=f("div",{class:"grid flex-1 text-left text-sm leading-tight"},[f("span",{class:"truncate font-semibold"},"TBuilder"),f("span",{class:"truncate text-xs"},"Приложение для тренировок")],-1))]),_:1})]),_:1})]),_:1})]),_:1})}}}),Pt={href:"#"},Rt={href:"#"},Tt=p({__name:"NavigationContent",setup(n){const{userType:a}=W(),{setOpenMobile:o}=M(),r=O(()=>ke.filter(c=>{var d;return(d=c.meta)!=null&&d.userTypes?c.meta.userTypes.includes(a):!0}));return(c,d)=>{const l=Q("RouterLink");return i(),m(e(St),null,{default:s(()=>[t(e(ie),null,{default:s(()=>[t(e(N),null,{default:s(()=>[(i(!0),y(me,null,we(r.value,_=>(i(),m(e(B),{key:_.name},{default:s(()=>[t(l,{to:{name:_.name}},{default:s(({isActive:w})=>{var $;return[t(e(z),{tooltip:($=_.meta)==null?void 0:$.title,"is-active":w,onClick:d[0]||(d[0]=C=>e(o)(!1)),size:"md"},{default:s(()=>{var C,u;return[(i(),m(_e((C=_.meta)==null?void 0:C.icon))),x(" "+S((u=_.meta)==null?void 0:u.title),1)]}),_:2},1032,["tooltip","is-active"])]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1}),t(e(ie),{class:"mt-auto"},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(z),{tooltip:"Поддержка",size:"md","as-child":""},{default:s(()=>[f("a",Pt,[t(e(tt),{class:"size-4"}),d[1]||(d[1]=f("span",{class:"ml-2"},"Поддержка",-1))])]),_:1})]),_:1}),t(e(B),null,{default:s(()=>[t(e(z),{tooltip:"Мобильное приложение",size:"md","as-child":""},{default:s(()=>[f("a",Rt,[t(e(ot),{class:"size-4"}),d[2]||(d[2]=f("span",{class:"ml-2"},"Мобильное приложение",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Nt={RESPONSE:T},ge={REQUEST:T.omit({id:!0,email:!0,avatarUri:!0}),RESPONSE:T},Lt={RESPONSE:T};async function Vt(){const n=await J.get("/profile");return n.status!==X.Ok?null:Y(Nt.RESPONSE,n.data)}async function Dt(n){const a=await J.patch("/profile",n);return a.status!==X.Ok?null:Y(ge.RESPONSE,a.data)}async function Ft(n){const a=await J.post("/profile/avatar",n,{headers:{"Content-Type":"multipart/form-data"}});return a.status!==X.Ok?null:Y(Lt.RESPONSE,a.data)}const be=Se("user",{state:()=>({profile:null}),actions:{async getProfile(){this.profile=await Vt()},async patchProfile(n){const a=await Dt(n);return a?(this.profile=a,!0):!1},async changeAvatar(n){const a=await Ft(n);return a?(this.profile=a,!0):!1}},getters:{PROFILE:n=>n.profile,AVATAR:n=>{var a;return(a=n.profile)==null?void 0:a.avatarUri},EMAIL:n=>{var a;return((a=n.profile)==null?void 0:a.email)||""}}}),Ht=p({__name:"Form",emits:["saved"],setup(n,{emit:a}){const o=a,r=be(),{patchProfile:c}=r,{PROFILE:d}=Z(r),l=qe(ge.REQUEST),{handleSubmit:_,isSubmitting:w}=je({validationSchema:l,keepValuesOnUnmount:!0,initialValues:{...d.value}}),$=_(async C=>{await c(C)&&o("saved")});return(C,u)=>(i(),y("form",{onSubmit:u[0]||(u[0]=(...k)=>e($)&&e($)(...k)),class:"grid gap-3"},[t(e(L),{name:"lastName"},{default:s(({componentField:k})=>[t(e(V),null,{default:s(()=>[t(e(D),null,{default:s(()=>u[1]||(u[1]=[x("Фамилия")])),_:1}),t(e(F),null,{default:s(()=>[t(e(H),v({type:"text"},k,{placeholder:"Смирнов"}),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(L),{name:"firstName"},{default:s(({componentField:k})=>[t(e(V),null,{default:s(()=>[t(e(D),null,{default:s(()=>u[2]||(u[2]=[x("Имя")])),_:1}),t(e(F),null,{default:s(()=>[t(e(H),v({type:"text"},k,{placeholder:"Иван"}),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(L),{name:"middleName"},{default:s(({componentField:k})=>[t(e(V),null,{default:s(()=>[t(e(D),null,{default:s(()=>u[3]||(u[3]=[x("Отчество")])),_:1}),t(e(F),null,{default:s(()=>[t(e(H),v({type:"text"},k,{placeholder:"Петрович"}),null,16)]),_:2},1024),t(e(U))]),_:2},1024)]),_:1}),t(e(fe),{loading:e(w),type:"submit"},{default:s(()=>u[4]||(u[4]=[x(" Сохранить ")])),_:1},8,["loading"])],32))}}),Ut=p({__name:"Profile",setup(n){const a=K(!1);return(o,r)=>(i(),m(He,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=c=>a.value=c),title:"Изменить профиль",description:"Измените информацию о себе."},{trigger:s(()=>[h(o.$slots,"default")]),default:s(()=>[t(Ht,{onSaved:r[0]||(r[0]=c=>a.value=!1)})]),_:3},8,["modelValue"]))}}),jt={class:"grid flex-1 text-left text-sm leading-tight"},qt={class:"truncate font-semibold"},Gt={class:"truncate text-xs"},Kt={class:"flex flex-col items-center gap-2 px-1 py-1.5 text-left text-sm"},Qt={class:"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 transition-opacity group-hover:opacity-100"},Wt={class:"flex flex-col items-center gap-1 text-sm leading-tight"},Jt={class:"truncate font-semibold"},Xt={class:"truncate text-xs"},Yt={key:1,class:"flex items-center space-x-2 p-2"},Zt={class:"w-full space-y-2"},ea=p({__name:"UserDropdown",setup(n){const a=Ae(),o=be(),{store:r}=Ce(),{isMobile:c}=M(),{PROFILE:d,EMAIL:l,AVATAR:_}=Z(o),{logout:w}=W(),$=K();async function C(k){const b=k.target;if(!b.files||b.files.length===0)return;const I=new FormData;I.append("avatar",b.files[0]),await o.changeAvatar(I)}async function u(){await w()&&a.push({name:"LOGIN"})}return Oe(async()=>{await o.getProfile()}),(k,b)=>e(d)?(i(),m(Ut,{key:0},{default:s(()=>[t(e(Ge),null,{default:s(()=>[t(e(Ke),{"as-child":""},{default:s(()=>[t(e(z),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:s(()=>[t(e(oe),{class:"h-10 w-10 shrink-0 rounded-lg"},{default:s(()=>[e(_)?(i(),m(e(re),{key:0,src:e(_),alt:"Avatar"},null,8,["src"])):R("",!0),t(e(ne),{class:"rounded-lg"},{default:s(()=>[x(S(e(ae)(e(d))),1)]),_:1})]),_:1}),f("div",jt,[f("span",qt,S(e(se)(e(d))),1),f("span",Gt,S(e(l)),1)]),t(e(Ye),{class:"ml-auto size-4"})]),_:1})]),_:1}),t(e(Qe),{side:e(c)?"bottom":"right","side-offset":4,class:"w-[--reka-dropdown-menu-trigger-width] min-w-56 rounded-lg",align:"end"},{default:s(()=>[t(e(We),{class:"p-0 font-normal"},{default:s(()=>[f("div",Kt,[f("div",{onClick:b[0]||(b[0]=(...I)=>{var ee,te;return((ee=$.value)==null?void 0:ee.click)&&((te=$.value)==null?void 0:te.click(...I))}),class:"group relative size-20 cursor-pointer"},[t(e(oe),{class:"size-full"},{default:s(()=>[e(_)?(i(),m(e(re),{key:0,src:e(_),alt:"Profile"},null,8,["src"])):R("",!0),t(e(ne),{class:"text-2xl"},{default:s(()=>[x(S(e(ae)(e(d))),1)]),_:1})]),_:1}),f("div",Qt,[t(e(et),{class:"size-8 text-white"})]),f("input",{onChange:C,type:"file",ref_key:"avatarInputRef",ref:$,class:"hidden",accept:"image/*"},null,544)]),f("div",Wt,[f("span",Jt,S(e(se)(e(d))),1),f("span",Xt,S(e(l)),1)])])]),_:1}),t(e(le)),t(e(Je),null,{default:s(()=>[t(e(Ue),{"as-child":""},{default:s(()=>[t(e(j),null,{default:s(()=>[t(e(rt)),b[2]||(b[2]=x(" Профиль "))]),_:1})]),_:1}),t(e(j),{onSelect:b[1]||(b[1]=I=>{I.preventDefault(),r.value=e(r)==="dark"?"light":"dark"})},{default:s(()=>[t(e(Ze)),b[3]||(b[3]=x(" Тёмная тема ")),t(e(Xe),{"model-value":e(r)==="dark",class:"ml-auto"},null,8,["model-value"])]),_:1})]),_:1}),t(e(le)),t(e(j),{onClick:u,class:"!text-destructive"},{default:s(()=>[t(e(at)),b[4]||(b[4]=x(" Выйти "))]),_:1})]),_:1},8,["side"])]),_:1})]),_:1})):(i(),y("div",Yt,[t(e(q),{class:"h-10 w-10 shrink-0 rounded-lg"}),f("div",Zt,[t(e(q),{class:"h-3.5 w-1/2"}),t(e(q),{class:"h-3 w-3/4"})])]))}}),ta=p({__name:"NavigationFooter",setup(n){return(a,o)=>(i(),m(e(N),null,{default:s(()=>[t(e(B),null,{default:s(()=>[t(ea)]),_:1})]),_:1}))}}),aa=p({__name:"Navigation",setup(n){return(a,o)=>(i(),m(e(wt),{collapsible:"icon",variant:"inset",title:"TBuilder",description:"Приложение для тренировок"},{default:s(()=>[t(e(Ot),null,{default:s(()=>[t(Mt)]),_:1}),t(e(ce)),t(Tt),t(e(ce)),t(e(Ct),null,{default:s(()=>[t(ta)]),_:1})]),_:1}))}}),sa={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b px-4"},oa={class:"flex flex-1 flex-col gap-6 p-4 pt-6 md:p-8"},na=p({__name:"NavigationInset",setup(n){return(a,o)=>{const r=Q("RouterView");return i(),m(e(At),null,{default:s(()=>[f("header",sa,[t(e(It),{class:"-ml-1"})]),f("div",oa,[t(r)])]),_:1})}}}),Aa=p({__name:"Default",setup(n){const a=W(),{isAuthorized:o}=Z(a);return(r,c)=>e(o)?(i(),m(e(Et),{key:0},{default:s(()=>[t(aa),t(na)]),_:1})):R("",!0)}});export{Aa as default};
