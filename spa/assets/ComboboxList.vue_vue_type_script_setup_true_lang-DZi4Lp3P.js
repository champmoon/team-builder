import{u as N,c as Z,a as ee}from"./useId-BWTRPJho.js";import{P as K,c as te}from"./index-Crs7OOR2.js";import{d as x,b as _,e as C,f as m,x as L,i as e,m as S,g as w,a as I,t as he,r as T,u as ie,w as re,al as me,D as ue,p as H,ac as De,o as q,ae as Re,ag as ke,ao as Le,l as Y,n as de,af as ve,y as He,k as ge,q as _e,ap as Ne,aq as Me,j as Ie,s as Se,C as Ge,F as ze}from"./index-BPf4Rk1d.js";import{u as Fe,a as ce}from"./useForwardPropsEmits-COt-lDJ5.js";import{b as qe,u as Ue,_ as We,a as je}from"./useTypeahead-DycDFoxL.js";import{u as pe,a as Xe}from"./useFormControl-D8JzIEid.js";import{a as xe,u as Oe}from"./Collection-CK7GpEza.js";import{u as Je,c as Qe,a as Ye,h as Ze}from"./Teleport-CRI3oJ-H.js";import{i as Ce}from"./ohash.D__AXeF1-B1eZjjnB.js";import{g as et}from"./utils-jBiBC--7.js";import{_ as tt}from"./VisuallyHiddenInput-BbFbLGlz.js";import{P as ot}from"./getActiveElement-CA7ud6Nr.js";import{u as at}from"./useNonce-aCLCdmef.js";function nt(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}const st=x({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(l){const{forwardRef:s}=N();return(t,n)=>(C(),_(e(qe),{"as-child":"",reference:t.reference},{default:m(()=>[L(e(K),S({ref:e(s),"as-child":t.asChild,as:t.as},t.$attrs),{default:m(()=>[w(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}});function lt(l){const s=I(()=>e(l)),t=I(()=>new Intl.Collator("en",{usage:"search",...s.value}));return{startsWith:(r,i)=>i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),t.value.compare(r.slice(0,i.length),i)===0),endsWith:(r,i)=>i.length===0?!0:(r=r.normalize("NFC"),i=i.normalize("NFC"),t.value.compare(r.slice(-i.length),i)===0),contains:(r,i)=>{if(i.length===0)return!0;r=r.normalize("NFC"),i=i.normalize("NFC");let u=0;const B=i.length;for(;u+B<=r.length;u++){const f=r.slice(u,u+B);if(t.value.compare(i,f)===0)return!0}return!1}}}function it(l,s,t){return l===void 0?!1:Array.isArray(l)?l.some(n=>le(n,s,t)):le(l,s,t)}function le(l,s,t){return l===void 0||s===void 0?!1:typeof l=="string"?l===s:typeof t=="function"?t(l,s):typeof t=="string"?(l==null?void 0:l[t])===(s==null?void 0:s[t]):Ce(l,s)}function rt(l,s,t){const n=l.findIndex(i=>Ce(i,s)),a=l.findIndex(i=>Ce(i,t));if(n===-1||a===-1)return[];const[o,r]=[n,a].sort((i,u)=>i-u);return l.slice(o,r+1)}const[be,dt]=Z("ListboxRoot"),ut=x({__name:"ListboxRoot",props:{modelValue:{},defaultValue:{},multiple:{type:Boolean},orientation:{default:"vertical"},dir:{},disabled:{type:Boolean},selectionBehavior:{default:"toggle"},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(l,{expose:s,emit:t}){const n=l,a=t,{multiple:o,highlightOnHover:r,orientation:i,disabled:u,selectionBehavior:B,dir:f}=he(n),{getItems:b}=xe({isProvider:!0}),{handleTypeaheadSearch:h}=Ue(),{primitiveElement:y,currentElement:c}=pe(),V=nt(),G=Oe(f),oe=Xe(c),z=T(),A=T(!1),U=T(!0),F=ie(n,"modelValue",a,{defaultValue:n.defaultValue??(o.value?[]:void 0),passive:n.modelValue===void 0,deep:!0});function W(d){if(A.value=!0,n.multiple){const p=Array.isArray(F.value)?[...F.value]:[],v=p.findIndex(k=>le(k,d,n.by));n.selectionBehavior==="toggle"?(v===-1?p.push(d):p.splice(v,1),F.value=p):(F.value=[d],z.value=d)}else n.selectionBehavior==="toggle"&&le(F.value,d,n.by)?F.value=void 0:F.value=d;setTimeout(()=>{A.value=!1},1)}const O=T(null),ae=T(null),E=T(!1),j=T(!1),D=me(),X=me(),ne=me();function J(){return b().map(d=>d.ref).filter(d=>d.dataset.disabled!=="")}function g(d,p=!0){if(!d)return;O.value=d,U.value&&O.value.focus(),p&&O.value.scrollIntoView({block:"nearest"});const v=b().find(k=>k.ref===d);a("highlight",v)}function $(d){if(E.value)ne.trigger(d);else{const p=b().find(v=>le(v.value,d,n.by));p&&(O.value=p.ref,g(p.ref))}}function P(d){O.value&&O.value.isConnected&&(d.preventDefault(),d.stopPropagation(),j.value||O.value.click())}function Q(d){if(U.value){if(A.value=!0,E.value)X.trigger(d);else{const p=d.altKey||d.ctrlKey||d.metaKey;if(p&&d.key==="a"&&o.value){const v=b(),k=v.map(R=>R.value);F.value=[...k],d.preventDefault(),g(v[v.length-1].ref)}else if(!p){const v=h(d.key,b());v&&g(v)}}setTimeout(()=>{A.value=!1},1)}}function $e(){j.value=!0}function Pe(){requestAnimationFrame(()=>{j.value=!1})}function we(){H(()=>{const d=new KeyboardEvent("keydown",{key:"PageUp"});Be(d)})}function ye(d){const p=O.value;p!=null&&p.isConnected&&(ae.value=p),O.value=null,a("leave",d)}function Te(d){var v,k;const p=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((v=d.currentTarget)==null||v.dispatchEvent(p),a("entryFocus",p),!p.defaultPrevented)if(ae.value)g(ae.value);else{const R=(k=J())==null?void 0:k[0];g(R)}}function Be(d){const p=et(d,i.value,G.value);if(!p)return;let v=J();if(O.value){if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const k=v.indexOf(O.value);v=v.slice(k+1)}Ke(d,v[0])}if(v.length){const k=!O.value&&p==="prev"?v.length-1:0;g(v[k])}if(E.value)return X.trigger(d)}function Ke(d,p){var k;if(!(E.value||n.selectionBehavior!=="replace"||!o.value||!Array.isArray(F.value)||(d.altKey||d.ctrlKey||d.metaKey)&&!d.shiftKey)&&d.shiftKey){const R=b().filter(se=>se.ref.dataset.disabled!=="");let fe=(k=R.find(se=>se.ref===p))==null?void 0:k.value;if(d.key===V.END?fe=R[R.length-1].value:d.key===V.HOME&&(fe=R[0].value),!fe||!z.value)return;const Ae=rt(R.map(se=>se.value),z.value,fe);F.value=Ae}}async function Ee(d){if(await H(),E.value)D.trigger(d);else{const p=J(),v=p.find(k=>k.dataset.state==="checked");v?g(v):p.length&&g(p[0])}}return re(F,()=>{A.value||H(()=>{Ee()})},{immediate:!0,deep:!0}),s({highlightedElement:O,highlightItem:$,highlightFirstItem:we,highlightSelected:Ee,getItems:b}),dt({modelValue:F,onValueChange:W,multiple:o,orientation:i,dir:G,disabled:u,highlightOnHover:r,highlightedElement:O,isVirtual:E,virtualFocusHook:D,virtualKeydownHook:X,virtualHighlightHook:ne,by:n.by,firstValue:z,selectionBehavior:B,focusable:U,onLeave:ye,onEnter:Te,changeHighlight:g,onKeydownEnter:P,onKeydownNavigation:Be,onKeydownTypeAhead:Q,onCompositionStart:$e,onCompositionEnd:Pe,highlightFirstItem:we}),(d,p)=>(C(),_(e(K),{ref_key:"primitiveElement",ref:y,as:d.as,"as-child":d.asChild,dir:e(G),"data-disabled":e(u)?"":void 0,onPointerleave:ye,onFocusout:p[0]||(p[0]=async v=>{const k=v.relatedTarget||v.target;await H(),O.value&&e(c)&&!e(c).contains(k)&&ye(v)})},{default:m(()=>[w(d.$slots,"default",{modelValue:e(F)}),e(oe)&&d.name?(C(),_(e(tt),{key:0,name:d.name,value:e(F),disabled:e(u),required:d.required},null,8,["name","value","disabled","required"])):ue("",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),[M,ct]=Z("ComboboxRoot"),pt=x({__name:"ComboboxRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},ignoreFilter:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(l,{expose:s,emit:t}){var X,ne,J;const n=l,a=t,{primitiveElement:o,currentElement:r}=pe(),{multiple:i,disabled:u,ignoreFilter:B,resetSearchTermOnSelect:f,dir:b}=he(n),h=Oe(b),y=ie(n,"modelValue",a,{defaultValue:n.defaultValue??(i.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),c=ie(n,"open",a,{defaultValue:n.defaultOpen,passive:n.open===void 0});async function V(g){var $,P;c.value=g,E.search="",g?(await H(),($=o.value)==null||$.highlightSelected(),oe.value=!0):oe.value=!1,(P=A.value)==null||P.focus(),setTimeout(()=>{!g&&n.resetSearchTermOnBlur&&G.trigger()},1)}const G=me(),oe=T(!1),z=T(!1),A=T(),U=T(),F=I(()=>{var g;return((g=o.value)==null?void 0:g.highlightedElement)??void 0}),W=T(new Map),O=T(new Map),{contains:ae}=lt({sensitivity:"base"}),E=De({search:"",filtered:{count:0,items:new Map,groups:new Set}});function j(){if(!E.search||n.ignoreFilter||z.value){E.filtered.count=W.value.size;return}E.filtered.groups=new Set;let g=0;for(const[$,P]of W.value){const Q=ae(P,E.search);E.filtered.items.set($,Q?1:0),Q&&g++}for(const[$,P]of O.value)for(const Q of P)if(E.filtered.items.get(Q)>0){E.filtered.groups.add($);break}E.filtered.count=g}re([()=>E.search,()=>W.value.size],()=>{j()},{immediate:!0}),re(()=>c.value,()=>{H(()=>{c.value&&j()})},{flush:"post"});const D=Re();return q(()=>{var g,$,P;D!=null&&D.exposed&&(D.exposed.highlightItem=(g=o.value)==null?void 0:g.highlightItem,D.exposed.highlightFirstItem=($=o.value)==null?void 0:$.highlightFirstItem,D.exposed.highlightSelected=(P=o.value)==null?void 0:P.highlightSelected)}),s({filtered:I(()=>E.filtered),highlightedElement:F,highlightItem:(X=o.value)==null?void 0:X.highlightItem,highlightFirstItem:(ne=o.value)==null?void 0:ne.highlightFirstItem,highlightSelected:(J=o.value)==null?void 0:J.highlightSelected}),ct({modelValue:y,multiple:i,disabled:u,open:c,onOpenChange:V,contentId:"",isUserInputted:oe,isVirtual:z,inputElement:A,highlightedElement:F,onInputElementChange:g=>A.value=g,triggerElement:U,onTriggerElementChange:g=>U.value=g,parentElement:r,resetSearchTermOnSelect:f,onResetSearchTerm:G.on,allItems:W,allGroups:O,filterState:E,ignoreFilter:B}),(g,$)=>(C(),_(e(We),null,{default:m(()=>[L(e(ut),S({ref_key:"primitiveElement",ref:o},g.$attrs,{modelValue:e(y),"onUpdate:modelValue":$[0]||($[0]=P=>ke(y)?y.value=P:null),style:{pointerEvents:e(c)?"auto":void 0},as:g.as,"as-child":g.asChild,dir:e(h),multiple:e(i),name:g.name,required:g.required,disabled:e(u),"highlight-on-hover":!0,by:n.by,onHighlight:$[1]||($[1]=P=>a("highlight",P))}),{default:m(()=>[w(g.$slots,"default",{open:e(c),modelValue:e(y)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),ft=x({__name:"ListboxContent",props:{asChild:{type:Boolean},as:{}},setup(l){const{CollectionSlot:s}=xe(),t=be(),n=Le(!1,10);return(a,o)=>(C(),_(e(s),null,{default:m(()=>[L(e(K),{role:"listbox",as:a.as,"as-child":a.asChild,tabindex:e(t).focusable.value?e(t).highlightedElement.value?"-1":"0":void 0,"aria-orientation":e(t).orientation.value,"aria-multiselectable":!!e(t).multiple.value,"data-orientation":e(t).orientation.value,onMousedown:o[0]||(o[0]=de(r=>n.value=!0,["left"])),onFocus:o[1]||(o[1]=r=>{e(n)||e(t).onEnter(r)}),onKeydown:[o[2]||(o[2]=Y(de(r=>{e(t).focusable.value&&e(t).onKeydownNavigation(r)},["prevent"]),["down","up","left","right","home","end"])),Y(e(t).onKeydownEnter,["enter"]),e(t).onKeydownTypeAhead]},{default:m(()=>[w(a.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),[qt,mt]=Z("ComboboxContent"),ht=x({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(l,{emit:s}){const t=l,n=s,{position:a}=he(t),o=M(),{forwardRef:r,currentElement:i}=N();Je(t.bodyLock),Qe(o.parentElement);const u=I(()=>t.position==="popper"?t:{}),B=Fe(u.value),f={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};mt({position:a});const b=T(!1);return q(()=>{o.inputElement.value&&(b.value=i.value.contains(o.inputElement.value),b.value&&o.inputElement.value.focus())}),ve(()=>{var h;b.value&&((h=o.triggerElement.value)==null||h.focus())}),(h,y)=>(C(),_(e(ft),{"as-child":""},{default:m(()=>[L(e(Ye),{"as-child":"","disable-outside-pointer-events":h.disableOutsidePointerEvents,onDismiss:y[0]||(y[0]=c=>e(o).onOpenChange(!1)),onFocusOutside:y[1]||(y[1]=c=>{var V;(V=e(o).parentElement.value)!=null&&V.contains(c.target)&&c.preventDefault(),n("focusOutside",c)}),onInteractOutside:y[2]||(y[2]=c=>n("interactOutside",c)),onEscapeKeyDown:y[3]||(y[3]=c=>n("escapeKeyDown",c)),onPointerDownOutside:y[4]||(y[4]=c=>{var V;(V=e(o).parentElement.value)!=null&&V.contains(c.target)&&c.preventDefault(),n("pointerDownOutside",c)})},{default:m(()=>[(C(),_(He(e(a)==="popper"?e(je):e(K)),S({...h.$attrs,...e(B)},{id:e(o).contentId,ref:e(r),"data-state":e(o).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(a)==="popper"?f:{}}}),{default:m(()=>[w(h.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),vt=x({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(l,{emit:s}){const a=ce(l,s),{forwardRef:o}=N(),r=M();return r.contentId||(r.contentId=ee(void 0,"reka-combobox-content")),(i,u)=>(C(),_(e(ot),{present:i.forceMount||e(r).open.value},{default:m(()=>[L(ht,S({...e(a),...i.$attrs},{ref:e(o)}),{default:m(()=>[w(i.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),gt=x({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(l){const s=l,t=M(),n=I(()=>t.ignoreFilter.value?t.allItems.value.size===0:!!t.filterState.search&&t.filterState.filtered.count===0);return(a,o)=>n.value?(C(),_(e(K),_e(S({key:0},s)),{default:m(()=>[w(a.$slots,"default",{},()=>[o[0]||(o[0]=ge("No options"))])]),_:3},16)):ue("",!0)}}),[Ut,bt]=Z("ListboxGroup"),yt=x({__name:"ListboxGroup",props:{asChild:{type:Boolean},as:{}},setup(l){const s=l,t=ee(void 0,"reka-listbox-group");return bt({id:t}),(n,a)=>(C(),_(e(K),S({role:"group"},s,{"aria-labelledby":e(t)}),{default:m(()=>[w(n.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),[Ve,Ct]=Z("ComboboxGroup"),_t=x({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(l){const s=l,t=ee(void 0,"reka-combobox-group"),n=M(),a=I(()=>n.ignoreFilter.value?!0:n.filterState.search?n.filterState.filtered.groups.has(t):!0),o=Ct({id:t,labelId:""});return q(()=>{n.allGroups.value.has(t)||n.allGroups.value.set(t,new Set)}),ve(()=>{n.allGroups.value.delete(t)}),(r,i)=>(C(),_(e(yt),S({id:e(t),"aria-labelledby":e(o).labelId},s,{hidden:a.value?void 0:!0}),{default:m(()=>[w(r.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),xt=x({__name:"ListboxFilter",props:{modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(l,{emit:s}){const t=l,a=ie(t,"modelValue",s,{defaultValue:"",passive:t.modelValue===void 0}),o=be(),{primitiveElement:r,currentElement:i}=pe(),u=I(()=>t.disabled||o.disabled.value||!1),B=T();return Ne(()=>{var f;return B.value=(f=o.highlightedElement.value)==null?void 0:f.id}),q(()=>{o.focusable.value=!1,setTimeout(()=>{var f;t.autoFocus&&((f=i.value)==null||f.focus())},1)}),ve(()=>{o.focusable.value=!0}),(f,b)=>(C(),_(e(K),{ref_key:"primitiveElement",ref:r,as:f.as,"as-child":f.asChild,value:e(a),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":B.value,type:"text",onKeydown:[Y(de(e(o).onKeydownNavigation,["prevent"]),["down","up","home","end"]),Y(e(o).onKeydownEnter,["enter"])],onInput:b[0]||(b[0]=h=>{a.value=h.target.value,e(o).highlightFirstItem(h)}),onCompositionstart:e(o).onCompositionStart,onCompositionend:e(o).onCompositionEnd},{default:m(()=>[w(f.$slots,"default",{modelValue:e(a)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),wt=x({__name:"ComboboxInput",props:{displayValue:{},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(l,{emit:s}){const t=l,n=s,a=M(),o=be(),{primitiveElement:r,currentElement:i}=pe(),u=ie(t,"modelValue",n,{passive:t.modelValue===void 0});q(()=>{i.value&&a.onInputElementChange(i.value)});function B(h){a.open.value||a.onOpenChange(!0)}function f(h){const y=h.target;a.open.value?a.filterState.search=y.value:(a.onOpenChange(!0),H(()=>{y.value&&(a.filterState.search=y.value,o.highlightFirstItem(h))}))}function b(){const h=a.modelValue.value;t.displayValue?u.value=t.displayValue(h):!a.multiple.value&&h&&!Array.isArray(h)&&typeof h!="object"?u.value=h.toString():u.value="",H(()=>{u.value=u.value})}return a.onResetSearchTerm(()=>{b()}),re(a.modelValue,async()=>{!a.isUserInputted.value&&a.resetSearchTermOnSelect.value&&b()},{immediate:!0,deep:!0}),re(()=>t.modelValue,()=>{t.modelValue!==void 0&&(a.filterState.search=t.modelValue)}),(h,y)=>(C(),_(e(xt),{ref_key:"primitiveElement",ref:r,modelValue:e(u),"onUpdate:modelValue":y[0]||(y[0]=c=>ke(u)?u.value=c:null),as:h.as,"as-child":h.asChild,"auto-focus":h.autoFocus,"aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:f,onKeydown:Y(de(B,["prevent"]),["down","up"])},{default:m(()=>[w(h.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","aria-expanded","aria-controls","onKeydown"]))}}),Bt="listbox.select",[Et,kt]=Z("ListboxItem"),It=x({__name:"ListboxItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"div"}},emits:["select"],setup(l,{emit:s}){const t=l,n=s,a=ee(void 0,"reka-listbox-item"),{CollectionItem:o}=xe(),{forwardRef:r,currentElement:i}=N(),u=be(),B=I(()=>i.value===u.highlightedElement.value),f=I(()=>it(u.modelValue.value,t.value,u.by)),b=I(()=>u.disabled.value||t.disabled);async function h(c){n("select",c),!(c!=null&&c.defaultPrevented)&&!b.value&&c&&(u.onValueChange(t.value),u.changeHighlight(i.value))}function y(c){const V={originalEvent:c,value:t.value};Ze(Bt,h,V)}return kt({isSelected:f}),(c,V)=>(C(),_(e(o),{value:c.value},{default:m(()=>[Me([B.value,f.value],()=>L(e(K),S({id:e(a)},c.$attrs,{ref:e(r),role:"option",tabindex:e(u).focusable.value?B.value?"0":"-1":-1,"aria-selected":f.value,as:c.as,"as-child":c.asChild,disabled:b.value?"":void 0,"data-disabled":b.value?"":void 0,"data-highlighted":B.value?"":void 0,"data-state":f.value?"checked":"unchecked",onClick:y,onKeydown:Y(de(y,["prevent"]),["space"]),onPointermove:V[0]||(V[0]=G=>{e(u).highlightedElement.value!==e(i)&&(e(u).highlightOnHover.value?e(u).changeHighlight(e(i),!1):e(u).focusable.value||e(u).changeHighlight(e(i),!1))})}),{default:m(()=>[w(c.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),V,1)]),_:3},8,["value"]))}}),St=x({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(l,{emit:s}){const t=l,n=s,a=ee(void 0,"reka-combobox-item"),o=M(),r=Ve(null),{primitiveElement:i,currentElement:u}=pe();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const B=I(()=>{if(o.isVirtual.value||o.ignoreFilter.value||!o.filterState.search)return!0;{const f=o.filterState.filtered.items.get(a);return f===void 0?!0:f>0}});return q(()=>{var b;o.allItems.value.set(a,t.textValue||u.value.textContent||u.value.innerText);const f=r==null?void 0:r.id;f&&(o.allGroups.value.has(f)?(b=o.allGroups.value.get(f))==null||b.add(a):o.allGroups.value.set(f,new Set([a])))}),ve(()=>{o.allItems.value.delete(a)}),(f,b)=>B.value?(C(),_(e(It),S({key:0},t,{id:e(a),ref_key:"primitiveElement",ref:i,disabled:e(o).disabled.value||f.disabled,onSelect:b[0]||(b[0]=h=>{n("select",h),!h.defaultPrevented&&!e(o).multiple.value&&!f.disabled&&!e(o).disabled.value&&(h.preventDefault(),e(o).onOpenChange(!1),e(o).modelValue.value=t.value)})}),{default:m(()=>[w(f.$slots,"default",{},()=>[ge(Ie(f.value),1)])]),_:3},16,["id","disabled"])):ue("",!0)}}),Ft=x({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(l){const s=l;N();const t=Et();return(n,a)=>e(t).isSelected.value?(C(),_(e(K),S({key:0,"aria-hidden":"true"},s),{default:m(()=>[w(n.$slots,"default")]),_:3},16)):ue("",!0)}}),Wt=x({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(l){const s=l;return(t,n)=>(C(),_(e(Ft),_e(Se(s)),{default:m(()=>[w(t.$slots,"default")]),_:3},16))}}),Ot=x({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(l){const s=l;N();const t=Ve({id:"",labelId:""});return t.labelId||(t.labelId=ee(void 0,"reka-combobox-group-label")),(n,a)=>(C(),_(e(K),S(s,{id:e(t).labelId}),{default:m(()=>[w(n.$slots,"default")]),_:3},16,["id"]))}}),jt=x({__name:"ComboboxTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(l){const s=l,{forwardRef:t,currentElement:n}=N(),a=M(),o=I(()=>s.disabled||a.disabled.value||!1);return q(()=>{n.value&&a.onTriggerElementChange(n.value)}),(r,i)=>(C(),_(e(K),S(s,{ref:e(t),type:r.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(a).open.value,"aria-controls":e(a).contentId,"data-state":e(a).open.value?"open":"closed",disabled:o.value,"data-disabled":o.value?"":void 0,"aria-disabled":o.value??void 0,onClick:i[0]||(i[0]=u=>e(a).onOpenChange(!e(a).open.value))}),{default:m(()=>[w(r.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),Vt=x({__name:"ComboboxViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(l){const s=l,{forwardRef:t}=N(),{nonce:n}=he(s),a=at(n),o=M();return(r,i)=>(C(),Ge(ze,null,[L(e(K),S({...r.$attrs,...s},{ref:e(t),"data-reka-combobox-viewport":"",role:"presentation",style:{position:"relative",flex:e(o).isVirtual.value?void 0:1,overflow:"auto"}}),{default:m(()=>[w(r.$slots,"default")]),_:3},16,["style"]),L(e(K),{as:"style",nonce:e(a)},{default:m(()=>i[0]||(i[0]=[ge(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),Xt=x({__name:"Combobox",props:{open:{type:Boolean},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean},resetSearchTermOnSelect:{type:Boolean},ignoreFilter:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{type:[String,Function]},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(l,{emit:s}){const a=ce(l,s);return(o,r)=>(C(),_(e(pt),_e(Se(e(a))),{default:m(()=>[w(o.$slots,"default")]),_:3},16))}}),Jt=x({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{},class:{}},setup(l){const s=l,t=I(()=>{const{class:a,...o}=s;return o}),n=Fe(t);return(a,o)=>(C(),_(e(st),S(e(n),{class:e(te)(s.class)}),{default:m(()=>[w(a.$slots,"default")]),_:3},16,["class"]))}}),Qt=x({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const s=l,t=I(()=>{const{class:n,...a}=s;return a});return(n,a)=>(C(),_(e(gt),S(t.value,{class:e(te)("py-6 text-center text-sm",s.class)}),{default:m(()=>[w(n.$slots,"default")]),_:3},16,["class"]))}}),Yt=x({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{},class:{},heading:{}},setup(l){const s=l,t=I(()=>{const{class:n,...a}=s;return a});return(n,a)=>(C(),_(e(_t),S(t.value,{class:e(te)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",s.class)}),{default:m(()=>[n.heading?(C(),_(e(Ot),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:m(()=>[ge(Ie(n.heading),1)]),_:1})):ue("",!0),w(n.$slots,"default")]),_:3},16,["class"]))}}),Zt=x({__name:"ComboboxInput",props:{displayValue:{type:Function},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(l,{emit:s}){const t=l,n=s,a=I(()=>{const{class:r,...i}=t;return i}),o=ce(a,n);return(r,i)=>(C(),_(e(wt),S(e(o),{class:e(te)(`flex h-12 w-full rounded-md border border-input bg-transparent px-3 pl-2.5 pr-10
        text-sm shadow-sm transition-colors file:border-0 file:bg-transparent
        file:text-sm file:font-medium placeholder:text-muted-foreground
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
        focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50`,t.class)}),{default:m(()=>[w(r.$slots,"default")]),_:3},16,["class"]))}}),eo=x({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(l,{emit:s}){const t=l,n=s,a=I(()=>{const{class:r,...i}=t;return i}),o=ce(a,n);return(r,i)=>(C(),_(e(St),S(e(o),{class:e(te)("relative flex cursor-default gap-2 select-none justify-between items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",t.class)}),{default:m(()=>[w(r.$slots,"default")]),_:3},16,["class"]))}}),to=x({__name:"ComboboxList",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"start"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(l,{emit:s}){const t=l,n=s,a=I(()=>{const{class:r,...i}=t;return i}),o=ce(a,n);return(r,i)=>(C(),_(e(vt),S(e(o),{class:e(te)(`z-50 w-[--reka-combobox-trigger-width] rounded-md border bg-popover
        text-popover-foreground shadow-md outline-none data-[state=open]:animate-in
        data-[state=closed]:animate-out data-[state=closed]:fade-out-0
        data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95
        data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2
        data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2
        data-[side=top]:slide-in-from-bottom-2`,t.class)}),{default:m(()=>[L(e(Vt),{class:"max-h-80 overflow-y-auto"},{default:m(()=>[w(r.$slots,"default")]),_:3})]),_:3},16,["class"]))}});export{Xt as _,Jt as a,Zt as b,jt as c,to as d,Qt as e,Yt as f,eo as g,Wt as h,lt as i,nt as u};
