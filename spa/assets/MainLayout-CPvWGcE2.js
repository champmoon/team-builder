import{z as N,B as _e,C as Se,c,w as P,g as ue,i as ye,D as j,r as f,E as ne,G as ge,h,H as pe,I as ke,J as Te,K as Qe,L as qe,M as we,O as Pe,P as G,R as J,S as I,d as Me,u as Ce,k as He,l as W,m as Y,n,f as a,x as Z,y as g,U as O,V as Ve,W as xe,X as ee,A as Le,_ as Oe}from"./index-BlxHouq3.js";import{Q as Re}from"./QToolbarTitle-CcdJFvIp.js";import{u as $e,a as Ae,b as Be,Q as De}from"./QTabs-Dr2FeyGn.js";import{Q as te,a as q,b as w,c as R}from"./QItemLabel-DQHAnvuG.js";import{b as $,Q as je}from"./format-RCdBGSCz.js";import{Q as Ie}from"./QToolbar-BMAiNFO6.js";import{Q as E}from"./QResizeObserver-Sm0ikFYZ.js";import{b as Fe,Q as Ee,a as Ne}from"./QLayout-CIUkvQet.js";import{T as le}from"./TouchPan-g40edDd4.js";import{Q as Ue}from"./QDrawer-olLkFS3T.js";import"./rtl-DFPa-2ov.js";const A=N({name:"QRouteTab",props:{..._e,...$e},emits:Ae,setup(l,{slots:p,emit:b}){const v=Se({useDisableForRouterLinkProps:!1}),{renderTab:i,$tabs:d}=Be(l,p,b,{exact:c(()=>l.exact),...v});return P(()=>`${l.name} | ${l.exact} | ${(v.resolvedLink.value||{}).href}`,()=>{d.verifyRouteModel()}),()=>i(v.linkTag.value,v.linkAttrs.value)}}),Ke=N({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(l,{slots:p,emit:b}){const{proxy:{$q:v}}=ue(),i=ye(pe,j);if(i===j)return console.error("QHeader needs to be child of QLayout"),j;const d=f(parseInt(l.heightHint,10)),u=f(!0),e=c(()=>l.reveal===!0||i.view.value.indexOf("H")>-1||v.platform.is.ios&&i.isContainer.value===!0),m=c(()=>{if(l.modelValue!==!0)return 0;if(e.value===!0)return u.value===!0?d.value:0;const r=d.value-i.scroll.value.position;return r>0?r:0}),S=c(()=>l.modelValue!==!0||e.value===!0&&u.value!==!0),M=c(()=>l.modelValue===!0&&S.value===!0&&l.reveal===!0),H=c(()=>"q-header q-layout__section--marginal "+(e.value===!0?"fixed":"absolute")+"-top"+(l.bordered===!0?" q-header--bordered":"")+(S.value===!0?" q-header--hidden":"")+(l.modelValue!==!0?" q-layout--prevent-focus":"")),y=c(()=>{const r=i.rows.value.top,_={};return r[0]==="l"&&i.left.space===!0&&(_[v.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),r[2]==="r"&&i.right.space===!0&&(_[v.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),_});function z(r,_){i.update("header",r,_)}function k(r,_){r.value!==_&&(r.value=_)}function B({height:r}){k(d,r),z("size",r)}function D(r){M.value===!0&&k(u,!0),b("focusin",r)}P(()=>l.modelValue,r=>{z("space",r),k(u,!0),i.animate()}),P(m,r=>{z("offset",r)}),P(()=>l.reveal,r=>{r===!1&&k(u,l.modelValue)}),P(u,r=>{i.animate(),b("reveal",r)}),P(i.scroll,r=>{l.reveal===!0&&k(u,r.direction==="up"||r.position<=l.revealOffset||r.position-r.inflectionPoint<100)});const C={};return i.instances.header=C,l.modelValue===!0&&z("size",d.value),z("space",l.modelValue),z("offset",m.value),ne(()=>{i.instances.header===C&&(i.instances.header=void 0,z("size",0),z("offset",0),z("space",!1))}),()=>{const r=ge(p.default,[]);return l.elevated===!0&&r.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),r.push(h(E,{debounce:0,onResize:B})),h("header",{class:H.value,style:y.value,onFocusin:D},r)}}}),ae=["vertical","horizontal"],F={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},oe={prevent:!0,mouse:!0,mouseAllDir:!0},re=l=>l>=250?50:Math.ceil(l/5),Xe=N({name:"QScrollArea",props:{...ke,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(l,{slots:p,emit:b}){const v=f(!1),i=f(!1),d=f(!1),u={vertical:f(0),horizontal:f(0)},e={vertical:{ref:f(null),position:f(0),size:f(0)},horizontal:{ref:f(null),position:f(0),size:f(0)}},{proxy:m}=ue(),S=Te(l,m.$q);let M=null,H;const y=f(null),z=c(()=>"q-scrollarea"+(S.value===!0?" q-scrollarea--dark":""));e.vertical.percentage=c(()=>{const t=e.vertical.size.value-u.vertical.value;if(t<=0)return 0;const o=$(e.vertical.position.value/t,0,1);return Math.round(o*1e4)/1e4}),e.vertical.thumbHidden=c(()=>(l.visible===null?d.value:l.visible)!==!0&&v.value===!1&&i.value===!1||e.vertical.size.value<=u.vertical.value+1),e.vertical.thumbStart=c(()=>e.vertical.percentage.value*(u.vertical.value-e.vertical.thumbSize.value)),e.vertical.thumbSize=c(()=>Math.round($(u.vertical.value*u.vertical.value/e.vertical.size.value,re(u.vertical.value),u.vertical.value))),e.vertical.style=c(()=>({...l.thumbStyle,...l.verticalThumbStyle,top:`${e.vertical.thumbStart.value}px`,height:`${e.vertical.thumbSize.value}px`})),e.vertical.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.vertical.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),e.horizontal.percentage=c(()=>{const t=e.horizontal.size.value-u.horizontal.value;if(t<=0)return 0;const o=$(Math.abs(e.horizontal.position.value)/t,0,1);return Math.round(o*1e4)/1e4}),e.horizontal.thumbHidden=c(()=>(l.visible===null?d.value:l.visible)!==!0&&v.value===!1&&i.value===!1||e.horizontal.size.value<=u.horizontal.value+1),e.horizontal.thumbStart=c(()=>e.horizontal.percentage.value*(u.horizontal.value-e.horizontal.thumbSize.value)),e.horizontal.thumbSize=c(()=>Math.round($(u.horizontal.value*u.horizontal.value/e.horizontal.size.value,re(u.horizontal.value),u.horizontal.value))),e.horizontal.style=c(()=>({...l.thumbStyle,...l.horizontalThumbStyle,[m.$q.lang.rtl===!0?"right":"left"]:`${e.horizontal.thumbStart.value}px`,width:`${e.horizontal.thumbSize.value}px`})),e.horizontal.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.horizontal.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const k=c(()=>e.vertical.thumbHidden.value===!0&&e.horizontal.thumbHidden.value===!0?l.contentStyle:l.contentActiveStyle),B=[[le,t=>{U(t,"vertical")},void 0,{vertical:!0,...oe}]],D=[[le,t=>{U(t,"horizontal")},void 0,{horizontal:!0,...oe}]];function C(){const t={};return ae.forEach(o=>{const s=e[o];t[o+"Position"]=s.position.value,t[o+"Percentage"]=s.percentage.value,t[o+"Size"]=s.size.value,t[o+"ContainerSize"]=u[o].value}),t}const r=Qe(()=>{const t=C();t.ref=m,b("scroll",t)},0);function _(t,o,s){if(ae.includes(t)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(t==="vertical"?J:I)(y.value,o,s)}function ie({height:t,width:o}){let s=!1;u.vertical.value!==t&&(u.vertical.value=t,s=!0),u.horizontal.value!==o&&(u.horizontal.value=o,s=!0),s===!0&&V()}function se({position:t}){let o=!1;e.vertical.position.value!==t.top&&(e.vertical.position.value=t.top,o=!0),e.horizontal.position.value!==t.left&&(e.horizontal.position.value=t.left,o=!0),o===!0&&V()}function ce({height:t,width:o}){e.horizontal.size.value!==o&&(e.horizontal.size.value=o,V()),e.vertical.size.value!==t&&(e.vertical.size.value=t,V())}function U(t,o){const s=e[o];if(t.isFirst===!0){if(s.thumbHidden.value===!0)return;H=s.position.value,i.value=!0}else if(i.value!==!0)return;t.isFinal===!0&&(i.value=!1);const Q=F[o],L=u[o].value,be=(s.size.value-L)/(L-s.thumbSize.value),me=t.distance[Q.dist],ze=H+(t.direction===Q.dir?1:-1)*me*be;X(ze,o)}function K(t,o){const s=e[o];if(s.thumbHidden.value!==!0){const Q=t[F[o].offset];if(Q<s.thumbStart.value||Q>s.thumbStart.value+s.thumbSize.value){const L=Q-s.thumbSize.value/2;X(L/u[o].value*s.size.value,o)}s.ref.value!==null&&s.ref.value.dispatchEvent(new MouseEvent(t.type,t))}}function ve(t){K(t,"vertical")}function fe(t){K(t,"horizontal")}function V(){v.value=!0,M!==null&&clearTimeout(M),M=setTimeout(()=>{M=null,v.value=!1},l.delay),l.onScroll!==void 0&&r()}function X(t,o){y.value[F[o].scroll]=t}let T=null;function de(){T!==null&&clearTimeout(T),T=setTimeout(()=>{T=null,d.value=!0},m.$q.platform.is.ios?50:0)}function he(){T!==null&&(clearTimeout(T),T=null),d.value=!1}let x=null;return P(()=>m.$q.lang.rtl,t=>{y.value!==null&&I(y.value,Math.abs(e.horizontal.position.value)*(t===!0?-1:1))}),qe(()=>{x={top:e.vertical.position.value,left:e.horizontal.position.value}}),we(()=>{if(x===null)return;const t=y.value;t!==null&&(I(t,x.left),J(t,x.top))}),ne(r.cancel),Object.assign(m,{getScrollTarget:()=>y.value,getScroll:C,getScrollPosition:()=>({top:e.vertical.position.value,left:e.horizontal.position.value}),getScrollPercentage:()=>({top:e.vertical.percentage.value,left:e.horizontal.percentage.value}),setScrollPosition:_,setScrollPercentage(t,o,s){_(t,o*(e[t].size.value-u[t].value)*(t==="horizontal"&&m.$q.lang.rtl===!0?-1:1),s)}}),()=>h("div",{class:z.value,onMouseenter:de,onMouseleave:he},[h("div",{ref:y,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:l.tabindex!==void 0?l.tabindex:void 0},[h("div",{class:"q-scrollarea__content absolute",style:k.value},Pe(p.default,[h(E,{debounce:0,onResize:ce})])),h(Fe,{axis:"both",onScroll:se})]),h(E,{debounce:0,onResize:ie}),h("div",{class:e.vertical.barClass.value,style:[l.barStyle,l.verticalBarStyle],"aria-hidden":"true",onMousedown:ve}),h("div",{class:e.horizontal.barClass.value,style:[l.barStyle,l.horizontalBarStyle],"aria-hidden":"true",onMousedown:fe}),G(h("div",{ref:e.vertical.ref,class:e.vertical.thumbClass.value,style:e.vertical.style.value,"aria-hidden":"true"}),B),G(h("div",{ref:e.horizontal.ref,class:e.horizontal.thumbClass.value,style:e.horizontal.style.value,"aria-hidden":"true"}),D)])}}),Ge=Me({__name:"MainLayout",setup(l){const p=Ce(),b=f(!1),v=f(null);function i(){b.value=!b.value}async function d(){const u=ee.getItem("refreshToken");!u||!await Le.logout({refreshToken:u})||(ee.clear(),b.value=!1,p.push({path:"/login"}))}return(u,e)=>{const m=He("router-view");return W(),Y(Ne,{view:"hHh Lpr lff"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Ie,null,{default:n(()=>[a(Z,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu","text-color":"dark",class:"mobile-only",onClick:i}),a(Re,{class:"text-dark"},{default:n(()=>[g(" TBuilder ")]),_:1}),a(De,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=S=>v.value=S),class:"text-dark desktop-only","active-color":"dark","indicator-color":"dark",shrink:"",stretch:""},{default:n(()=>[a(A,{to:"/team",label:"Команда"}),a(A,{to:"/calendar",label:"Календарь тренировок"}),a(A,{to:"/workout",label:"Конструктор тренировок"}),a(A,{to:"/stats",label:"Статистика"})]),_:1},8,["modelValue"]),a(Z,{flat:"",dense:"",round:"",icon:"account_circle","text-color":"dark","aria-label":"Avatar",style:{"margin-left":"12px"}},{default:n(()=>[a(je,{"auto-close":""},{default:n(()=>[a(te,null,{default:n(()=>[a(q,{to:"/profile",clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[g("Профиль")]),_:1})]),_:1}),a(q,{to:"/survey",clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[g("Анкета спортсменов")]),_:1})]),_:1}),a(O),a(q,{onClick:d,clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[g("Выход")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ue,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=S=>b.value=S),bordered:""},{default:n(()=>[a(Xe,{class:"flex column fit"},{default:n(()=>[a(te,null,{default:n(()=>[a(q,{to:"/team",clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[a(R,null,{default:n(()=>[g("Команда")]),_:1})]),_:1})]),_:1}),a(O),a(q,{to:"/calendar",clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[a(R,null,{default:n(()=>[g("Календарь тренировок")]),_:1})]),_:1})]),_:1}),a(O),a(q,{to:"/workout",clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[a(R,null,{default:n(()=>[g("Конструктор тренировок")]),_:1})]),_:1})]),_:1}),a(O),a(q,{to:"/stats",clickable:""},{default:n(()=>[a(w,null,{default:n(()=>[a(R,null,{default:n(()=>[g("Статистика")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ee,null,{default:n(()=>[a(m,null,{default:n(({Component:S})=>[a(Ve,{name:"fade",mode:"out-in"},{default:n(()=>[(W(),Y(xe(S)))]),_:2},1024)]),_:1})]),_:1})]),_:1})}}}),nt=Oe(Ge,[["__file","MainLayout.vue"]]);export{nt as default};
