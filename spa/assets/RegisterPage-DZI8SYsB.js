import{g as K,r as D,c as m,y as H,z as W,B as J,h as F,C as Z,D as ee,E as te,G as le,H as ae,I as ne,J as ie,K as M,L as ue,M as oe,O as re,d as se,l as de,m as ce,n as h,p as B,f as c,q as $,P as fe,t as z,R as me,S as ve,U as pe,v as ge,x as be,Q as he,_ as ye}from"./index-BFn0Cppg.js";import{Q as Fe}from"./QChip-B2Pt8srd.js";import{h as Ve}from"./format-Dumr6BwO.js";import{Q as xe}from"./QForm-DFIZr3sv.js";import{Q as Ce}from"./QPage-DK4_fnuy.js";function C(e,i,V,o){const a=[];return e.forEach(d=>{o(d)===!0?a.push(d):i.push({failedPropValidation:V,file:d})}),a}function A(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),W(e)}const Se={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},_e=["rejected"];function ze({editable:e,dnd:i,getFileInput:V,addFilesToQueue:o}){const{props:a,emit:d,proxy:y}=K(),x=D(null),j=m(()=>a.accept!==void 0?a.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),P=m(()=>parseInt(a.maxFiles,10)),q=m(()=>parseInt(a.maxTotalSize,10));function N(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target!==null&&t.target.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&H(t);else{const p=V();p&&p!==t.target&&p.click(t)}}function Q(t){e.value&&t&&o(null,t)}function I(t,p,S,_){let n=Array.from(p||t.target.files);const v=[],b=()=>{v.length!==0&&d("rejected",v)};if(a.accept!==void 0&&j.value.indexOf("*/")===-1&&(n=C(n,v,"accept",u=>j.value.some(s=>u.type.toUpperCase().startsWith(s)||u.name.toUpperCase().endsWith(s))),n.length===0))return b();if(a.maxFileSize!==void 0){const u=parseInt(a.maxFileSize,10);if(n=C(n,v,"max-file-size",s=>s.size<=u),n.length===0)return b()}if(a.multiple!==!0&&n.length!==0&&(n=[n[0]]),n.forEach(u=>{u.__key=u.webkitRelativePath+u.lastModified+u.name+u.size}),_===!0){const u=S.map(s=>s.__key);n=C(n,v,"duplicate",s=>u.includes(s.__key)===!1)}if(n.length===0)return b();if(a.maxTotalSize!==void 0){let u=_===!0?S.reduce((s,T)=>s+T.size,0):0;if(n=C(n,v,"max-total-size",s=>(u+=s.size,u<=q.value)),n.length===0)return b()}if(typeof a.filter=="function"){const u=a.filter(n);n=C(n,v,"filter",s=>u.includes(s))}if(a.maxFiles!==void 0){let u=_===!0?S.length:0;if(n=C(n,v,"max-files",()=>(u++,u<=P.value)),n.length===0)return b()}if(b(),n.length!==0)return n}function O(t){A(t),i.value!==!0&&(i.value=!0)}function r(t){W(t),(t.relatedTarget!==null||J.is.safari!==!0?t.relatedTarget!==x.value:document.elementsFromPoint(t.clientX,t.clientY).includes(x.value)===!1)===!0&&(i.value=!1)}function k(t){A(t);const p=t.dataTransfer.files;p.length!==0&&o(null,p),i.value=!1}function U(t){if(i.value===!0)return F("div",{ref:x,class:`q-${t}__dnd absolute-full`,onDragenter:A,onDragover:A,onDragleave:r,onDrop:k})}return Object.assign(y,{pickFiles:N,addFiles:Q}),{pickFiles:N,addFiles:Q,onDragover:O,onDragleave:r,processFiles:I,getDndNode:U,maxFilesNumber:P,maxTotalSizeNumber:q}}const je=Z({name:"QFile",inheritAttrs:!1,props:{...ee,...te,...Se,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...le,..._e],setup(e,{slots:i,emit:V,attrs:o}){const{proxy:a}=K(),d=ae(),y=D(null),x=D(!1),j=ne(e),{pickFiles:P,onDragover:q,onDragleave:N,processFiles:Q,getDndNode:I}=ze({editable:d.editable,dnd:x,getFileInput:E,addFilesToQueue:L}),O=ie(e),r=m(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),k=m(()=>M(r.value)),U=m(()=>r.value.map(l=>l.name).join(", ")),t=m(()=>Ve(r.value.reduce((l,f)=>l+f.size,0))),p=m(()=>({totalSize:t.value,filesNumber:r.value.length,maxFiles:e.maxFiles})),S=m(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:j.value,...o,id:d.targetUid.value,disabled:d.editable.value!==!0})),_=m(()=>"q-file q-field--auto-height"+(x.value===!0?" q-file--dnd":"")),n=m(()=>e.multiple===!0&&e.append===!0);function v(l){const f=r.value.slice();f.splice(l,1),u(f)}function b(l){const f=r.value.indexOf(l);f!==-1&&v(f)}function u(l){V("update:modelValue",e.multiple===!0?l:l[0])}function s(l){l.keyCode===13&&re(l)}function T(l){(l.keyCode===13||l.keyCode===32)&&P(l)}function E(){return y.value}function L(l,f){const g=Q(l,f,r.value,n.value),R=E();R!=null&&(R.value=""),g!==void 0&&((e.multiple===!0?e.modelValue&&g.every(G=>r.value.includes(G)):e.modelValue===g[0])||u(n.value===!0?r.value.concat(g):g))}function w(){return[F("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function X(){if(i.file!==void 0)return r.value.length===0?w():r.value.map((f,g)=>i.file({index:g,file:f,ref:this}));if(i.selected!==void 0)return r.value.length===0?w():i.selected({files:r.value,ref:this});if(e.useChips===!0)return r.value.length===0?w():r.value.map((f,g)=>F(Fe,{key:"file-"+g,removable:d.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{v(g)}},()=>F("span",{class:"ellipsis",textContent:f.name})));const l=e.displayValue!==void 0?e.displayValue:U.value;return l.length!==0?[F("div",{class:e.inputClass,style:e.inputStyle,textContent:l})]:w()}function Y(){const l={ref:y,...S.value,...O.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:L};return e.multiple===!0&&(l.multiple=!0),F("input",l)}return Object.assign(d,{fieldClass:_,emitValue:u,hasValue:k,inputRef:y,innerValue:r,floatingLabel:m(()=>k.value===!0||M(e.displayValue)),computedCounter:m(()=>{if(e.counterLabel!==void 0)return e.counterLabel(p.value);const l=e.maxFiles;return`${r.value.length}${l!==void 0?" / "+l:""} (${t.value})`}),getControlChild:()=>I("file"),getControl:()=>{const l={ref:d.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return d.editable.value===!0&&Object.assign(l,{onDragover:q,onDragleave:N,onKeydown:s,onKeyup:T}),F("div",l,[Y()].concat(X()))}}),Object.assign(a,{removeAtIndex:v,removeFile:b,getNativeElement:()=>y.value}),ue(a,"nativeEl",()=>y.value),oe(d)}}),Pe={class:"form-container column q-pa-lg"},qe={class:"row full-width"},Ne=B("h4",{class:"text-h5 q-my-md"},"Регистрация",-1),Qe=se({__name:"RegisterPage",setup(e){const i=D({surname:null,name:null,patronymic:null,job:"Главный тренер",sport:"Регби",photo:null});return(V,o)=>(de(),ce(Ce,{class:"window-height window-width row justify-center items-center"},{default:h(()=>[B("div",Pe,[B("div",qe,[c(he,{square:"",flat:"",class:"full-width"},{default:h(()=>[c($,null,{default:h(()=>[Ne]),_:1}),c(fe,{inset:""}),c($,null,{default:h(()=>[c(xe,{class:"q-gutter-md q-py-sm q-px-sm"},{default:h(()=>[c(z,{modelValue:i.value.surname,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value.surname=a),label:"Фамилия",outlined:"",clearable:""},null,8,["modelValue"]),c(z,{modelValue:i.value.name,"onUpdate:modelValue":o[1]||(o[1]=a=>i.value.name=a),label:"Имя",outlined:"",clearable:""},null,8,["modelValue"]),c(z,{modelValue:i.value.patronymic,"onUpdate:modelValue":o[2]||(o[2]=a=>i.value.patronymic=a),label:"Отчество",outlined:"",clearable:""},null,8,["modelValue"]),c(z,{modelValue:i.value.job,"onUpdate:modelValue":o[3]||(o[3]=a=>i.value.job=a),label:"Должность",outlined:"",readonly:""},null,8,["modelValue"]),c(z,{modelValue:i.value.sport,"onUpdate:modelValue":o[4]||(o[4]=a=>i.value.sport=a),label:"Вид спорта",outlined:"",readonly:""},null,8,["modelValue"]),c(je,{modelValue:i.value.photo,"onUpdate:modelValue":o[6]||(o[6]=a=>i.value.photo=a),label:"Фото",accept:".png, .jpeg",outlined:""},{prepend:h(()=>[c(me,{name:"cloud_upload",onClick:o[5]||(o[5]=ve(()=>{},["stop","prevent"]))})]),_:1},8,["modelValue"])]),_:1})]),_:1}),c(pe,{class:"q-px-lg q-pb-lg"},{default:h(()=>[c(ge,{type:"submit",color:"secondary","text-color":"dark",size:"lg",class:"full-width",to:"/team"},{default:h(()=>[be(" Зарегистрироваться ")]),_:1})]),_:1})]),_:1})])])]),_:1}))}}),Oe=ye(Qe,[["__file","RegisterPage.vue"]]);export{Oe as default};
