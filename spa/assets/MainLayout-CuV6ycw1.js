import{C as E,V as _e,W as Se,c,w,g as ue,i as ye,X as j,r as f,Y as ne,Z as ge,h as m,$ as pe,a0 as ke,a1 as Te,a2 as Qe,a3 as qe,a4 as we,a5 as Pe,a6 as K,a7 as W,a8 as F,d as Me,k as Ce,l as Z,m as G,n,f as a,v as J,x as g,P as L,a9 as Ve,aa as He,ab as ee,A as xe,_ as $e}from"./index-BFn0Cppg.js";import{Q as Le}from"./QToolbarTitle-BZc8GpyE.js";import{u as Oe,a as Ae,b as Re,Q as Be}from"./QTabs-O2W2XSBW.js";import{Q,a as q,b as O}from"./QItemLabel-DuN-C2zx.js";import{Q as te}from"./QList-G-kWHoEk.js";import{Q as De}from"./QMenu-oS6U-ARc.js";import{Q as je}from"./QToolbar-DYr7dOmz.js";import{Q as N}from"./QResizeObserver-CXlURMH1.js";import{b as Fe,Q as Ie,a as Ne}from"./QLayout-8Tx-gA5r.js";import{T as le}from"./TouchPan-Bhvho9XY.js";import{b as A}from"./format-Dumr6BwO.js";import{Q as Ee}from"./QDrawer-CwAR8Vmf.js";import"./selection-BQXeflt9.js";const R=E({name:"QRouteTab",props:{..._e,...Oe},emits:Ae,setup(l,{slots:b,emit:S}){const d=Se({useDisableForRouterLinkProps:!1}),{renderTab:i,$tabs:h}=Re(l,b,S,{exact:c(()=>l.exact),...d});return w(()=>`${l.name} | ${l.exact} | ${(d.resolvedLink.value||{}).href}`,()=>{h.verifyRouteModel()}),()=>i(d.linkTag.value,d.linkAttrs.value)}}),Ue=E({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(l,{slots:b,emit:S}){const{proxy:{$q:d}}=ue(),i=ye(pe,j);if(i===j)return console.error("QHeader needs to be child of QLayout"),j;const h=f(parseInt(l.heightHint,10)),o=f(!0),e=c(()=>l.reveal===!0||i.view.value.indexOf("H")!==-1||d.platform.is.ios&&i.isContainer.value===!0),v=c(()=>{if(l.modelValue!==!0)return 0;if(e.value===!0)return o.value===!0?h.value:0;const u=h.value-i.scroll.value.position;return u>0?u:0}),C=c(()=>l.modelValue!==!0||e.value===!0&&o.value!==!0),P=c(()=>l.modelValue===!0&&C.value===!0&&l.reveal===!0),V=c(()=>"q-header q-layout__section--marginal "+(e.value===!0?"fixed":"absolute")+"-top"+(l.bordered===!0?" q-header--bordered":"")+(C.value===!0?" q-header--hidden":"")+(l.modelValue!==!0?" q-layout--prevent-focus":"")),y=c(()=>{const u=i.rows.value.top,_={};return u[0]==="l"&&i.left.space===!0&&(_[d.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),u[2]==="r"&&i.right.space===!0&&(_[d.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),_});function z(u,_){i.update("header",u,_)}function p(u,_){u.value!==_&&(u.value=_)}function B({height:u}){p(h,u),z("size",u)}function D(u){P.value===!0&&p(o,!0),S("focusin",u)}w(()=>l.modelValue,u=>{z("space",u),p(o,!0),i.animate()}),w(v,u=>{z("offset",u)}),w(()=>l.reveal,u=>{u===!1&&p(o,l.modelValue)}),w(o,u=>{i.animate(),S("reveal",u)}),w(i.scroll,u=>{l.reveal===!0&&p(o,u.direction==="up"||u.position<=l.revealOffset||u.position-u.inflectionPoint<100)});const M={};return i.instances.header=M,l.modelValue===!0&&z("size",h.value),z("space",l.modelValue),z("offset",v.value),ne(()=>{i.instances.header===M&&(i.instances.header=void 0,z("size",0),z("offset",0),z("space",!1))}),()=>{const u=ge(b.default,[]);return l.elevated===!0&&u.push(m("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),u.push(m(N,{debounce:0,onResize:B})),m("header",{class:V.value,style:y.value,onFocusin:D},u)}}}),ae=["vertical","horizontal"],I={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},oe={prevent:!0,mouse:!0,mouseAllDir:!0},re=l=>l>=250?50:Math.ceil(l/5),Xe=E({name:"QScrollArea",props:{...ke,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(l,{slots:b,emit:S}){const d=f(!1),i=f(!1),h=f(!1),o={vertical:f(0),horizontal:f(0)},e={vertical:{ref:f(null),position:f(0),size:f(0)},horizontal:{ref:f(null),position:f(0),size:f(0)}},{proxy:v}=ue(),C=Te(l,v.$q);let P=null,V;const y=f(null),z=c(()=>"q-scrollarea"+(C.value===!0?" q-scrollarea--dark":""));e.vertical.percentage=c(()=>{const t=e.vertical.size.value-o.vertical.value;if(t<=0)return 0;const r=A(e.vertical.position.value/t,0,1);return Math.round(r*1e4)/1e4}),e.vertical.thumbHidden=c(()=>(l.visible===null?h.value:l.visible)!==!0&&d.value===!1&&i.value===!1||e.vertical.size.value<=o.vertical.value+1),e.vertical.thumbStart=c(()=>e.vertical.percentage.value*(o.vertical.value-e.vertical.thumbSize.value)),e.vertical.thumbSize=c(()=>Math.round(A(o.vertical.value*o.vertical.value/e.vertical.size.value,re(o.vertical.value),o.vertical.value))),e.vertical.style=c(()=>({...l.thumbStyle,...l.verticalThumbStyle,top:`${e.vertical.thumbStart.value}px`,height:`${e.vertical.thumbSize.value}px`})),e.vertical.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.vertical.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(e.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),e.horizontal.percentage=c(()=>{const t=e.horizontal.size.value-o.horizontal.value;if(t<=0)return 0;const r=A(Math.abs(e.horizontal.position.value)/t,0,1);return Math.round(r*1e4)/1e4}),e.horizontal.thumbHidden=c(()=>(l.visible===null?h.value:l.visible)!==!0&&d.value===!1&&i.value===!1||e.horizontal.size.value<=o.horizontal.value+1),e.horizontal.thumbStart=c(()=>e.horizontal.percentage.value*(o.horizontal.value-e.horizontal.thumbSize.value)),e.horizontal.thumbSize=c(()=>Math.round(A(o.horizontal.value*o.horizontal.value/e.horizontal.size.value,re(o.horizontal.value),o.horizontal.value))),e.horizontal.style=c(()=>({...l.thumbStyle,...l.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${e.horizontal.thumbStart.value}px`,width:`${e.horizontal.thumbSize.value}px`})),e.horizontal.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),e.horizontal.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(e.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const p=c(()=>e.vertical.thumbHidden.value===!0&&e.horizontal.thumbHidden.value===!0?l.contentStyle:l.contentActiveStyle),B=[[le,t=>{U(t,"vertical")},void 0,{vertical:!0,...oe}]],D=[[le,t=>{U(t,"horizontal")},void 0,{horizontal:!0,...oe}]];function M(){const t={};return ae.forEach(r=>{const s=e[r];t[r+"Position"]=s.position.value,t[r+"Percentage"]=s.percentage.value,t[r+"Size"]=s.size.value,t[r+"ContainerSize"]=o[r].value}),t}const u=Qe(()=>{const t=M();t.ref=v,S("scroll",t)},0);function _(t,r,s){if(ae.includes(t)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(t==="vertical"?W:F)(y.value,r,s)}function ie({height:t,width:r}){let s=!1;o.vertical.value!==t&&(o.vertical.value=t,s=!0),o.horizontal.value!==r&&(o.horizontal.value=r,s=!0),s===!0&&H()}function se({position:t}){let r=!1;e.vertical.position.value!==t.top&&(e.vertical.position.value=t.top,r=!0),e.horizontal.position.value!==t.left&&(e.horizontal.position.value=t.left,r=!0),r===!0&&H()}function ce({height:t,width:r}){e.horizontal.size.value!==r&&(e.horizontal.size.value=r,H()),e.vertical.size.value!==t&&(e.vertical.size.value=t,H())}function U(t,r){const s=e[r];if(t.isFirst===!0){if(s.thumbHidden.value===!0)return;V=s.position.value,i.value=!0}else if(i.value!==!0)return;t.isFinal===!0&&(i.value=!1);const T=I[r],$=o[r].value,me=(s.size.value-$)/($-s.thumbSize.value),be=t.distance[T.dist],ze=V+(t.direction===T.dir?1:-1)*be*me;Y(ze,r)}function X(t,r){const s=e[r];if(s.thumbHidden.value!==!0){const T=t[I[r].offset];if(T<s.thumbStart.value||T>s.thumbStart.value+s.thumbSize.value){const $=T-s.thumbSize.value/2;Y($/o[r].value*s.size.value,r)}s.ref.value!==null&&s.ref.value.dispatchEvent(new MouseEvent(t.type,t))}}function ve(t){X(t,"vertical")}function fe(t){X(t,"horizontal")}function H(){d.value=!0,P!==null&&clearTimeout(P),P=setTimeout(()=>{P=null,d.value=!1},l.delay),l.onScroll!==void 0&&u()}function Y(t,r){y.value[I[r].scroll]=t}let k=null;function de(){k!==null&&clearTimeout(k),k=setTimeout(()=>{k=null,h.value=!0},v.$q.platform.is.ios?50:0)}function he(){k!==null&&(clearTimeout(k),k=null),h.value=!1}let x=null;return w(()=>v.$q.lang.rtl,t=>{y.value!==null&&F(y.value,Math.abs(e.horizontal.position.value)*(t===!0?-1:1))}),qe(()=>{x={top:e.vertical.position.value,left:e.horizontal.position.value}}),we(()=>{if(x===null)return;const t=y.value;t!==null&&(F(t,x.left),W(t,x.top))}),ne(u.cancel),Object.assign(v,{getScrollTarget:()=>y.value,getScroll:M,getScrollPosition:()=>({top:e.vertical.position.value,left:e.horizontal.position.value}),getScrollPercentage:()=>({top:e.vertical.percentage.value,left:e.horizontal.percentage.value}),setScrollPosition:_,setScrollPercentage(t,r,s){_(t,r*(e[t].size.value-o[t].value)*(t==="horizontal"&&v.$q.lang.rtl===!0?-1:1),s)}}),()=>m("div",{class:z.value,onMouseenter:de,onMouseleave:he},[m("div",{ref:y,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:l.tabindex!==void 0?l.tabindex:void 0},[m("div",{class:"q-scrollarea__content absolute",style:p.value},Pe(b.default,[m(N,{debounce:0,onResize:ce})])),m(Fe,{axis:"both",onScroll:se})]),m(N,{debounce:0,onResize:ie}),m("div",{class:e.vertical.barClass.value,style:[l.barStyle,l.verticalBarStyle],"aria-hidden":"true",onMousedown:ve}),m("div",{class:e.horizontal.barClass.value,style:[l.barStyle,l.horizontalBarStyle],"aria-hidden":"true",onMousedown:fe}),K(m("div",{ref:e.vertical.ref,class:e.vertical.thumbClass.value,style:e.vertical.style.value,"aria-hidden":"true"}),B),K(m("div",{ref:e.horizontal.ref,class:e.horizontal.thumbClass.value,style:e.horizontal.style.value,"aria-hidden":"true"}),D)])}}),Ye=Me({__name:"MainLayout",setup(l){const b=f(!1),S=f(null);function d(){b.value=!b.value}async function i(){const h=ee.getItem("refreshToken");!h||!xe.logout({refreshToken:h})||(ee.clear(),b.value=!1)}return(h,o)=>{const e=Ce("router-view");return Z(),G(Ne,{view:"hHh Lpr lff"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(je,null,{default:n(()=>[a(J,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu","text-color":"dark",class:"mobile-only",onClick:d}),a(Le,{class:"text-dark"},{default:n(()=>[g(" TBuilder ")]),_:1}),a(Be,{modelValue:S.value,"onUpdate:modelValue":o[0]||(o[0]=v=>S.value=v),class:"text-dark desktop-only","active-color":"dark","indicator-color":"dark",shrink:"",stretch:""},{default:n(()=>[a(R,{to:"/team",label:"Команда"}),a(R,{to:"/calendar",label:"Календарь тренировок"}),a(R,{to:"/workout",label:"Конструктор тренировок"}),a(R,{to:"/stats",label:"Статистика"})]),_:1},8,["modelValue"]),a(J,{flat:"",dense:"",round:"",icon:"account_circle","text-color":"dark","aria-label":"Avatar",style:{"margin-left":"12px"}},{default:n(()=>[a(De,{"auto-close":""},{default:n(()=>[a(te,null,{default:n(()=>[a(Q,{to:"/profile",clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[g("Профиль")]),_:1})]),_:1}),a(Q,{to:"/survey",clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[g("Анкета спортсменов")]),_:1})]),_:1}),a(L),a(Q,{onClick:i,clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[g("Выход")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ee,{modelValue:b.value,"onUpdate:modelValue":o[1]||(o[1]=v=>b.value=v),bordered:""},{default:n(()=>[a(Xe,{class:"flex column fit"},{default:n(()=>[a(te,null,{default:n(()=>[a(Q,{to:"/team",clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[a(O,null,{default:n(()=>[g("Команда")]),_:1})]),_:1})]),_:1}),a(L),a(Q,{to:"/calendar",clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[a(O,null,{default:n(()=>[g("Календарь тренировок")]),_:1})]),_:1})]),_:1}),a(L),a(Q,{to:"/workout",clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[a(O,null,{default:n(()=>[g("Конструктор тренировок")]),_:1})]),_:1})]),_:1}),a(L),a(Q,{to:"/stats",clickable:""},{default:n(()=>[a(q,null,{default:n(()=>[a(O,null,{default:n(()=>[g("Статистика")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Ie,null,{default:n(()=>[a(e,null,{default:n(({Component:v})=>[a(Ve,{name:"fade",mode:"out-in"},{default:n(()=>[(Z(),G(He(v)))]),_:2},1024)]),_:1})]),_:1})]),_:1})}}}),it=$e(Ye,[["__file","MainLayout.vue"]]);export{it as default};
