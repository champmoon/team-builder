import{_ as w}from"./index-C79LVW5H.js";import{_ as y,a as k,b as v,c as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-B0hIrowN.js";import{_ as F}from"./CardDescription.vue_vue_type_script_setup_true_lang-DZMpFFUO.js";import{u as N,t as V,F as g,_ as C,a as D,b as E,d as R,c as L}from"./Input.vue_vue_type_script_setup_true_lang-yaBjym3W.js";import{d as P,_ as T,aw as U,b as A,f as s,i as a,v as t,l,h as r,B as d,F as _,j as f,au as O,aD as h,e as m}from"./index-CE0I8MDv.js";import"./useId-BmxNeisE.js";const j={class:"mt-4 text-center text-sm"},H=P({__name:"SendPassword",setup(z){const{sendPassword:p}=T(),{remaining:o,start:c}=U(0),{handleSubmit:S,isSubmitting:x}=N({validationSchema:V(h.REQUEST)}),i=S(async u=>{const e=await p(u);e&&c(e.expire)});return(u,e)=>{const $=O("RouterLink");return m(),A(a(y),{class:"w-full max-w-md"},{default:s(()=>[t(a(v),null,{default:s(()=>[t(a(k),{class:"text-2xl"},{default:s(()=>e[1]||(e[1]=[l("Восстановить пароль")])),_:1}),t(a(F),null,{default:s(()=>e[2]||(e[2]=[l(" Введите свою почту ниже, чтобы восстановить пароль. ")])),_:1})]),_:1}),t(a(B),null,{default:s(()=>[r("form",{onSubmit:e[0]||(e[0]=(...n)=>a(i)&&a(i)(...n)),class:"space-y-2"},[t(a(g),{name:"email"},{default:s(({value:n,handleChange:b})=>[t(a(C),null,{default:s(()=>[t(a(D),null,{default:s(()=>e[3]||(e[3]=[l("Почта")])),_:1}),t(a(E),null,{default:s(()=>[t(a(R),{"model-value":n,"onUpdate:modelValue":b,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),t(a(L))]),_:2},1024)]),_:1}),t(a(w),{disabled:a(x)||a(o)>0,type:"submit",class:"w-full"},{default:s(()=>[a(o)?(m(),d(_,{key:1},[l(" Пожалуйста, подождите "+f(Math.floor(a(o)/60))+":"+f(`${a(o)%60}`.padStart(2,"0")),1)],64)):(m(),d(_,{key:0},[l(" Продолжить ")],64))]),_:1},8,["disabled"])],32),r("div",j,[t($,{to:{name:"LOGIN"},class:"text-primary hover:underline"},{default:s(()=>e[4]||(e[4]=[l(" Вернуться на страницу входа ")])),_:1})])]),_:1})]),_:1})}}});export{H as default};
