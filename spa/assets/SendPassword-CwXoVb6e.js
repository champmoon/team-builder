import{_ as w}from"./index-Crs7OOR2.js";import{_ as y,a as k,b as v,c as C,d as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-FzOuBrzU.js";import{u as N,t as V,F as g,_ as B,a as D,b as E,d as R,c as L}from"./Input.vue_vue_type_script_setup_true_lang-DD38yQ-O.js";import{d as P,$ as T,aw as U,b as A,f as s,i as a,e as m,x as t,k as l,h as d,C as r,F as _,j as f,au as O,aD as h}from"./index-BPf4Rk1d.js";import"./useId-BWTRPJho.js";const j={class:"mt-4 text-center text-sm"},q=P({__name:"SendPassword",setup(z){const{sendPassword:p}=T(),{remaining:n,start:c}=U(0),{handleSubmit:x,isSubmitting:S}=N({validationSchema:V(h.REQUEST)}),i=x(async u=>{const e=await p(u);e&&c(e.expire)});return(u,e)=>{const $=O("RouterLink");return m(),A(a(y),{class:"w-full max-w-md"},{default:s(()=>[t(a(C),null,{default:s(()=>[t(a(k),{class:"text-2xl"},{default:s(()=>e[1]||(e[1]=[l("Восстановить пароль")])),_:1}),t(a(v),null,{default:s(()=>e[2]||(e[2]=[l(" Введите свою почту ниже, чтобы восстановить пароль. ")])),_:1})]),_:1}),t(a(F),null,{default:s(()=>[d("form",{onSubmit:e[0]||(e[0]=(...o)=>a(i)&&a(i)(...o)),class:"space-y-2"},[t(a(g),{name:"email"},{default:s(({value:o,handleChange:b})=>[t(a(B),null,{default:s(()=>[t(a(D),null,{default:s(()=>e[3]||(e[3]=[l("Почта")])),_:1}),t(a(E),null,{default:s(()=>[t(a(R),{"model-value":o,"onUpdate:modelValue":b,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),t(a(L))]),_:2},1024)]),_:1}),t(a(w),{disabled:a(S)||a(n)>0,type:"submit",class:"w-full"},{default:s(()=>[a(n)?(m(),r(_,{key:1},[l(" Пожалуйста, подождите "+f(Math.floor(a(n)/60))+":"+f(`${a(n)%60}`.padStart(2,"0")),1)],64)):(m(),r(_,{key:0},[l(" Продолжить ")],64))]),_:1},8,["disabled"])],32),d("div",j,[t($,{to:{name:"LOGIN"},class:"text-primary hover:underline"},{default:s(()=>e[4]||(e[4]=[l(" Вернуться на страницу входа ")])),_:1})])]),_:1})]),_:1})}}});export{q as default};
