import{P as E,c as N}from"./index-Crs7OOR2.js";import{a as x}from"./useForwardPropsEmits-COt-lDJ5.js";import{d as V,t as L,u as P,a as v,b as c,e as p,f,g as C,D as S,i as e,m as k,y as A,l as O,n as T,x as q}from"./index-BPf4Rk1d.js";import{c as D,u as M}from"./useId-BWTRPJho.js";import{u as z}from"./Collection-CK7GpEza.js";import{u as H,a as j}from"./useFormControl-D8JzIEid.js";import{_ as J}from"./RovingFocusGroup-B63H2_PY.js";import{_ as I}from"./VisuallyHiddenInput-BbFbLGlz.js";import{i as w}from"./nullish-CHIgUVhi.js";import{i as $,C as Q}from"./ohash.D__AXeF1-B1eZjjnB.js";import{_ as U}from"./RovingFocusItem-BHBuGMdo.js";import{P as W}from"./getActiveElement-CA7ud6Nr.js";function F(l,i){return w(l)?!1:Array.isArray(l)?l.some(o=>$(o,i)):$(l,i)}const[X,Y]=D("CheckboxGroupRoot"),fe=V({__name:"CheckboxGroupRoot",props:{defaultValue:{},modelValue:{},rovingFocus:{type:Boolean,default:!0},disabled:{type:Boolean},as:{},asChild:{type:Boolean},dir:{},orientation:{},loop:{type:Boolean},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:i}){const o=l,s=i,{disabled:m,rovingFocus:n,dir:t}=L(o),r=z(t),{primitiveElement:d,currentElement:u}=H(),g=j(u),h=P(o,"modelValue",s,{defaultValue:o.defaultValue??[],passive:o.modelValue===void 0}),_=v(()=>n.value?{loop:o.loop,dir:r.value,orientation:o.orientation}:{});return Y({modelValue:h,rovingFocus:n,disabled:m}),(a,B)=>(p(),c(A(e(n)?e(J):e(E)),k({ref_key:"primitiveElement",ref:d,as:a.as,"as-child":a.asChild},_.value),{default:f(()=>[C(a.$slots,"default"),e(g)&&a.name?(p(),c(e(I),{key:0,name:a.name,value:e(h),required:a.required},null,8,["name","value","required"])):S("",!0)]),_:3},16,["as","as-child"]))}});function y(l){return l==="indeterminate"}function K(l){return y(l)?"indeterminate":l?"checked":"unchecked"}const[Z,G]=D("CheckboxRoot"),ee=V({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null],default:void 0},disabled:{type:Boolean},value:{default:"on"},id:{},asChild:{type:Boolean},as:{default:"button"},name:{},required:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:i}){const o=l,s=i,{forwardRef:m,currentElement:n}=M(),t=X(null),r=P(o,"modelValue",s,{defaultValue:o.defaultValue,passive:o.modelValue===void 0}),d=v(()=>(t==null?void 0:t.disabled.value)||o.disabled),u=v(()=>w(t==null?void 0:t.modelValue.value)?r.value==="indeterminate"?"indeterminate":r.value:F(t.modelValue.value,o.value));function g(){if(w(t==null?void 0:t.modelValue.value))r.value=y(r.value)?!0:!r.value;else{const a=[...t.modelValue.value||[]];if(F(a,o.value)){const B=a.findIndex(b=>$(b,o.value));a.splice(B,1)}else a.push(o.value);t.modelValue.value=a}}const h=j(n),_=v(()=>{var a;return o.id&&n.value?(a=document.querySelector(`[for="${o.id}"]`))==null?void 0:a.innerText:void 0});return G({disabled:d,state:u}),(a,B)=>{var b,R;return p(),c(A((b=e(t))!=null&&b.rovingFocus.value?e(U):e(E)),k(a.$attrs,{id:a.id,ref:e(m),role:"checkbox","as-child":a.asChild,as:a.as,type:a.as==="button"?"button":void 0,"aria-checked":e(y)(u.value)?"mixed":u.value,"aria-required":a.required,"aria-label":a.$attrs["aria-label"]||_.value,"data-state":e(K)(u.value),"data-disabled":d.value?"":void 0,disabled:d.value,focusable:(R=e(t))!=null&&R.rovingFocus.value?!d.value:void 0,onKeydown:O(T(()=>{},["prevent"]),["enter"]),onClick:g}),{default:f(()=>[C(a.$slots,"default",{modelValue:e(r),state:u.value}),e(h)&&a.name&&!e(t)?(p(),c(e(I),{key:0,type:"checkbox",checked:!!u.value,name:a.name,value:a.value,disabled:d.value,required:a.required},null,8,["checked","name","value","disabled","required"])):S("",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"])}}}),ae=V({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{default:"span"}},setup(l){const{forwardRef:i}=M(),o=Z();return(s,m)=>(p(),c(e(W),{present:s.forceMount||e(y)(e(o).state.value)||e(o).state.value===!0},{default:f(()=>[q(e(E),k({ref:e(i),"data-state":e(K)(e(o).state.value),"data-disabled":e(o).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":s.asChild,as:s.as},s.$attrs),{default:f(()=>[C(s.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ve=V({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(l,{emit:i}){const o=l,s=i,m=v(()=>{const{class:t,...r}=o;return r}),n=x(m,s);return(t,r)=>(p(),c(e(ee),k(e(n),{class:e(N)(`peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring
        focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50
        data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground`,o.class)}),{default:f(()=>[q(e(ae),{class:"flex h-full w-full items-center justify-center text-current"},{default:f(()=>[C(t.$slots,"default",{},()=>[q(e(Q),{class:"h-4 w-4"})])]),_:3})]),_:3},16,["class"]))}});export{fe as _,ve as a};
