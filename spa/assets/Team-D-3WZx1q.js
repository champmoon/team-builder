import{P as Ml,_ as Bl}from"./Page.vue_vue_type_script_setup_true_lang-D9qI2XWK.js";import{P as J,c as ee,_ as G}from"./index-Crs7OOR2.js";import{_ as K,X as Pl}from"./Modal.vue_vue_type_script_setup_true_lang-D8UDpHoT.js";import{u as ne,t as oe,F as z,_ as L,a as D,b as N,d as q,c as j,e as Ue}from"./Input.vue_vue_type_script_setup_true_lang-DD38yQ-O.js";import{_ as me,a as pe,b as fe,c as Rl,d as ce,e as ve,f as _e,g as ye,h as Al,i as Me}from"./ComboboxList.vue_vue_type_script_setup_true_lang-DZi4Lp3P.js";import{_ as El}from"./Switch.vue_vue_type_script_setup_true_lang-ByH6EQTE.js";import{i as hl,I as Ol,c as Ll}from"./api-DWHyl1S6.js";import{c as ue,d as b,b as g,e as r,f as a,g as M,q as ge,s as be,i as e,t as Be,u as tl,r as C,a as T,o as Pe,x as l,a1 as Dl,D as le,l as te,n as Z,a2 as Nl,p as Fl,m as P,k as S,j as h,a3 as je,a4 as zl,B as sl,U as ql,a5 as jl,a6 as nl,N as Ve,O as $e,P as Re,w as ol,C as x,h as k,F as U,E,_ as H,A as se,a7 as Gl,a8 as Kl,Z as de,a0 as Hl}from"./index-BPf4Rk1d.js";import{u as Ql,c as Xl,f as X,d as ul,_ as Wl,a as Yl,b as Zl}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-C--jCwtb.js";import{C as Jl}from"./chevrons-up-down-Ckc_WkZY.js";import{i as ea,C as la}from"./ohash.D__AXeF1-B1eZjjnB.js";import{a as W,u as ie,C as aa,_ as Ge,b as Ke,e as He,c as ae,U as dl,d as il,P as ta}from"./ContextMenuTrigger.vue_vue_type_script_setup_true_lang-CsXXOK1m.js";import{a as rl,u as Se}from"./useForwardPropsEmits-COt-lDJ5.js";import{u as ml,a as pl}from"./Collection-CK7GpEza.js";import{u as Q,c as Qe,a as fl}from"./useId-BWTRPJho.js";import{a as sa}from"./useFormControl-D8JzIEid.js";import{_ as na}from"./VisuallyHiddenInput-BbFbLGlz.js";import{_ as oa,a as ua,b as da,c as ia,d as ra,e as Fe,f as xe,g as ze,h as re,i as cl}from"./AvatarImage.vue_vue_type_script_setup_true_lang-B6_qlF__.js";import{_ as Ce,a as Te}from"./index-DXcrlXcb.js";import{P as ma}from"./getActiveElement-CA7ud6Nr.js";import{_ as pa}from"./RovingFocusGroup-B63H2_PY.js";import{_ as fa}from"./RovingFocusItem-BHBuGMdo.js";import{_ as Je}from"./Skeleton.vue_vue_type_script_setup_true_lang-CWzlUr4m.js";import"./Teleport-CRI3oJ-H.js";import"./useTypeahead-DycDFoxL.js";import"./utils-jBiBC--7.js";import"./useNonce-aCLCdmef.js";import"./useFocusGuards-D_ueCkRu.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=ue("CopyIcon",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=ue("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ue("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=ue("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ue("UserMinusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=ue("UserPlusIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),_a=b({__name:"ContextMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(d){const s=d;return Q(),(t,n)=>(r(),g(e(oa),ge(be(s)),{default:a(()=>[M(t.$slots,"default")]),_:3},16))}}),ya=b({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{}},setup(d){const s=d;return Q(),(t,n)=>(r(),g(e(ua),ge(be(s)),{default:a(()=>[M(t.$slots,"default")]),_:3},16))}});function gl(d,s){return`${d}-trigger-${s}`}function bl(d,s){return`${d}-content-${s}`}const[Xe,ga]=Qe("TabsRoot"),ba=b({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(d,{emit:s}){const t=d,n=s,{orientation:o,unmountOnHide:m,dir:f}=Be(t),i=ml(f);Q();const u=tl(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),v=C();return ga({modelValue:u,changeModelValue:y=>{u.value=y},orientation:o,dir:i,unmountOnHide:m,activationMode:t.activationMode,baseId:fl(void 0,"reka-tabs"),tabsList:v}),(y,w)=>(r(),g(e(J),{dir:e(i),"data-orientation":e(o),"as-child":y.asChild,as:y.as},{default:a(()=>[M(y.$slots,"default",{modelValue:e(u)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),Va=b({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(d){const s=d,{forwardRef:t}=Q(),n=Xe(),o=T(()=>gl(n.baseId,s.value)),m=T(()=>bl(n.baseId,s.value)),f=T(()=>s.value===n.modelValue.value),i=C(f.value);return Pe(()=>{requestAnimationFrame(()=>{i.value=!1})}),(u,v)=>(r(),g(e(ma),{present:u.forceMount||f.value,"force-mount":""},{default:a(({present:y})=>[l(e(J),{id:m.value,ref:e(t),"as-child":u.asChild,as:u.as,role:"tabpanel","data-state":f.value?"active":"inactive","data-orientation":e(n).orientation.value,"aria-labelledby":o.value,hidden:!y,tabindex:"0",style:Dl({animationDuration:i.value?"0s":void 0})},{default:a(()=>[!e(n).unmountOnHide.value||y?M(u.$slots,"default",{key:0}):le("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),$a=b({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(d){const s=d,{loop:t}=Be(s),{forwardRef:n,currentElement:o}=Q(),m=Xe();return m.tabsList=o,(f,i)=>(r(),g(e(pa),{"as-child":"",orientation:e(m).orientation.value,dir:e(m).dir.value,loop:e(t)},{default:a(()=>[l(e(J),{ref:e(n),role:"tablist","as-child":f.asChild,as:f.as,"aria-orientation":e(m).orientation.value},{default:a(()=>[M(f.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Sa=b({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(d){const s=d,{forwardRef:t}=Q(),n=Xe(),o=T(()=>gl(n.baseId,s.value)),m=T(()=>bl(n.baseId,s.value)),f=T(()=>s.value===n.modelValue.value);return(i,u)=>(r(),g(e(fa),{"as-child":"",focusable:!i.disabled,active:f.value},{default:a(()=>[l(e(J),{id:o.value,ref:e(t),role:"tab",type:i.as==="button"?"button":void 0,as:i.as,"as-child":i.asChild,"aria-selected":f.value?"true":"false","aria-controls":m.value,"data-state":f.value?"active":"inactive",disabled:i.disabled,"data-disabled":i.disabled?"":void 0,"data-orientation":e(n).orientation.value,onMousedown:u[0]||(u[0]=Z(v=>{!i.disabled&&v.ctrlKey===!1?e(n).changeModelValue(i.value):v.preventDefault()},["left"])),onKeydown:u[1]||(u[1]=te(v=>e(n).changeModelValue(i.value),["enter","space"])),onFocus:u[2]||(u[2]=()=>{const v=e(n).activationMode!=="manual";!f.value&&!i.disabled&&v&&e(n).changeModelValue(i.value)})},{default:a(()=>[M(i.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),[We,wa]=Qe("TagsInputRoot"),ka=b({__name:"TagsInputRoot",props:{modelValue:{},defaultValue:{default:()=>[]},addOnPaste:{type:Boolean},addOnTab:{type:Boolean},addOnBlur:{type:Boolean},duplicate:{type:Boolean},disabled:{type:Boolean},delimiter:{default:","},dir:{},max:{default:0},id:{},convertValue:{},displayValue:{type:Function,default:d=>d.toString()},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","invalid","addTag","removeTag"],setup(d,{emit:s}){const t=d,n=s,{addOnPaste:o,disabled:m,delimiter:f,max:i,id:u,dir:v,addOnBlur:y,addOnTab:w}=Be(t),V=ml(v),c=tl(t,"modelValue",n,{defaultValue:t.defaultValue,passive:!0,deep:!0}),{forwardRef:_,currentElement:p}=Q(),{focused:$}=Nl(p),O=sa(p),{getItems:we,CollectionSlot:Il}=pl({isProvider:!0}),R=C(),Ne=C(!1),Ul=T(()=>Array.isArray(c.value)?[...c.value]:[]);function Ye(I){if(I!==-1){const A=we().filter(F=>F.ref.dataset.disabled!=="");c.value=c.value.filter((F,Y)=>Y!==I),n("removeTag",A[I].value)}}return wa({modelValue:c,onAddValue:I=>{const A=[...Ul.value],F=A.length>0&&typeof A[0]=="object",Y=A.length>0&&typeof t.defaultValue[0]=="object";if((F||Y)&&typeof t.convertValue!="function")throw new Error("You must provide a `convertValue` function when using objects as values.");const B=t.convertValue?t.convertValue(I):I;if(A.length>=i.value&&i.value)return n("invalid",B),!1;if(t.duplicate)return c.value=[...A,B],n("addTag",B),!0;if(A.includes(B))Ne.value=!0;else return c.value=[...A,B],n("addTag",B),!0;return n("invalid",B),!1},onRemoveValue:Ye,onInputKeydown:I=>{const A=I.target,F=we().map(B=>B.ref).filter(B=>B.dataset.disabled!=="");if(!F.length)return;const Y=F.at(-1);switch(I.key){case"Delete":case"Backspace":{if(A.selectionStart!==0||A.selectionEnd!==0)break;if(R.value){const B=F.findIndex(ke=>ke===R.value);Ye(B),R.value=R.value===Y?F.at(B-1):F.at(B+1),I.preventDefault()}else I.key==="Backspace"&&(R.value=Y,I.preventDefault());break}case"Home":case"End":case"ArrowRight":case"ArrowLeft":{const B=I.key==="ArrowRight"&&V.value==="ltr"||I.key==="ArrowLeft"&&V.value==="rtl",ke=!B;if(A.selectionStart!==0||A.selectionEnd!==0)break;if(ke&&!R.value)R.value=Y,I.preventDefault();else if(B&&Y&&R.value===Y)R.value=void 0,I.preventDefault();else if(R.value){const Ze=Ql(I,R.value,void 0,{itemsArray:F,loop:!1,dir:V.value});Ze&&(R.value=Ze),I.preventDefault()}break}case"ArrowUp":case"ArrowDown":{R.value&&I.preventDefault();break}default:R.value=void 0}},selectedElement:R,isInvalidInput:Ne,addOnPaste:o,addOnBlur:y,addOnTab:w,dir:V,disabled:m,delimiter:f,max:i,id:u,displayValue:t.displayValue}),(I,A)=>(r(),g(e(Il),null,{default:a(()=>[l(e(J),{ref:e(_),dir:e(V),as:I.as,"as-child":I.asChild,"data-invalid":Ne.value?"":void 0,"data-disabled":e(m)?"":void 0,"data-focused":e($)?"":void 0},{default:a(()=>[M(I.$slots,"default",{modelValue:e(c)}),e(O)&&I.name?(r(),g(e(na),{key:0,name:I.name,value:e(c),required:I.required,disabled:e(m)},null,8,["name","value","required","disabled"])):le("",!0)]),_:3},8,["dir","as","as-child","data-invalid","data-disabled","data-focused"])]),_:3}))}}),xa=b({__name:"TagsInputInput",props:{placeholder:{},autoFocus:{type:Boolean},maxLength:{},asChild:{type:Boolean},as:{default:"input"}},setup(d){const s=d,t=We(),{forwardRef:n,currentElement:o}=Q();function m(c){if(!t.addOnBlur.value)return;const _=c.target;if(!_.value)return;t.onAddValue(_.value)&&(_.value="")}function f(c){t.addOnTab.value&&y(c)}const i=C(!1);function u(){i.value=!0}function v(){requestAnimationFrame(()=>{i.value=!1})}async function y(c){if(i.value||(await Fl(),c.defaultPrevented))return;const _=c.target;if(!_.value)return;t.onAddValue(_.value)&&(_.value=""),c.preventDefault()}function w(c){if(t.isInvalidInput.value=!1,c.data===null)return;const _=t.delimiter.value;if(_===c.data||_ instanceof RegExp&&_.test(c.data)){const $=c.target;$.value=$.value.replace(_,""),t.onAddValue($.value)&&($.value="")}}function V(c){if(t.addOnPaste.value){c.preventDefault();const _=c.clipboardData;if(!_)return;const p=_.getData("text");t.delimiter.value?p.split(t.delimiter.value).forEach(O=>{t.onAddValue(O)}):t.onAddValue(p)}}return Pe(()=>{const c=o.value.nodeName==="INPUT"?o.value:o.value.querySelector("input");c&&setTimeout(()=>{s.autoFocus&&(c==null||c.focus())},1)}),(c,_)=>{var p;return r(),g(e(J),{id:(p=e(t).id)==null?void 0:p.value,ref:e(n),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",as:c.as,"as-child":c.asChild,maxlength:c.maxLength,placeholder:c.placeholder,disabled:e(t).disabled.value,"data-invalid":e(t).isInvalidInput.value?"":void 0,onInput:w,onKeydown:[te(y,["enter"]),te(f,["tab"]),e(t).onInputKeydown],onBlur:m,onCompositionstart:u,onCompositionend:v,onPaste:V},{default:a(()=>[M(c.$slots,"default")]),_:3},8,["id","as","as-child","maxlength","placeholder","disabled","data-invalid","onKeydown"])}}}),[Vl,Ca]=Qe("TagsInputItem"),Ta=b({__name:"TagsInputItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(d){const s=d,{value:t}=Be(s),n=We(),{forwardRef:o,currentElement:m}=Q(),{CollectionItem:f}=pl(),i=T(()=>n.selectedElement.value===m.value),u=T(()=>s.disabled||n.disabled.value),v=Ca({value:t,isSelected:i,disabled:u,textId:"",displayValue:T(()=>n.displayValue(t.value))});return(y,w)=>(r(),g(e(f),{value:e(t)},{default:a(()=>[l(e(J),{ref:e(o),as:y.as,"as-child":y.asChild,"aria-labelledby":e(v).textId,"aria-current":i.value,"data-disabled":u.value?"":void 0,"data-state":i.value?"active":"inactive"},{default:a(()=>[M(y.$slots,"default")]),_:3},8,["as","as-child","aria-labelledby","aria-current","data-disabled","data-state"])]),_:3},8,["value"]))}}),Ia=b({__name:"TagsInputItemDelete",props:{asChild:{type:Boolean},as:{default:"button"}},setup(d){const s=d;Q();const t=We(),n=Vl(),o=T(()=>{var f;return((f=n.disabled)==null?void 0:f.value)||t.disabled.value});function m(){if(o.value)return;const f=t.modelValue.value.findIndex(i=>ea(i,n.value.value));t.onRemoveValue(f)}return(f,i)=>(r(),g(e(J),P({tabindex:"-1"},s,{"aria-labelledby":e(n).textId,"aria-current":e(n).isSelected.value,"data-state":e(n).isSelected.value?"active":"inactive","data-disabled":o.value?"":void 0,type:f.as==="button"?"button":void 0,onClick:m}),{default:a(()=>[M(f.$slots,"default")]),_:3},16,["aria-labelledby","aria-current","data-state","data-disabled","type"]))}}),Ua=b({__name:"TagsInputItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(d){const s=d,t=Vl();return Q(),t.textId||(t.textId=fl(void 0,"reka-tags-input-item-text")),(n,o)=>(r(),g(e(J),P(s,{id:e(t).textId}),{default:a(()=>[M(n.$slots,"default",{},()=>[S(h(e(t).displayValue.value),1)])]),_:3},16,["id"]))}}),Ma=b({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(d){const s=d;return(t,n)=>(r(),g(e(Xl),ge(be(s)),{default:a(()=>[M(t.$slots,"default")]),_:3},16))}}),Ie=b({__name:"ContextMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(d){const s=d;return(t,n)=>(r(),g(e(_a),ge(be(s)),{default:a(()=>[M(t.$slots,"default")]),_:3},16))}}),el=b({__name:"ContextMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(d){const s=d,t=T(()=>{const{class:n,...o}=s;return o});return(n,o)=>(r(),g(e(ya),P(t.value,{class:e(ee)("px-2 py-1.5 text-sm font-semibold text-foreground",n.inset&&"pl-8",s.class)}),{default:a(()=>[M(n.$slots,"default")]),_:3},16,["class"]))}}),Ba={RESPONSE:sl.array(je)},$l={REQUEST:nl,RESPONSE:je},Sl={REQUEST:nl,RESPONSE:je},wl={REQUEST:sl.object({email:jl,localSportsmanId:ql}),RESPONSE:zl};async function kl(){const d=await Ve.get("/local-sportsmans");return d.status!==$e.Ok?null:Re(Ba.RESPONSE,d.data)}async function Pa(d){const s=await Ve.post("/local-sportsmans",d);return s.status!==$e.Created?null:Re($l.RESPONSE,s.data)}async function Ra(d,s){const t=await Ve.patch("/local-sportsmans",s,{params:{id:d}});return t.status!==$e.Ok?null:Re(Sl.RESPONSE,t.data)}async function Aa(d){return(await Ve.delete("/local-sportsmans",{params:{id:d}})).status===$e.Ok}async function Ea(d){const s=await Ve.post("/local-sportsmans/merge",d);return s.status!==$e.Ok?null:Re(wl.RESPONSE,s.data)}const ha={class:"relative w-full items-center"},Oa=b({__name:"InviteForm",emits:["saved"],setup(d,{emit:s}){const t=s,{handleSubmit:n,isSubmitting:o}=ne({validationSchema:oe(Ol.REQUEST)}),m=C(!1),f=C([]),i=n(async v=>{await hl(v)&&t("saved")});async function u(){const v=await kl();v&&(f.value=v)}return ol(m,async v=>{v&&await u()}),Pe(u),(v,y)=>(r(),x("form",{onSubmit:y[1]||(y[1]=(...w)=>e(i)&&e(i)(...w)),class:"space-y-2"},[l(e(z),{name:"email"},{default:a(({value:w,handleChange:V})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>y[2]||(y[2]=[S("Почта")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),{"model-value":w,"onUpdate:modelValue":V,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),f.value.length?(r(),g(e(z),{key:0,name:"localSportsmanId"},{default:a(({setValue:w})=>[l(e(L),{class:"flex items-center gap-2"},{default:a(()=>[l(e(N),null,{default:a(()=>[l(e(El),{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=V=>m.value=V),size:"lg"},null,8,["modelValue"])]),_:1}),l(e(D),{static:""},{default:a(()=>y[3]||(y[3]=[S(" Уже создавали данного спортсмена? ")])),_:1})]),_:1}),m.value?(r(),g(e(L),{key:0},{default:a(()=>[l(e(D),null,{default:a(()=>y[4]||(y[4]=[S("Спортсмен")])),_:1}),l(e(N),null,{default:a(()=>[l(e(me),{by:"id"},{default:a(()=>[l(e(pe),null,{default:a(()=>[k("div",ha,[l(e(fe),{"display-value":V=>V?e(X)(V):"",placeholder:"Выберите спортсмена..."},null,8,["display-value"]),l(e(Rl),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:a(()=>[l(e(Jl),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),l(e(ce),null,{default:a(()=>[l(e(ve),null,{default:a(()=>y[5]||(y[5]=[S(" Спортсменов не найдено. ")])),_:1}),l(e(_e),null,{default:a(()=>[(r(!0),x(U,null,E(f.value,V=>(r(),g(e(ye),{value:V,onSelect:()=>w(V.id),key:V.id},{default:a(()=>[S(h(e(X)(V))+" ",1),l(e(Al),null,{default:a(()=>[l(e(la),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),l(e(j))]),_:2},1024)):le("",!0)]),_:1})):le("",!0),l(e(G),{loading:e(o),type:"submit",class:"w-full"},{default:a(()=>y[6]||(y[6]=[S(" Добавить ")])),_:1},8,["loading"])],32))}}),La=b({__name:"InviteModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Добавьте спортсмена",description:"Пригласите спортсмена в команду."},{default:a(()=>[l(Oa,{onSaved:n[0]||(n[0]=o=>s.value=!1)})]),_:1},8,["modelValue"]))}}),Da=b({__name:"CreateForm",emits:["saved"],setup(d,{emit:s}){const t=s,{getTeam:n}=W(),{handleSubmit:o,isSubmitting:m}=ne({validationSchema:oe($l.REQUEST)}),f=o(async i=>{await Pa(i)&&(await n(),t("saved"))});return(i,u)=>(r(),x("form",{onSubmit:u[0]||(u[0]=(...v)=>e(f)&&e(f)(...v)),class:"space-y-2"},[l(e(z),{name:"lastName"},{default:a(({componentField:v})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[1]||(u[1]=[S("Фамилия")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),P({type:"text"},v,{placeholder:"Смирнов"}),null,16)]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(z),{name:"firstName"},{default:a(({componentField:v})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[2]||(u[2]=[S("Имя")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),P({type:"text"},v,{placeholder:"Иван"}),null,16)]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(z),{name:"middleName"},{default:a(({componentField:v})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[3]||(u[3]=[S("Отчество")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),P({type:"text"},v,{placeholder:"Петрович"}),null,16)]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(G),{loading:e(m),type:"submit",class:"w-full"},{default:a(()=>u[4]||(u[4]=[S(" Создать ")])),_:1},8,["loading"])],32))}}),Na=b({__name:"CreateModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Создайте спортсмена",description:"Добавьте своего спортсмена в команду."},{default:a(()=>[l(Da,{onSaved:n[0]||(n[0]=o=>s.value=!1)})]),_:1},8,["modelValue"]))}}),Ee=b({__name:"TagsInput",props:{modelValue:{},defaultValue:{},addOnPaste:{type:Boolean},addOnTab:{type:Boolean},addOnBlur:{type:Boolean},duplicate:{type:Boolean},disabled:{type:Boolean},delimiter:{},dir:{},max:{},id:{},convertValue:{type:Function},displayValue:{type:Function},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","invalid","addTag","removeTag"],setup(d,{emit:s}){const t=d,n=s,o=T(()=>{const{class:f,...i}=t;return i}),m=rl(o,n);return(f,i)=>(r(),g(e(ka),P(e(m),{class:e(ee)("flex flex-wrap gap-2 items-center rounded-md border border-input bg-background px-3 py-2 text-sm",t.class)}),{default:a(()=>[M(f.$slots,"default")]),_:3},16,["class"]))}}),he=b({__name:"TagsInputInput",props:{placeholder:{},autoFocus:{type:Boolean},maxLength:{},asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:o,...m}=s;return m}),n=Se(t);return(o,m)=>(r(),g(e(xa),P(e(n),{class:e(ee)("text-sm min-h-6 focus:outline-none flex-1 bg-transparent px-1",s.class)}),null,16,["class"]))}}),Oe=b({__name:"TagsInputItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:o,...m}=s;return m}),n=Se(t);return(o,m)=>(r(),g(e(Ta),P(e(n),{class:e(ee)("flex h-6 items-center rounded bg-secondary data-[state=active]:ring-ring data-[state=active]:ring-2 data-[state=active]:ring-offset-2 ring-offset-background",s.class)}),{default:a(()=>[M(o.$slots,"default")]),_:3},16,["class"]))}}),Le=b({__name:"TagsInputItemDelete",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:o,...m}=s;return m}),n=Se(t);return(o,m)=>(r(),g(e(Ia),P(e(n),{class:e(ee)("flex rounded bg-transparent mr-1",s.class)}),{default:a(()=>[M(o.$slots,"default",{},()=>[l(e(Pl),{class:"w-4 h-4"})])]),_:3},16,["class"]))}}),De=b({__name:"TagsInputItemText",props:{asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:o,...m}=s;return m}),n=Se(t);return(o,m)=>(r(),g(e(Ua),P(e(n),{class:e(ee)("py-1 px-2 text-sm rounded bg-transparent",s.class)}),null,16,["class"]))}}),Fa={class:"flex flex-wrap items-center gap-2"},za=b({__name:"CreateForm",emits:["saved"],setup(d,{emit:s}){const t=s,n=W(),{createGroup:o}=ie(),{SPORTSMANS:m}=se(n),f=C([]),{handleSubmit:i,isSubmitting:u}=ne({validationSchema:oe(aa.REQUEST.pick({name:!0}))}),v=C(""),y=C(!1),{contains:w}=Me({sensitivity:"base"}),V=T(()=>{var p;let _=(p=m.value)==null?void 0:p.map($=>({label:X($),value:$.id}));return _?(f.value.length&&(_=_.filter($=>!f.value.find(O=>w($.label,O.label)))),v.value?_.filter($=>w($.label,v.value)):_):[]}),c=i(async _=>{await o({..._,sportsmansIds:f.value.map($=>$.value)})&&t("saved")});return(_,p)=>(r(),x("form",{onSubmit:p[5]||(p[5]=(...$)=>e(c)&&e(c)(...$)),class:"space-y-2"},[l(e(z),{name:"name"},{default:a(({value:$,setValue:O})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>p[6]||(p[6]=[S("Название группы")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),{"model-value":$,"onUpdate:modelValue":O,type:"text",placeholder:"Группа А"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),k("div",null,[l(e(Ue),{class:"text-md mb-0.5 block"},{default:a(()=>p[7]||(p[7]=[S("Список спортсменов")])),_:1}),l(e(me),{modelValue:f.value,"onUpdate:modelValue":p[3]||(p[3]=$=>f.value=$),open:y.value,"onUpdate:open":p[4]||(p[4]=$=>y.value=$),"ignore-filter":!0,by:"label"},{default:a(()=>[l(e(pe),{"as-child":""},{default:a(()=>[l(e(Ee),{modelValue:f.value,"onUpdate:modelValue":p[2]||(p[2]=$=>f.value=$),class:"gap-2 px-2"},{default:a(()=>[k("div",Fa,[(r(!0),x(U,null,E(f.value,$=>(r(),g(e(Oe),{value:$.label,key:$.value},{default:a(()=>[l(e(De)),l(e(Le),{onClick:O=>f.value=f.value.filter(we=>we.value!==$.value)},null,8,["onClick"])]),_:2},1032,["value"]))),128))]),l(e(fe),{modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=$=>v.value=$),"as-child":""},{default:a(()=>[l(e(he),{onKeydown:p[0]||(p[0]=te(Z(()=>{},["prevent"]),["enter"])),placeholder:"Спортсмен...",class:"h-auto w-full min-w-[200px] rounded-none border-none p-0 shadow-none focus-visible:ring-0"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(e(ce),{class:"w-[--reka-popper-anchor-width]"},{default:a(()=>[l(e(ve),null,{default:a(()=>p[8]||(p[8]=[S(" Спортсмены не найдены ")])),_:1}),l(e(_e),null,{default:a(()=>[(r(!0),x(U,null,E(V.value,$=>(r(),g(e(ye),{value:$,onSelect:Z(()=>{v.value="",f.value.push($),V.value.length===0&&(y.value=!1)},["prevent"]),key:$.value},{default:a(()=>[S(h($.label),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","open"])]),l(e(G),{loading:e(u),type:"submit",class:"w-full"},{default:a(()=>p[9]||(p[9]=[S(" Создать ")])),_:1},8,["loading"])],32))}}),qa=b({__name:"CreateModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Создайте группу",description:"Создайте новую группу спортсменов."},{default:a(()=>[l(za,{onSaved:n[0]||(n[0]=o=>s.value=!1)})]),_:1},8,["modelValue"]))}}),ja={class:"space-y-2"},Ga={class:"flex flex-wrap items-center gap-2"},Ka=b({__name:"DeleteForm",emits:["saved"],setup(d,{emit:s}){const t=s,n=W(),{SPORTSMANS:o}=se(n),m=C([]),f=C(""),i=C(!1),{contains:u}=Me({sensitivity:"base"}),v=T(()=>{var V;let w=(V=o.value)==null?void 0:V.filter(c=>"email"in c).map(c=>({label:X(c),value:c.email}));return w?(m.value.length&&(w=w.filter(c=>!m.value.find(_=>u(c.label,_.label)))),f.value?w.filter(c=>u(c.label,f.value)):w):[]}),y=async()=>{await n.kickSportsmans({sportsmansEmails:m.value.map(V=>V.value)})&&t("saved")};return(w,V)=>(r(),x("div",ja,[k("div",null,[l(e(Ue),{class:"text-md mb-0.5 block"},{default:a(()=>V[5]||(V[5]=[S("Список спортсменов")])),_:1}),l(e(me),{modelValue:m.value,"onUpdate:modelValue":V[3]||(V[3]=c=>m.value=c),open:i.value,"onUpdate:open":V[4]||(V[4]=c=>i.value=c),"ignore-filter":!0,by:"label"},{default:a(()=>[l(e(pe),{"as-child":""},{default:a(()=>[l(e(Ee),{modelValue:m.value,"onUpdate:modelValue":V[2]||(V[2]=c=>m.value=c),class:"gap-2 px-2"},{default:a(()=>[k("div",Ga,[(r(!0),x(U,null,E(m.value,c=>(r(),g(e(Oe),{value:c.label,key:c.value},{default:a(()=>[l(e(De)),l(e(Le),{onClick:_=>m.value=m.value.filter(p=>p.value!==c.value)},null,8,["onClick"])]),_:2},1032,["value"]))),128))]),l(e(fe),{modelValue:f.value,"onUpdate:modelValue":V[1]||(V[1]=c=>f.value=c),"as-child":""},{default:a(()=>[l(e(he),{onKeydown:V[0]||(V[0]=te(Z(()=>{},["prevent"]),["enter"])),placeholder:"Спортсмен...",class:"h-auto w-full min-w-[200px] rounded-none border-none p-0 shadow-none focus-visible:ring-0"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(e(ce),{class:"w-[--reka-popper-anchor-width]"},{default:a(()=>[l(e(ve),null,{default:a(()=>V[6]||(V[6]=[S(" Спортсмены не найдены ")])),_:1}),l(e(_e),null,{default:a(()=>[(r(!0),x(U,null,E(v.value,c=>(r(),g(e(ye),{value:c,onSelect:Z(()=>{f.value="",m.value.push(c),v.value.length===0&&(i.value=!1)},["prevent"]),key:c.value},{default:a(()=>[S(h(c.label),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","open"])]),l(e(G),{onClick:y,variant:"outline",type:"submit",class:"w-full"},{default:a(()=>V[7]||(V[7]=[S(" Удалить ")])),_:1})]))}}),Ha=b({__name:"DeleteModal",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Удаление спортсменов",description:"Удалите спортсменов из команды."},{default:a(()=>[l(Ka,{onSaved:n[0]||(n[0]=o=>s.value=!1)})]),_:1},8,["modelValue"]))}}),Qa={class:"flex items-center gap-4"},Xa=b({__name:"LinkModal",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(d){const s=H(d,"modelValue"),{copy:t,copied:n}=Gl({legacy:!0});async function o(){s.value&&(await t(s.value.link),n.value&&Kl.success("Ссылка скопирована"))}return(m,f)=>(r(),g(K,{"model-value":s.value!==null,"onUpdate:modelValue":f[0]||(f[0]=i=>s.value=null),title:"Пригласительная ссылка",description:"Поделитесь данной ссылкой для приглашения в команду."},{default:a(()=>{var i;return[k("div",Qa,[l(e(q),{"model-value":(i=s.value)==null?void 0:i.link,readonly:""},null,8,["model-value"]),l(e(G),{onClick:o,size:"icon"},{default:a(()=>[l(e(ca),{class:"size-5"})]),_:1})])]}),_:1},8,["model-value"]))}}),Wa=b({__name:"ActionDropdown",setup(d){const s=C(null),t=C(!1),n=C(!1),o=C(!1),m=C(null);async function f(){const i=await Ll();i&&(m.value=i)}return(i,u)=>(r(),x(U,null,[l(e(da),null,{default:a(()=>[l(e(ia),{"as-child":""},{default:a(()=>[l(e(G),{variant:"outline"},{default:a(()=>u[9]||(u[9]=[S(" Управление командой ")])),_:1})]),_:1}),l(e(ra),{align:"end"},{default:a(()=>[l(e(Fe),null,{default:a(()=>u[10]||(u[10]=[S("Моя команда")])),_:1}),l(e(xe)),l(e(ze),null,{default:a(()=>[l(e(Fe),null,{default:a(()=>u[11]||(u[11]=[S("Спортсмены")])),_:1}),l(e(re),{onClick:u[0]||(u[0]=v=>t.value=!0)},{default:a(()=>[l(e(yl),{class:"size-4"}),u[12]||(u[12]=k("span",null,"Добавить спортсмена",-1))]),_:1}),l(e(re),{onClick:u[1]||(u[1]=v=>n.value=!0)},{default:a(()=>[l(e(_l),{class:"size-4"}),u[13]||(u[13]=k("span",null,"Создать спортсмена",-1))]),_:1}),l(e(xe)),l(e(re),{onClick:u[2]||(u[2]=v=>o.value=!0),class:"!text-destructive"},{default:a(()=>[l(e(Ae),{class:"size-4"}),u[14]||(u[14]=k("span",null,"Удалить спортсменов",-1))]),_:1})]),_:1}),l(e(xe)),l(e(ze),null,{default:a(()=>[l(e(Fe),null,{default:a(()=>u[15]||(u[15]=[S("Группы")])),_:1}),l(e(re),{onClick:u[3]||(u[3]=v=>s.value="group")},{default:a(()=>[l(e(Ml),{class:"size-4"}),u[16]||(u[16]=k("span",null,"Создать группу",-1))]),_:1})]),_:1}),l(e(xe)),l(e(ze),null,{default:a(()=>[l(e(re),{onClick:f,class:"!text-chart-3"},{default:a(()=>[l(e(vl),{class:"size-4"}),u[17]||(u[17]=k("span",null,"Ссылка для приглашения",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(La,{modelValue:t.value,"onUpdate:modelValue":u[4]||(u[4]=v=>t.value=v)},null,8,["modelValue"]),l(Na,{modelValue:n.value,"onUpdate:modelValue":u[5]||(u[5]=v=>n.value=v)},null,8,["modelValue"]),l(Ha,{modelValue:o.value,"onUpdate:modelValue":u[6]||(u[6]=v=>o.value=v)},null,8,["modelValue"]),l(Xa,{modelValue:m.value,"onUpdate:modelValue":u[7]||(u[7]=v=>m.value=v)},null,8,["modelValue"]),l(qa,{"model-value":s.value==="group","onUpdate:modelValue":u[8]||(u[8]=v=>s.value=null)},null,8,["model-value"])],64))}}),Ya=["title"],Za={class:"flex flex-1 flex-col gap-1 overflow-hidden"},Ja={class:"truncate text-sm font-semibold"},et={class:"truncate text-xs"},xl=b({__name:"RegisteredItem",props:{item:{}},setup(d){const s=T(()=>X(d.item));return(t,n)=>(r(),x("div",{title:s.value,class:"flex h-fit items-center justify-center gap-3 overflow-hidden rounded-lg border p-3"},[l(e(Ce),{size:"sm"},{default:a(()=>[l(e(Te),null,{default:a(()=>[S(h(e(ul)(t.item)),1)]),_:1}),t.item.avatarUri?(r(),g(e(cl),{key:0,src:t.item.avatarUri,alt:t.item.email},null,8,["src","alt"])):le("",!0)]),_:1}),k("div",Za,[k("h3",Ja,h(s.value),1),k("p",et,h(t.item.email),1)])],8,Ya))}}),lt=b({__name:"RegisteredDropdown",props:{item:{}},setup(d){const{kickSportsmans:s}=W();async function t(){await s({sportsmansEmails:[d.item.email]})}return(n,o)=>(r(),g(e(Ge),null,{default:a(()=>[l(e(Ke),{"as-child":""},{default:a(()=>[l(xl,{item:n.item,class:"cursor-pointer"},null,8,["item"])]),_:1}),l(e(He),{class:"w-[--reka-dropdown-menu-trigger-width]"},{default:a(()=>[l(e(Ie),null,{default:a(()=>[l(e(ae),{onClick:t,class:"!text-destructive"},{default:a(()=>[l(e(Ae),{class:"size-4"}),o[0]||(o[0]=k("span",null,"Исключить из команды",-1))]),_:1})]),_:1})]),_:1})]),_:1}))}}),at=["title"],tt={class:"flex-1 truncate text-sm font-semibold"},Cl=b({__name:"LocalItem",props:{item:{}},setup(d){const s=T(()=>X(d.item));return(t,n)=>(r(),x("div",{title:s.value,class:"flex h-fit items-center justify-center gap-3 overflow-hidden rounded-lg border p-3"},[l(e(Ce),{size:"sm"},{default:a(()=>[l(e(Te),null,{default:a(()=>[l(e(dl),{class:"size-5"})]),_:1})]),_:1}),k("h3",tt,h(s.value),1)],8,at))}}),st=b({__name:"LocalForm",props:{item:{}},emits:["saved"],setup(d,{emit:s}){const t=s,{getTeam:n}=W(),{handleSubmit:o,isSubmitting:m}=ne({validationSchema:oe(Sl.REQUEST),initialValues:{...d.item}}),f=o(async i=>{await Ra(d.item.id,i)&&(await n(),t("saved"))});return(i,u)=>(r(),x("form",{onSubmit:u[0]||(u[0]=(...v)=>e(f)&&e(f)(...v)),class:"space-y-2"},[l(e(z),{name:"lastName"},{default:a(({componentField:v})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[1]||(u[1]=[S("Фамилия")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),P({type:"text"},v,{placeholder:"Смирнов"}),null,16)]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(z),{name:"firstName"},{default:a(({componentField:v})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[2]||(u[2]=[S("Имя")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),P({type:"text"},v,{placeholder:"Иван"}),null,16)]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(z),{name:"middleName"},{default:a(({componentField:v})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[3]||(u[3]=[S("Отчество")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),P({type:"text"},v,{placeholder:"Петрович"}),null,16)]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(G),{loading:e(m),type:"submit",class:"w-full"},{default:a(()=>u[4]||(u[4]=[S(" Применить ")])),_:1},8,["loading"])],32))}}),nt=b({__name:"LocalModal",props:de({item:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Редактирование спортсмена",description:"Измените Вашего спортсмена."},{default:a(()=>[l(st,{item:t.item,onSaved:n[0]||(n[0]=o=>s.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),ot=b({__name:"ConvertForm",props:{id:{}},emits:["saved"],setup(d,{emit:s}){const t=s,{getTeam:n}=W(),{handleSubmit:o,isSubmitting:m}=ne({validationSchema:oe(wl.REQUEST),initialValues:{localSportsmanId:d.id}}),f=C(!1),i=C([]),u=o(async v=>{await Ea(v)&&(await n(),t("saved"))});return ol(f,async v=>{if(!v)return;const y=await kl();y&&(i.value=y)}),(v,y)=>(r(),x("form",{onSubmit:y[0]||(y[0]=(...w)=>e(u)&&e(u)(...w)),class:"space-y-2"},[l(e(z),{name:"email"},{default:a(({value:w,handleChange:V})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>y[1]||(y[1]=[S("Почта")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),{"model-value":w,"onUpdate:modelValue":V,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(G),{loading:e(m),type:"submit",class:"w-full"},{default:a(()=>y[2]||(y[2]=[S(" Привязать ")])),_:1},8,["loading"])],32))}}),ut=b({__name:"ConvertModal",props:de({id:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Привязка спортсмена",description:"Объедините Вашего созданного спортсмена с существующим."},{default:a(()=>[l(ot,{onSaved:n[0]||(n[0]=o=>s.value=!1),id:t.id},null,8,["id"])]),_:1},8,["modelValue"]))}}),dt=b({__name:"LocalDropdown",props:{item:{}},setup(d){const{getTeam:s}=W(),t=C(!1),n=C(!1);async function o(){await Aa(d.item.id)&&await s()}return(m,f)=>(r(),x(U,null,[l(e(Ge),null,{default:a(()=>[l(e(Ke),{"as-child":""},{default:a(()=>[l(Cl,{item:m.item,onClick:f[0]||(f[0]=i=>t.value=!0),class:"cursor-pointer"},null,8,["item"])]),_:1}),l(e(He),{class:"w-[--reka-dropdown-menu-trigger-width]"},{default:a(()=>[l(e(Ie),null,{default:a(()=>[l(e(ae),{onClick:f[1]||(f[1]=i=>n.value=!0)},{default:a(()=>[l(e(vl),{class:"size-4"}),f[4]||(f[4]=k("span",null,"Привязать к спортсмену",-1))]),_:1}),l(e(il)),l(e(ae),{onClick:o,class:"!text-destructive"},{default:a(()=>[l(e(Ae),{class:"size-4"}),f[5]||(f[5]=k("span",null,"Удалить спортсмена",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(nt,{modelValue:t.value,"onUpdate:modelValue":f[2]||(f[2]=i=>t.value=i),item:m.item},null,8,["modelValue","item"]),l(ut,{modelValue:n.value,"onUpdate:modelValue":f[3]||(f[3]=i=>n.value=i),id:m.item.id},null,8,["modelValue","id"])],64))}}),Tl=b({__name:"SportsmanItem",props:{sportsman:{},clickable:{type:Boolean,default:!1}},setup(d){function s(t){return"email"in t}return(t,n)=>t.clickable?(r(),x(U,{key:0},[s(t.sportsman)?(r(),g(lt,{key:0,item:t.sportsman},null,8,["item"])):(r(),g(dt,{key:1,item:t.sportsman},null,8,["item"]))],64)):(r(),x(U,{key:1},[s(t.sportsman)?(r(),g(xl,{key:0,item:t.sportsman},null,8,["item"])):(r(),g(Cl,{key:1,item:t.sportsman},null,8,["item"]))],64))}}),it={class:"flex cursor-pointer items-center gap-3 overflow-hidden rounded-lg border p-3"},rt={class:"flex items-center"},mt={class:"truncate text-sm font-semibold"},qe=3,pt=b({__name:"GroupItem",props:{item:{}},setup(d){const s=T(()=>d.item.sportsmans.slice(0,qe-1).map(t=>"avatarUri"in t?{avatarUri:t.avatarUri,tooltip:X(t),fallback:ul(t)}:{tooltip:X(t)}));return(t,n)=>(r(),x("div",it,[k("div",rt,[(r(!0),x(U,null,E(s.value,o=>(r(),g(e(Ma),{key:o.tooltip},{default:a(()=>[l(e(Wl),null,{default:a(()=>[l(e(Yl),{"as-child":""},{default:a(()=>[l(e(Ce),{size:"sm",class:"border [&:not(:first-of-type)]:-ml-4"},{default:a(()=>[l(e(Te),null,{default:a(()=>[o.fallback?(r(),x(U,{key:0},[S(h(o.fallback),1)],64)):(r(),g(e(dl),{key:1,class:"size-5"}))]),_:2},1024),o.avatarUri?(r(),g(e(cl),{key:0,src:o.avatarUri,alt:o.fallback},null,8,["src","alt"])):le("",!0)]),_:2},1024)]),_:2},1024),l(e(Zl),null,{default:a(()=>[k("p",null,h(o.tooltip),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),t.item.sportsmans.length>qe?(r(),g(e(Ce),{key:0,size:"sm",class:"-ml-4 border bg-background text-foreground"},{default:a(()=>[l(e(Te),null,{default:a(()=>[S(" + "+h(t.item.sportsmans.length-qe+1),1)]),_:1})]),_:1})):le("",!0)]),k("h3",mt,h(t.item.name),1)]))}}),ft={class:"-mx-1 flex-1 space-y-2 overflow-y-auto overflow-x-visible px-1"},ct={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3"},vt=b({__name:"PreviewModal",props:de({item:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=o=>s.value=o),title:"Состав группы",description:"Просмотр списка спортсменов.",size:"lg","only-dialog":""},{default:a(()=>[k("div",ft,[k("div",ct,[(r(!0),x(U,null,E(t.item.sportsmans,o=>(r(),g(Tl,{sportsman:o,key:o.id},null,8,["sportsman"]))),128))])])]),_:1},8,["modelValue"]))}}),_t={class:"space-y-2"},yt={class:"flex flex-wrap items-center gap-2"},gt=b({__name:"AddForm",props:{item:{}},emits:["saved"],setup(d,{emit:s}){const t=d,n=s,o=W(),{addSportsmansToGroup:m}=ie(),{SPORTSMANS:f}=se(o),i=C([]),u=C(""),v=C(!1),{contains:y}=Me({sensitivity:"base"}),w=T(()=>{var _;let c=(_=f.value)==null?void 0:_.filter(p=>!t.item.sportsmans.find($=>$.id===p.id)).map(p=>({label:X(p),value:p.id}));return c?(i.value.length&&(c=c.filter(p=>!i.value.find($=>y(p.label,$.label)))),u.value?c.filter(p=>y(p.label,u.value)):c):[]}),V=async()=>{await m({groupId:t.item.id,sportsmansIds:i.value.map(_=>_.value)})&&n("saved")};return(c,_)=>(r(),x("div",_t,[k("div",null,[l(e(Ue),{class:"text-md mb-0.5 block"},{default:a(()=>_[5]||(_[5]=[S("Список спортсменов")])),_:1}),l(e(me),{modelValue:i.value,"onUpdate:modelValue":_[3]||(_[3]=p=>i.value=p),open:v.value,"onUpdate:open":_[4]||(_[4]=p=>v.value=p),"ignore-filter":!0,by:"label"},{default:a(()=>[l(e(pe),{"as-child":""},{default:a(()=>[l(e(Ee),{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=p=>i.value=p),class:"gap-2 px-2"},{default:a(()=>[k("div",yt,[(r(!0),x(U,null,E(i.value,p=>(r(),g(e(Oe),{value:p.label,key:p.value},{default:a(()=>[l(e(De)),l(e(Le),{onClick:$=>i.value=i.value.filter(O=>O.value!==p.value)},null,8,["onClick"])]),_:2},1032,["value"]))),128))]),l(e(fe),{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=p=>u.value=p),"as-child":""},{default:a(()=>[l(e(he),{onKeydown:_[0]||(_[0]=te(Z(()=>{},["prevent"]),["enter"])),placeholder:"Спортсмен...",class:"h-auto w-full min-w-[200px] rounded-none border-none p-0 shadow-none focus-visible:ring-0"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(e(ce),{class:"w-[--reka-popper-anchor-width]"},{default:a(()=>[l(e(ve),null,{default:a(()=>_[6]||(_[6]=[S(" Спортсмены не найдены ")])),_:1}),l(e(_e),null,{default:a(()=>[(r(!0),x(U,null,E(w.value,p=>(r(),g(e(ye),{value:p,onSelect:Z(()=>{u.value="",i.value.push(p),w.value.length===0&&(v.value=!1)},["prevent"]),key:p.value},{default:a(()=>[S(h(p.label),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","open"])]),l(e(G),{onClick:V,type:"submit",class:"w-full"},{default:a(()=>_[7]||(_[7]=[S(" Добавить ")])),_:1})]))}}),bt=b({__name:"AddModal",props:de({item:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Добавление спортсменов",description:"Добавьте спортсменов в группу."},{default:a(()=>[l(gt,{item:t.item,onSaved:n[0]||(n[0]=o=>s.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),Vt={class:"space-y-2"},$t={class:"flex flex-wrap items-center gap-2"},St=b({__name:"DeleteForm",props:{item:{}},emits:["saved"],setup(d,{emit:s}){const t=d,n=s,o=W(),{removeSportsmansFromGroup:m}=ie(),{SPORTSMANS:f}=se(o),i=C([]),u=C(""),v=C(!1),{contains:y}=Me({sensitivity:"base"}),w=T(()=>{var _;let c=(_=f.value)==null?void 0:_.filter(p=>t.item.sportsmans.find($=>$.id===p.id)).map(p=>({label:X(p),value:p.id}));return c?(i.value.length&&(c=c.filter(p=>!i.value.find($=>y(p.label,$.label)))),u.value?c.filter(p=>y(p.label,u.value)):c):[]}),V=async()=>{await m({groupId:t.item.id,sportsmansIds:i.value.map(_=>_.value)})&&n("saved")};return(c,_)=>(r(),x("div",Vt,[k("div",null,[l(e(Ue),{class:"text-md mb-0.5 block"},{default:a(()=>_[5]||(_[5]=[S("Список спортсменов")])),_:1}),l(e(me),{modelValue:i.value,"onUpdate:modelValue":_[3]||(_[3]=p=>i.value=p),open:v.value,"onUpdate:open":_[4]||(_[4]=p=>v.value=p),"ignore-filter":!0,by:"label"},{default:a(()=>[l(e(pe),{"as-child":""},{default:a(()=>[l(e(Ee),{modelValue:i.value,"onUpdate:modelValue":_[2]||(_[2]=p=>i.value=p),class:"gap-2 px-2"},{default:a(()=>[k("div",$t,[(r(!0),x(U,null,E(i.value,p=>(r(),g(e(Oe),{value:p.label,key:p.value},{default:a(()=>[l(e(De)),l(e(Le),{onClick:$=>i.value=i.value.filter(O=>O.value!==p.value)},null,8,["onClick"])]),_:2},1032,["value"]))),128))]),l(e(fe),{modelValue:u.value,"onUpdate:modelValue":_[1]||(_[1]=p=>u.value=p),"as-child":""},{default:a(()=>[l(e(he),{onKeydown:_[0]||(_[0]=te(Z(()=>{},["prevent"]),["enter"])),placeholder:"Спортсмен...",class:"h-auto w-full min-w-[200px] rounded-none border-none p-0 shadow-none focus-visible:ring-0"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l(e(ce),{class:"w-[--reka-popper-anchor-width]"},{default:a(()=>[l(e(ve),null,{default:a(()=>_[6]||(_[6]=[S(" Спортсмены не найдены ")])),_:1}),l(e(_e),null,{default:a(()=>[(r(!0),x(U,null,E(w.value,p=>(r(),g(e(ye),{value:p,onSelect:Z(()=>{u.value="",i.value.push(p),w.value.length===0&&(v.value=!1)},["prevent"]),key:p.value},{default:a(()=>[S(h(p.label),1)]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","open"])]),l(e(G),{onClick:V,variant:"outline",type:"submit",class:"w-full"},{default:a(()=>_[7]||(_[7]=[S(" Удалить ")])),_:1})]))}}),wt=b({__name:"DeleteModal",props:de({item:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Удаление спортсменов",description:"Удалите спортсменов из группы."},{default:a(()=>[l(St,{item:t.item,onSaved:n[0]||(n[0]=o=>s.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),kt=b({__name:"RenameForm",props:{item:{}},emits:["saved"],setup(d,{emit:s}){const t=s,{patchGroup:n}=ie(),{handleSubmit:o,isSubmitting:m}=ne({validationSchema:oe(ta.REQUEST),initialValues:{name:d.item.name}}),f=o(async i=>{await n(d.item.id,i)&&t("saved")});return(i,u)=>(r(),x("form",{onSubmit:u[0]||(u[0]=(...v)=>e(f)&&e(f)(...v)),class:"space-y-2"},[l(e(z),{name:"name"},{default:a(({value:v,setValue:y})=>[l(e(L),null,{default:a(()=>[l(e(D),null,{default:a(()=>u[1]||(u[1]=[S("Название группы")])),_:1}),l(e(N),null,{default:a(()=>[l(e(q),{"model-value":v,"onUpdate:modelValue":y,type:"text",placeholder:"Группа А"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),l(e(j))]),_:2},1024)]),_:1}),l(e(G),{loading:e(m),type:"submit",class:"w-full"},{default:a(()=>u[2]||(u[2]=[S(" Применить ")])),_:1},8,["loading"])],32))}}),xt=b({__name:"RenameModal",props:de({item:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const s=H(d,"modelValue");return(t,n)=>(r(),g(K,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=o=>s.value=o),title:"Переименовать группу",description:"Задайте новое неазвание для группы спортсменов."},{default:a(()=>[l(kt,{item:t.item,onSaved:n[0]||(n[0]=o=>s.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),Ct=b({__name:"GroupDropdown",props:{item:{}},setup(d){const{deleteGroup:s}=ie(),t=C(null);return(n,o)=>(r(),x(U,null,[l(e(Ge),null,{default:a(()=>[l(e(Ke),{"as-child":""},{default:a(()=>[l(pt,{item:n.item,onClick:o[0]||(o[0]=m=>t.value="preview")},null,8,["item"])]),_:1}),l(e(He),{class:"w-[--reka-dropdown-menu-trigger-width]"},{default:a(()=>[l(e(el),null,{default:a(()=>o[9]||(o[9]=[S("Состав группы")])),_:1}),l(e(Ie),null,{default:a(()=>[l(e(ae),{onClick:o[1]||(o[1]=m=>t.value="add")},{default:a(()=>[l(e(yl),{class:"size-4"}),o[10]||(o[10]=k("span",null,"Добавить спортсменов",-1))]),_:1}),l(e(ae),{onClick:o[2]||(o[2]=m=>t.value="delete"),class:"!text-destructive"},{default:a(()=>[l(e(va),{class:"size-4"}),o[11]||(o[11]=k("span",null,"Удалить спортсменов",-1))]),_:1})]),_:1}),l(e(il)),l(e(el),null,{default:a(()=>o[12]||(o[12]=[S("Группа")])),_:1}),l(e(Ie),null,{default:a(()=>[l(e(ae),{onClick:o[3]||(o[3]=m=>t.value="rename")},{default:a(()=>[l(e(_l),{class:"size-4"}),o[13]||(o[13]=k("span",null,"Переименовать группу",-1))]),_:1}),l(e(ae),{onClick:o[4]||(o[4]=m=>e(s)(n.item.id)),class:"!text-destructive"},{default:a(()=>[l(e(Ae),{class:"size-4"}),o[14]||(o[14]=k("span",null,"Удалить группу",-1))]),_:1})]),_:1})]),_:1})]),_:1}),l(vt,{"model-value":t.value==="preview",item:n.item,"onUpdate:modelValue":o[5]||(o[5]=m=>t.value=null)},null,8,["model-value","item"]),l(bt,{"model-value":t.value==="add",item:n.item,"onUpdate:modelValue":o[6]||(o[6]=m=>t.value=null)},null,8,["model-value","item"]),l(wt,{"model-value":t.value==="delete",item:n.item,"onUpdate:modelValue":o[7]||(o[7]=m=>t.value=null)},null,8,["model-value","item"]),l(xt,{"model-value":t.value==="rename",item:n.item,"onUpdate:modelValue":o[8]||(o[8]=m=>t.value=null)},null,8,["model-value","item"])],64))}}),Tt=b({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(d,{emit:s}){const o=rl(d,s);return(m,f)=>(r(),g(e(ba),ge(be(e(o))),{default:a(()=>[M(m.$slots,"default")]),_:3},16))}}),ll=b({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:n,...o}=s;return o});return(n,o)=>(r(),g(e(Va),P({class:e(ee)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s.class)},t.value),{default:a(()=>[M(n.$slots,"default")]),_:3},16,["class"]))}}),It=b({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:n,...o}=s;return o});return(n,o)=>(r(),g(e($a),P(t.value,{class:e(ee)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s.class)}),{default:a(()=>[M(n.$slots,"default")]),_:3},16,["class"]))}}),Ut={class:"truncate"},al=b({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(d){const s=d,t=T(()=>{const{class:o,...m}=s;return m}),n=Se(t);return(o,m)=>(r(),g(e(Sa),P(e(n),{class:e(ee)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s.class)}),{default:a(()=>[k("span",Ut,[M(o.$slots,"default")])]),_:3},16,["class"]))}}),ss=b({__name:"Team",setup(d){const s=W(),t=ie(),{TEAM:n,SPORTSMANS:o}=se(s),{GROUPS:m}=se(t);async function f(i){if(i==="team"){await s.getTeam();return}await t.getGroups()}return Pe(async()=>{await s.getTeam()}),(i,u)=>{var v;return r(),g(Bl,null,Hl({default:a(()=>[e(n)?(r(),g(e(Tt),{key:0,"onUpdate:modelValue":f,"default-value":"team"},{default:a(()=>[l(e(It),{class:"grid w-full grid-cols-2 sm:w-[24rem]"},{default:a(()=>[l(e(al),{value:"team"},{default:a(()=>u[0]||(u[0]=[S(" Все спортсмены ")])),_:1}),l(e(al),{value:"groups"},{default:a(()=>u[1]||(u[1]=[S(" Группы ")])),_:1})]),_:1}),l(e(ll),{value:"team",class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},{default:a(()=>{var y;return[(y=e(o))!=null&&y.length?(r(!0),x(U,{key:0},E(e(o),w=>(r(),g(Tl,{sportsman:w,key:w.id,clickable:""},null,8,["sportsman"]))),128)):(r(),x(U,{key:1},E(5,w=>k("div",{key:w,class:"flex flex-col gap-3"},[l(e(Je),{class:"h-[4.125rem] rounded-lg"})])),64))]}),_:1}),l(e(ll),{value:"groups",class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5"},{default:a(()=>[e(m)?(r(!0),x(U,{key:0},E(e(m),y=>(r(),g(Ct,{key:y.id,item:y},null,8,["item"]))),128)):(r(),x(U,{key:1},E(5,y=>k("div",{key:y,class:"flex flex-col gap-3"},[l(e(Je),{class:"h-[4.125rem] rounded-lg"})])),64))]),_:1})]),_:1})):le("",!0)]),_:2},[((v=e(o))==null?void 0:v.length)!==0?{name:"actions",fn:a(()=>[l(Wa)]),key:"0"}:void 0]),1024)}}});export{ss as default};
