import{u as D,Q as $}from"./QDate-BaGNRjBk.js";import{Q as w}from"./QDrawer-DkL_fwwV.js";import{Q as B}from"./QToolbarTitle-B_FTrzCQ.js";import{Q as P}from"./QToolbar-BCXDvqGD.js";import{Q as T,a as x,b as u}from"./QItemLabel-BBVA7O39.js";import{z as I,c as g,h as q,O as L,as as V,A as N,d as A,r as y,o as M,E as U,l as d,m as v,n as a,ab as W,ac as m,f as o,y as c,F as C,ad as E,Q as F,ag as _,at as O,_ as z}from"./index-DzM_srFz.js";import{Q as G}from"./QPage-Ciq5b9Oz.js";import{I as H}from"./InnerLoading-DS6JcJwB.js";import"./date-B3h-bvU3.js";import"./format-DPS1XQ7V.js";import"./TouchPan-Ct6QzyD3.js";const Y=["top","middle","bottom"],j=I({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Y.includes(e)}},setup(e,{slots:f}){const r=g(()=>e.align!==void 0?{verticalAlign:e.align}:null),s=g(()=>{const i=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(i!==void 0?` text-${i}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>q("div",{class:s.value,style:r.value,role:"status","aria-label":e.label},L(f.default,e.label!==void 0?[e.label]:[]))}}),J=V("calendar",{state:()=>({workouts:[],isPageLoaded:!1}),actions:{async loadPage(){await this.loadCalendarData(),this.isPageLoaded=!0},async loadCalendarData(){const e=await N.getWorkouts();e&&(this.workouts=e)}}}),K=J,R={key:0,class:"text-h5"},X={key:1,class:"column full-width"},Z=A({__name:"CalendarPage",setup(e){const f={1:{color:"info",textColor:"dark"},2:{color:"warning",textColor:"dark"},3:{color:"positive",textColor:"dark"},4:{color:"secondary",textColor:"dark"},5:{color:"negative",textColor:"dark"}},r=K(),s=D(),i=y(!0);function b(t){const n=new Date(t);return`${n.getFullYear()}/${(n.getMonth()+1).toString().padStart(2,"0")}/${n.getDate().toString().padStart(2,"0")}`}function Q(t){const n=new Date(t);return`${n.getHours().toString().padStart(2,"0")}:${n.getMinutes().toString().padStart(2,"0")}`}const p=y(b(new Date().toISOString().slice(0,-1))),k=g(()=>r.workouts.map(t=>b(t.date))),S=g(()=>r.workouts.filter(t=>b(t.date)===p.value));function h(t){return t.workoutType==="Командная"?"Командная тренировка":t.workoutType==="Групповая"?`Групповая тренировка (${s.groups[t.groupId].name})`:`Индивидуальная тренировка (${`${s.team?.sportsmans[t.sportsmanId].middleName} ${s.team?.sportsmans[t.sportsmanId].firstName} ${s.team?.sportsmans[t.sportsmanId].lastName}`.trim()})`}return M(async()=>{await s.loadTeamData(),await r.loadPage()}),U(()=>{r.isPageLoaded=!1}),(t,n)=>(d(),v(G,{class:"flex items-center column overflow-hidden",padding:""},{default:a(()=>[W(r).isPageLoaded?(d(),m(C,{key:0},[o(w,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=l=>i.value=l),width:322,class:"column items-center q-pa-md bg-transparent"},{default:a(()=>[o($,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=l=>p.value=l),events:k.value,"text-color":"dark","event-color":"info",class:"q-mb-md bg-secondary","no-unset":"","today-btn":"",flat:""},null,8,["modelValue","events"])]),_:1},8,["modelValue"]),o(P,{class:"bg-secondary text-white q-mb-md"},{default:a(()=>[o(B,null,{default:a(()=>[c("Список тренировок")]),_:1})]),_:1}),S.value.length===0?(d(),m("div",R," Список тренировок пуст ")):(d(),m("div",X,[(d(!0),m(C,null,E(S.value,l=>(d(),v(F,{key:l.id,class:"q-mb-md full-width",flat:""},{default:a(()=>[o(T,null,{default:a(()=>[o(x,null,{default:a(()=>[o(u,null,{default:a(()=>[c(_(l.name),1)]),_:2},1024),o(u,{caption:""},{default:a(()=>[c(_(h(l)),1)]),_:2},1024)]),_:2},1024),o(x,{side:""},{default:a(()=>[o(u,null,{default:a(()=>[o(j,O(f[l.status.status],{label:l.status.description}),null,16,["label"])]),_:2},1024),o(u,{caption:""},{default:a(()=>[c(_(Q(l.date)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]))],64)):(d(),v(H,{key:1}))]),_:1}))}}),me=z(Z,[["__file","CalendarPage.vue"]]);export{me as default};
