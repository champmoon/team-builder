import{as as w,A as P,d as x,r as Q,o as N,l as i,m as d,n as e,f as a,a9 as o,ac as A,ae as b,ab as I,af as S,q as C,P as u,y as s,ag as m,U as y,ai as c,_ as q}from"./index-BlxHouq3.js";import{a as p,b as r,Q as h,c as n}from"./QItemLabel-DQHAnvuG.js";import{Q as B}from"./QPage-AO4DD7ft.js";const D=w("profile",{state:()=>({profile:null,isPageLoaded:!1}),actions:{async loadPage(){this.profile=await P.getProfile(),this.isPageLoaded=!0},async uploadAvatar(_){this.profile=await P.updateAvatar(_)}}}),L=D,V=["src"],U=x({__name:"ProfilePage",setup(_){const t=L(),g=Q();async function k(v){const l=v.target;if(!l.files||l.files.length===0)return;const f=new FormData;f.append("avatar",l.files[0]),await t.uploadAvatar(f)}return N(t.loadPage),(v,l)=>(i(),d(B,{class:"column items-center",padding:""},{default:e(()=>[a(S,{class:"q-mb-lg",size:"128px"},{default:e(()=>[o(t).profile?.avatarUri?(i(),A("img",{key:0,src:o(t).profile.avatarUri,style:{"object-fit":"cover"}},null,8,V)):b("",!0),a(I,{name:"account_circle",size:"128px"})]),_:1}),C("input",{onChange:l[0]||(l[0]=f=>k(f)),class:"hidden",ref_key:"fileInput",ref:g,accept:"image/*",type:"file",name:"avatar"},null,544),a(h,{class:"full-width q-mb-lg bg-secondary border-radius-8 overflow-hidden",style:{"max-width":"28rem"}},{default:e(()=>[u((i(),d(p,{onClick:l[1]||(l[1]=f=>g.value?.click()),class:"text-info text-center",clickable:""},{default:e(()=>[a(r,null,{default:e(()=>[s(" Изменить фотографию ")]),_:1})]),_:1})),[[c]])]),_:1}),a(h,{class:"full-width q-mb-lg bg-secondary border-radius-8 overflow-hidden",style:{"max-width":"28rem"}},{default:e(()=>[u((i(),d(p,{clickable:""},{default:e(()=>[a(r,null,{default:e(()=>[a(n,null,{default:e(()=>[s("Фамилия")]),_:1})]),_:1}),a(r,{side:""},{default:e(()=>[a(n,null,{default:e(()=>[s(m(o(t).profile?.middleName),1)]),_:1})]),_:1})]),_:1})),[[c]]),a(y),u((i(),d(p,{clickable:""},{default:e(()=>[a(r,null,{default:e(()=>[a(n,null,{default:e(()=>[s("Имя")]),_:1})]),_:1}),a(r,{side:""},{default:e(()=>[a(n,null,{default:e(()=>[s(m(o(t).profile?.firstName),1)]),_:1})]),_:1})]),_:1})),[[c]]),a(y),o(t).profile?.lastName?u((i(),d(p,{key:0,clickable:""},{default:e(()=>[a(r,null,{default:e(()=>[a(n,null,{default:e(()=>[s("Отчество")]),_:1})]),_:1}),a(r,{side:""},{default:e(()=>[a(n,null,{default:e(()=>[s(m(o(t).profile?.lastName),1)]),_:1})]),_:1})]),_:1})),[[c]]):b("",!0)]),_:1})]),_:1}))}}),E=q(U,[["__file","ProfilePage.vue"]]);export{E as default};
