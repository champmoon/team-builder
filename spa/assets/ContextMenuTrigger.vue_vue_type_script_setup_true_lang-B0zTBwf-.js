import{c as z,d,t as D,r as w,w as j,b as m,e as f,f as c,g,i as a,a as R,o as Q,B as L,v as G,m as C,F as V,s as T,n as O,k as x,a8 as y,A as h,U as E,M as P,N as S,O as B,Q as N}from"./index-DLHU7c2Y.js";import{i as H,k as W,g as K}from"./api-C1oIY9R_.js";import{a as b,b as X,u as Y}from"./useForwardPropsEmits-PfBqLJL5.js";import{P as q,c as U}from"./index-S1t7jIR0.js";import{e as J,g as Z,h as ee,i as te,j as se,k as ae}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BNIYR6d6.js";import{u as k,c as oe}from"./useId-DCbrToum.js";import{u as ne}from"./Collection-V5NtFpxF.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=z("UserIcon",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),[I,re]=oe("ContextMenuRoot"),ie=d({inheritAttrs:!1,__name:"ContextMenuRoot",props:{dir:{},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(e,{emit:t}){const s=e,l=t,{dir:n,modal:i}=D(s);k();const o=ne(n),p=w(!1),_=w();return re({open:p,onOpenChange:u=>{p.value=u},dir:o,modal:i,triggerElement:_}),j(p,u=>{l("update:open",u)}),(u,v)=>(f(),m(a(J),{open:p.value,"onUpdate:open":v[0]||(v[0]=M=>p.value=M),dir:a(o),modal:a(i)},{default:c(()=>[g(u.$slots,"default")]),_:3},8,["open","dir","modal"]))}});function A(e){return e.pointerType!=="mouse"}const ue=d({inheritAttrs:!1,__name:"ContextMenuTrigger",props:{disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"span"}},setup(e){const t=e,{disabled:s}=D(t),{forwardRef:l,currentElement:n}=k(),i=I(),o=w({x:0,y:0}),p=R(()=>({getBoundingClientRect:()=>({width:0,height:0,left:o.value.x,right:o.value.x,top:o.value.y,bottom:o.value.y,...o.value})})),_=w(0);function u(){window.clearTimeout(_.value)}function v(r){o.value={x:r.clientX,y:r.clientY},i.onOpenChange(!0)}async function M(r){s.value||(await T(),r.defaultPrevented||(u(),v(r),r.preventDefault()))}async function F(r){s.value||(await T(),A(r)&&!r.defaultPrevented&&(u(),_.value=window.setTimeout(()=>v(r),700)))}async function $(r){s.value||(await T(),A(r)&&!r.defaultPrevented&&u())}return Q(()=>{n.value&&(i.triggerElement.value=n.value)}),(r,Ce)=>(f(),L(V,null,[G(a(Z),{as:"template",reference:p.value},null,8,["reference"]),G(a(q),C({ref:a(l),as:r.as,"as-child":r.asChild,"data-state":a(i).open.value?"open":"closed","data-disabled":a(s)?"":void 0,style:{WebkitTouchCallout:"none",pointerEvents:"auto"}},r.$attrs,{onContextmenu:M,onPointerdown:F,onPointermove:$,onPointercancel:$,onPointerup:$}),{default:c(()=>[g(r.$slots,"default")]),_:3},16,["as","as-child","data-state","data-disabled"])],64))}}),le=d({__name:"ContextMenuPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(e){const t=e;return(s,l)=>(f(),m(a(ee),O(x(t)),{default:c(()=>[g(s.$slots,"default")]),_:3},16))}}),pe=d({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{default:0},avoidCollisions:{type:Boolean,default:!0},collisionBoundary:{default:()=>[]},collisionPadding:{default:0},sticky:{default:"partial"},hideWhenDetached:{type:Boolean,default:!1},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const n=b(e,t);k();const i=I(),o=w(!1);return(p,_)=>(f(),m(a(te),C(a(n),{side:"right","side-offset":2,align:"start","update-position-strategy":"always",style:{"--reka-context-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-context-menu-content-available-width":"var(--reka-popper-available-width)","--reka-context-menu-content-available-height":"var(--reka-popper-available-height)","--reka-context-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-context-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:_[0]||(_[0]=u=>{!u.defaultPrevented&&o.value&&u.preventDefault(),o.value=!1}),onInteractOutside:_[1]||(_[1]=u=>{u.detail.originalEvent.button===2&&u.target===a(i).triggerElement.value&&u.preventDefault(),!u.defaultPrevented&&!a(i).modal.value&&(o.value=!0)})}),{default:c(()=>[g(p.$slots,"default")]),_:3},16))}}),ce=d({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{}},emits:["select"],setup(e,{emit:t}){const s=e,n=X(t);return k(),(i,o)=>(f(),m(a(se),O(x({...s,...a(n)})),{default:c(()=>[g(i.$slots,"default")]),_:3},16))}}),de=d({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return k(),(s,l)=>(f(),m(a(ae),O(x(t)),{default:c(()=>[g(s.$slots,"default")]),_:3},16))}}),fe={RESPONSE:h.array(y)},me={REQUEST:y.pick({name:!0}),RESPONSE:y},ge={REQUEST:y.pick({name:!0}).merge(h.object({sportsmansIds:h.array(E).optional()})),RESPONSE:y},_e={REQUEST:h.object({groupId:E,sportsmansIds:h.array(E)}),RESPONSE:y},ye={REQUEST:h.object({groupId:E,sportsmansIds:h.array(E)}),RESPONSE:y};async function he(){const e=await P.get("/groups");return e.status!==S.Ok?null:B(fe.RESPONSE,e.data)}async function ve(e,t){const s=await P.patch("/groups",t,{params:{id:e}});return s.status!==S.Ok?null:B(me.RESPONSE,s.data)}async function Pe(e){return(await P.delete("/groups",{params:{id:e}})).status===S.Ok}async function Se(e){const t=await P.post("/groups",e);return t.status!==S.Created?null:B(ge.RESPONSE,t.data)}async function we(e){const t=await P.post("/groups/adds",e);return t.status!==S.Ok?null:B(_e.RESPONSE,t.data)}async function Ee(e){const t=await P.post("/groups/kicks",e);return t.status!==S.Ok?null:B(ye.RESPONSE,t.data)}const Te=N("groups",{state:()=>({groups:null}),actions:{async getGroups(){const e=await he();e&&(this.groups=e.reduce((t,s)=>(t[s.id]=s,t),{}))},async patchGroup(e,t){const s=await ve(e,t);return s?(this.groups[e]=s,!0):!1},async createGroup(e){const t=await Se(e);return t?(this.groups[t.id]=t,!0):!1},async deleteGroup(e){return await Pe(e)?(delete this.groups[e],!0):!1},async addSportsmansToGroup(e){const t=await we(e);return t?(this.groups[t.id]=t,!0):!1},async removeSportsmansFromGroup(e){const t=await Ee(e);return t?(this.groups[t.id]=t,!0):!1}},getters:{GROUPS:e=>e.groups?Object.values(e.groups):null}}),Ge=N("team",{state:()=>({team:null}),actions:{async getTeam(){const e=await K();e&&(this.team=e)},async kickSportsmans(e){const t=await W(e);return t?(this.team=t,!0):!1},inviteSportsman:H},getters:{TEAM:e=>e.team,SPORTSMANS:e=>{var t;return(t=e.team)==null?void 0:t.sportsmans}}}),Ue=d({__name:"ContextMenu",props:{dir:{},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const n=b(e,t);return(i,o)=>(f(),m(a(ie),O(x(a(n))),{default:c(()=>[g(i.$slots,"default")]),_:3},16))}}),Ae=d({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const s=e,l=t,n=R(()=>{const{class:o,...p}=s;return p}),i=b(n,l);return(o,p)=>(f(),m(a(le),null,{default:c(()=>[G(a(pe),C(a(i),{class:a(U)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s.class)}),{default:c(()=>[g(o.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),De=d({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(e,{emit:t}){const s=e,l=t,n=R(()=>{const{class:o,...p}=s;return p}),i=b(n,l);return(o,p)=>(f(),m(a(ce),C(a(i),{class:a(U)(`relative flex cursor-default select-none items-center gap-2 rounded-sm px-2
        py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground
        data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,o.inset&&"pl-8",s.class)}),{default:c(()=>[g(o.$slots,"default")]),_:3},16,["class"]))}}),Ne=d({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,s=R(()=>{const{class:l,...n}=t;return n});return(l,n)=>(f(),m(a(de),C(s.value,{class:a(U)("-mx-1 my-1 h-px bg-border",t.class)}),null,16,["class"]))}}),Ie=d({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){const s=Y(e);return(l,n)=>(f(),m(a(ue),O(x(a(s))),{default:c(()=>[g(l.$slots,"default")]),_:3},16))}});export{ge as C,me as P,$e as U,Ue as _,Ge as a,Ie as b,De as c,Ne as d,Ae as e,Te as u};
