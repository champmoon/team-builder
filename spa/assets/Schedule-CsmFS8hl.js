import{P as la,_ as sa}from"./Page.vue_vue_type_script_setup_true_lang-Bpl_9wTa.js";import{_ as Re}from"./Modal.vue_vue_type_script_setup_true_lang-CuXroU--.js";import{P as z,_ as K,c as X,b as ot}from"./index-S1t7jIR0.js";import{u as Be,t as Ie,F as L,_ as U,a as W,b as M,c as N,d as De,e as St}from"./Input.vue_vue_type_script_setup_true_lang-D-dUZtmQ.js";import{_ as oa,a as na,b as ua,c as ra,d as da,e as Ne}from"./SelectValue.vue_vue_type_script_setup_true_lang-BRl8LapW.js";import{u as ia,_ as We,a as Fe,b as Le,c as ze,d as Ge,e as je,f as Ke,g as He,h as qe}from"./ComboboxList.vue_vue_type_script_setup_true_lang-DOUc4qE5.js";import{c as fe,a as D,r as V,w as ye,d as x,t as Pt,u as lt,o as nt,b as w,e as c,f as o,g as E,h as R,i as e,j as q,n as ne,k as ue,l as S,m as B,p as mt,q as st,s as vt,v as s,x as ca,y as fa,z as oe,A,U as yt,B as T,C as me,F as H,D as Q,W as _e,T as pa,E as ge,G as xt,H as $t,I as ma,J as Ct,K as va,L as ya,S as _a,M as ee,N as te,O as ae,P as ga,Q as ba,R as ha,V as we,X as ka,Y as Dt,Z as Et,_ as wa,$ as Oa}from"./index-DLHU7c2Y.js";import{g as ce,$ as Sa,a as _t,b as Pa,c as xa,d as $a,u as Ca,t as pe,e as gt,i as Ye,f as Qe,h as Oe,j as Da,k as Ea,l as Ra,m as Ze,n as Ba,o as Se,p as Ia,q as Rt,r as bt,s as ve,v as Ta,_ as Ee,w as ut,x as Bt,y as It,z as Tt,A as Vt,B as At,C as Mt,D as Va}from"./NumberFieldInput.vue_vue_type_script_setup_true_lang-Dqch-l6C.js";import{u as Ut,a as Te,U as Aa,_ as Ma,b as Ua,c as Je,d as Na,e as Wa}from"./ContextMenuTrigger.vue_vue_type_script_setup_true_lang-B0zTBwf-.js";import"./api-C1oIY9R_.js";import{f as rt,_ as Fa,a as La,b as za}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-BNIYR6d6.js";import{C as Xe}from"./chevrons-up-down-D27wsbA1.js";import{C as et}from"./ohash.D__AXeF1-wOtztpCT.js";import{u as le,a as be}from"./useForwardPropsEmits-PfBqLJL5.js";import{c as Nt,u as Ve,a as Wt}from"./useId-DCbrToum.js";import{u as Ft}from"./useFormControl-u48-BFO-.js";import{u as Ga}from"./Collection-V5NtFpxF.js";import{_ as ja,a as Ka,b as Ha}from"./PopperContent-bRObJEC0.js";import{_ as qa,a as Ya,b as Qa,u as Za,c as Ja}from"./useBodyScrollLock-DbBY7mPc.js";import{u as Xa}from"./useFocusGuards-DYgzZOh7.js";import{P as el}from"./getActiveElement-PSEvxwrx.js";import{_ as Lt,a as zt}from"./Checkbox.vue_vue_type_script_setup_true_lang-BLw5Y4nW.js";import{_ as ht}from"./Skeleton.vue_vue_type_script_setup_true_lang-BUq85WC_.js";import"./useNonce-CP6YKMfE.js";import"./clamp-jFYhBC76.js";import"./nullish-CHIgUVhi.js";import"./utils-B4geQHNq.js";import"./VisuallyHiddenInput-Du5qlbeu.js";import"./RovingFocusGroup-VfN6yUPF.js";import"./RovingFocusItem-CloR3Wdx.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=fe("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=fe("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=fe("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=fe("FootprintsIcon",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=fe("MedalIcon",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=fe("RussianRubleIcon",[["path",{d:"M6 11h8a4 4 0 0 0 0-8H9v18",key:"18ai8t"}],["path",{d:"M6 15h8",key:"1y8f6l"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=fe("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function kt(t,a){const l=[];let n=t.add({days:1});const u=a;for(;n.compare(u)<0;)l.push(n),n=n.add({days:1});return l}function tt(t){const{dateObj:a,weekStartsOn:l,fixedWeeks:n,locale:u}=t,r=ce(a),p=Array.from({length:r},(y,i)=>a.set({day:i+1})),O=Sa(a),d=_t(a),v=Pa(O,l,u),g=xa(d,l,u),m=kt(v.subtract({days:1}),O),f=kt(d,g.add({days:1})),b=m.length+p.length+f.length;if(n&&b<42){const y=42-b;let i=f[f.length-1];i||(i=_t(a));const k=Array.from({length:y},(_,$)=>{const G=$+1;return i.add({days:G})});f.push(...k)}const P=m.concat(p,f),h=$a(P,7);return{value:a,cells:P,rows:h}}function de(t){const{numberOfMonths:a,dateObj:l,...n}=t,u=[];if(!a||a===1)return u.push(tt({...n,dateObj:l})),u;u.push(tt({...n,dateObj:l}));for(let r=1;r<a;r++){const p=l.add({months:r});u.push(tt({...n,dateObj:p}))}return u}function rl(t){function a(n){return Array.isArray(t.date.value)?t.date.value.some(u=>Oe(u,n)):t.date.value?Oe(t.date.value,n):!1}const l=D(()=>{var n,u,r,p;if(Array.isArray(t.date.value)){if(!t.date.value.length)return!1;for(const O of t.date.value)if((n=t.isDateDisabled)!=null&&n.call(t,O)||(u=t.isDateUnavailable)!=null&&u.call(t,O))return!0}else{if(!t.date.value)return!1;if((r=t.isDateDisabled)!=null&&r.call(t,t.date.value)||(p=t.isDateUnavailable)!=null&&p.call(t,t.date.value))return!0}return!1});return{isDateSelected:a,isInvalid:l}}function dl(t,a){const l=a(t),n=l.compare(t),u={};return n>=7&&(u.day=1),n>=ce(t)&&(u.month=1),l.set({...u})}function il(t,a){const l=a(t),n=t.compare(l),u={};return n>=7&&(u.day=35),n>=ce(t)&&(u.month=13),l.set({...u})}function cl(t,a){return a(t)}function fl(t,a){return a(t)}function pl(t){const a=Ca(t.locale.value),l=D(()=>{const h={calendar:t.placeholder.value.calendar.identifier};return t.placeholder.value.calendar.identifier==="gregory"&&t.placeholder.value.era==="BC"&&(h.era="short"),h}),n=V(de({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})),u=D(()=>n.value.map(h=>h.value));function r(h){return!u.value.some(y=>gt(h,y))}const p=h=>{if(!t.maxValue.value||!n.value.length)return!1;if(t.disabled.value)return!0;const y=n.value[n.value.length-1].value;if(!h&&!t.nextPage.value){const k=y.add({months:1}).set({day:1});return Qe(k,t.maxValue.value)}const i=dl(y,h||t.nextPage.value);return Qe(i,t.maxValue.value)},O=h=>{if(!t.minValue.value||!n.value.length)return!1;if(t.disabled.value)return!0;const y=n.value[0].value;if(!h&&!t.prevPage.value){const k=y.subtract({months:1}).set({day:35});return Ye(k,t.minValue.value)}const i=il(y,h||t.prevPage.value);return Ye(i,t.minValue.value)};function d(h){var y;return!!((y=t.isDateDisabled)!=null&&y.call(t,h)||t.disabled.value||t.maxValue.value&&Qe(h,t.maxValue.value)||t.minValue.value&&Ye(h,t.minValue.value))}const v=h=>{var y;return!!((y=t.isDateUnavailable)!=null&&y.call(t,h))},g=D(()=>n.value.length?n.value[0].rows[0].map(h=>a.dayOfWeek(pe(h),t.weekdayFormat.value)):[]),m=h=>{const y=n.value[0].value;if(!h&&!t.nextPage.value){const $=y.add({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),G=de({dateObj:$,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=G,t.placeholder.value=G[0].value.set({day:1});return}const i=cl(y,h||t.nextPage.value),k=de({dateObj:i,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=k;const _={};if(!h){const $=k[0].value.compare(y);$>=ce(y)&&(_.day=1),$>=365&&(_.month=1)}t.placeholder.value=k[0].value.set({..._})},f=h=>{const y=n.value[0].value;if(!h&&!t.prevPage.value){const $=y.subtract({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),G=de({dateObj:$,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=G,t.placeholder.value=G[0].value.set({day:1});return}const i=fl(y,h||t.prevPage.value),k=de({dateObj:i,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=k;const _={};if(!h){const $=y.compare(k[0].value);$>=ce(y)&&(_.day=1),$>=365&&(_.month=1)}t.placeholder.value=k[0].value.set({..._})};ye(t.placeholder,h=>{u.value.some(y=>gt(y,h))||(n.value=de({dateObj:h,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value}))}),ye([t.locale,t.weekStartsOn,t.fixedWeeks,t.numberOfMonths],()=>{n.value=de({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})});const b=D(()=>{if(!n.value.length)return"";if(t.locale.value!==a.getLocale()&&a.setLocale(t.locale.value),n.value.length===1){const j=n.value[0].value;return`${a.fullMonthAndYear(pe(j),l.value)}`}const h=pe(n.value[0].value),y=pe(n.value[n.value.length-1].value),i=a.fullMonth(h,l.value),k=a.fullMonth(y,l.value),_=a.fullYear(h,l.value),$=a.fullYear(y,l.value);return _===$?`${i} - ${k} ${$}`:`${i} ${_} - ${k} ${$}`}),P=D(()=>`${t.calendarLabel.value??"Event Date"}, ${b.value}`);return{isDateDisabled:d,isDateUnavailable:v,isNextButtonDisabled:p,isPrevButtonDisabled:O,grid:n,weekdays:g,visibleView:u,isOutsideVisibleView:r,formatter:a,nextPage:m,prevPage:f,headingValue:b,fullCalendarLabel:P}}const ml={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},vl={role:"heading","aria-level":"2"},[he,yl]=Nt("CalendarRoot"),_l=x({__name:"CalendarRoot",props:{modelValue:{},multiple:{type:Boolean,default:!1},defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:a}){const l=t,n=a,{disabled:u,readonly:r,initialFocus:p,pagedNavigation:O,weekStartsOn:d,weekdayFormat:v,fixedWeeks:g,multiple:m,minValue:f,maxValue:b,numberOfMonths:P,preventDeselect:h,isDateDisabled:y,isDateUnavailable:i,calendarLabel:k,defaultValue:_,nextPage:$,prevPage:G,dir:j,locale:Ae}=Pt(l),{primitiveElement:re,currentElement:Y}=Ft(),$e=Da(Ae),F=Ga(j),C=lt(l,"modelValue",n,{defaultValue:_.value,passive:l.modelValue===void 0}),se=Ea({defaultPlaceholder:l.placeholder,defaultValue:C.value,locale:l.locale}),Z=lt(l,"placeholder",n,{defaultValue:l.defaultPlaceholder??se.copy(),passive:l.placeholder===void 0});function J(I){Z.value=I.copy()}const{fullCalendarLabel:Me,headingValue:qt,isDateDisabled:dt,isDateUnavailable:it,isNextButtonDisabled:Yt,isPrevButtonDisabled:Qt,weekdays:ct,isOutsideVisibleView:Zt,nextPage:Jt,prevPage:Xt,formatter:ea,grid:ft}=pl({locale:$e,placeholder:Z,weekStartsOn:d,fixedWeeks:g,numberOfMonths:P,minValue:f,maxValue:b,disabled:u,weekdayFormat:v,pagedNavigation:O,isDateDisabled:y.value,isDateUnavailable:i.value,calendarLabel:k,nextPage:$,prevPage:G}),{isInvalid:pt,isDateSelected:ta}=rl({date:C,isDateDisabled:dt,isDateUnavailable:it});ye(C,I=>{if(Array.isArray(I)&&I.length){const ke=I[I.length-1];ke&&!Ze(Z.value,ke)&&J(ke)}else!Array.isArray(I)&&I&&!Ze(Z.value,I)&&J(I)});function aa(I){if(m.value){if(!C.value)C.value=[I.copy()];else if(Array.isArray(C.value)){if(C.value.findIndex(Ce=>Oe(Ce,I))===-1)C.value=[...C.value,I];else if(!h.value){const Ce=C.value.filter(Ue=>!Oe(Ue,I));if(!Ce.length){Z.value=I.copy(),C.value=void 0;return}C.value=Ce.map(Ue=>Ue.copy())}}}else{if(!C.value){C.value=I.copy();return}!h.value&&Ze(C.value,I)?(Z.value=I.copy(),C.value=void 0):C.value=I.copy()}}return nt(()=>{p.value&&Ra(Y.value)}),yl({isDateUnavailable:it,dir:F,isDateDisabled:dt,locale:$e,formatter:ea,modelValue:C,placeholder:Z,disabled:u,initialFocus:p,pagedNavigation:O,grid:ft,weekDays:ct,weekStartsOn:d,weekdayFormat:v,fixedWeeks:g,multiple:m,numberOfMonths:P,readonly:r,preventDeselect:h,fullCalendarLabel:Me,headingValue:qt,isInvalid:pt,isDateSelected:ta,isNextButtonDisabled:Yt,isPrevButtonDisabled:Qt,isOutsideVisibleView:Zt,nextPage:Jt,prevPage:Xt,parentElement:Y,onPlaceholderChange:J,onDateChange:aa}),(I,ke)=>(c(),w(e(z),{ref_key:"primitiveElement",ref:re,as:I.as,"as-child":I.asChild,role:"application","aria-label":e(Me),"data-readonly":e(r)?"":void 0,"data-disabled":e(u)?"":void 0,"data-invalid":e(pt)?"":void 0,dir:e(F)},{default:o(()=>[E(I.$slots,"default",{date:e(Z),grid:e(ft),weekDays:e(ct),weekStartsOn:e(d),locale:e($e),fixedWeeks:e(g),modelValue:e(C)}),R("div",ml,[R("div",vl,q(e(Me)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),gl=x({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t;return(l,n)=>(c(),w(e(z),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),bl=x({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t,l=he();return(n,u)=>(c(),w(e(z),B(a,{"data-disabled":e(l).disabled.value?"":void 0}),{default:o(()=>[E(n.$slots,"default",{headingValue:e(l).headingValue.value},()=>[S(q(e(l).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),hl=x({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(t){const a=t,l=he(),n=D(()=>l.disabled.value?!0:void 0),u=D(()=>l.readonly.value?!0:void 0);return(r,p)=>(c(),w(e(z),B(a,{tabindex:"-1",role:"grid","aria-readonly":u.value,"aria-disabled":n.value,"data-readonly":u.value&&"","data-disabled":n.value&&""}),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),kl=x({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(t){const a=he();return(l,n)=>{var u,r;return c(),w(e(z),{as:l.as,"as-child":l.asChild,role:"gridcell","aria-selected":e(a).isDateSelected(l.date)?!0:void 0,"aria-disabled":e(a).isDateDisabled(l.date)||((r=(u=e(a)).isDateUnavailable)==null?void 0:r.call(u,l.date)),"data-disabled":e(a).isDateDisabled(l.date)?"":void 0},{default:o(()=>[E(l.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),wl=x({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(t){const a=t;return(l,n)=>(c(),w(e(z),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Ol=x({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=D(()=>n.disabled.value||n.isNextButtonDisabled(a.nextPage)),n=he();return(u,r)=>(c(),w(e(z),{as:a.as,"as-child":a.asChild,"aria-label":"Next page",type:u.as==="button"?"button":void 0,"aria-disabled":l.value||void 0,"data-disabled":l.value||void 0,disabled:l.value,onClick:r[0]||(r[0]=p=>e(n).nextPage(a.nextPage))},{default:o(()=>[E(u.$slots,"default",{disabled:l.value},()=>[r[1]||(r[1]=S(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Sl=x({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=D(()=>n.disabled.value||n.isPrevButtonDisabled(a.prevPage)),n=he();return(u,r)=>(c(),w(e(z),{"aria-label":"Previous page",as:a.as,"as-child":a.asChild,type:u.as==="button"?"button":void 0,"aria-disabled":l.value||void 0,"data-disabled":l.value||void 0,disabled:l.value,onClick:r[0]||(r[0]=p=>e(n).prevPage(a.prevPage))},{default:o(()=>[E(u.$slots,"default",{disabled:l.value},()=>[r[1]||(r[1]=S(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Pl=x({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(t){const a=t;return(l,n)=>(c(),w(e(z),B(a,{"aria-hidden":"true"}),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),xl=x({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(t){const a=t;return(l,n)=>(c(),w(e(z),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),$l=x({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(t){const a=t;return(l,n)=>(c(),w(e(z),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Cl="[data-reka-calendar-cell-trigger]:not([data-outside-view]):not([data-outside-visible-view])";function at(t){return Array.from(t.querySelectorAll(Cl))??[]}const Dl=x({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t,l=ia(),n=he(),{primitiveElement:u,currentElement:r}=Ft(),p=D(()=>a.day.day.toLocaleString(n.locale.value)),O=D(()=>n.formatter.custom(pe(a.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),d=D(()=>n.isDateDisabled(a.day)),v=D(()=>{var k;return((k=n.isDateUnavailable)==null?void 0:k.call(n,a.day))??!1}),g=D(()=>Ba(a.day,Se())),m=D(()=>!Ia(a.day,a.month)),f=D(()=>n.isOutsideVisibleView(a.day)),b=D(()=>!n.disabled.value&&Oe(a.day,n.placeholder.value)),P=D(()=>n.isDateSelected(a.day));function h(k){var _;n.readonly.value||n.isDateDisabled(k)||(_=n.isDateUnavailable)!=null&&_.call(n,k)||n.onDateChange(k)}function y(){h(a.day)}function i(k){k.preventDefault(),k.stopPropagation();const _=n.parentElement.value,$=7,G=n.dir.value==="rtl"?-1:1;switch(k.code){case l.ARROW_RIGHT:j(r.value,G);break;case l.ARROW_LEFT:j(r.value,-G);break;case l.ARROW_UP:j(r.value,-7);break;case l.ARROW_DOWN:j(r.value,$);break;case l.ENTER:case l.SPACE_CODE:h(a.day)}function j(Ae,re){const Y=at(_);if(!Y.length)return;const F=Y.indexOf(Ae)+re;if(F>=0&&F<Y.length){Y[F].hasAttribute("data-disabled")&&j(Y[F],re),Y[F].focus();return}if(F<0){if(n.isPrevButtonDisabled())return;n.prevPage(),vt(()=>{const C=at(_);if(!C.length)return;if(!n.pagedNavigation.value&&n.numberOfMonths.value>1){const J=ce(n.placeholder.value)-Math.abs(F);C[J].hasAttribute("data-disabled")&&j(C[J],re),C[J].focus();return}const se=C.length-Math.abs(F);C[se].hasAttribute("data-disabled")&&j(C[se],re),C[se].focus()});return}if(F>=Y.length){if(n.isNextButtonDisabled())return;n.nextPage(),vt(()=>{const C=at(_);if(!C.length)return;if(!n.pagedNavigation.value&&n.numberOfMonths.value>1){const Z=ce(n.placeholder.value.add({months:n.numberOfMonths.value-1})),J=F-Y.length+(C.length-Z);C[J].hasAttribute("data-disabled")&&j(C[J],re),C[J].focus();return}const se=F-Y.length;C[se].hasAttribute("data-disabled")&&j(C[se],re),C[se].focus()})}}}return(k,_)=>(c(),w(e(z),B({ref_key:"primitiveElement",ref:u},a,{role:"button","aria-label":O.value,"data-reka-calendar-cell-trigger":"","aria-disabled":d.value||v.value?!0:void 0,"data-selected":P.value?!0:void 0,"data-value":k.day.toString(),"data-disabled":d.value?"":void 0,"data-unavailable":v.value?"":void 0,"data-today":g.value?"":void 0,"data-outside-view":m.value?"":void 0,"data-outside-visible-view":f.value?"":void 0,"data-focused":b.value?"":void 0,tabindex:b.value?0:m.value||d.value?void 0:-1,onClick:y,onKeydown:[mt(i,["up","down","left","right","space","enter"]),_[0]||(_[0]=mt(st(()=>{},["prevent"]),["enter"]))]}),{default:o(()=>[E(k.$slots,"default",{dayValue:p.value,disabled:d.value,today:g.value,selected:P.value,outsideView:m.value,outsideVisibleView:f.value,unavailable:v.value},()=>[S(q(p.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}}),[Pe,El]=Nt("PopoverRoot"),Rl=x({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:a}){const l=t,n=a,{modal:u}=Pt(l),r=lt(l,"open",n,{defaultValue:l.defaultOpen,passive:l.open===void 0}),p=V(),O=V(!1);return El({contentId:"",triggerId:"",modal:u,open:r,onOpenChange:d=>{r.value=d},onOpenToggle:()=>{r.value=!r.value},triggerElement:p,hasCustomAnchor:O}),(d,v)=>(c(),w(e(ja),null,{default:o(()=>[E(d.$slots,"default",{open:e(r)})]),_:3}))}}),Bl=x({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=Pe(),{forwardRef:n,currentElement:u}=Ve();return l.triggerId||(l.triggerId=Wt(void 0,"reka-popover-trigger")),nt(()=>{l.triggerElement.value=u.value}),(r,p)=>(c(),w(ca(e(l).hasCustomAnchor.value?e(z):e(Ka)),{"as-child":""},{default:o(()=>[s(e(z),{id:e(l).triggerId,ref:e(n),type:r.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(l).open.value,"aria-controls":e(l).contentId,"data-state":e(l).open.value?"open":"closed",as:r.as,"as-child":a.asChild,onClick:e(l).onOpenToggle},{default:o(()=>[E(r.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Il=x({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const a=t;return(l,n)=>(c(),w(e(qa),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Gt=x({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,u=le(fa(l,"trapFocus","disableOutsidePointerEvents")),{forwardRef:r}=Ve(),p=Pe();return Xa(),(O,d)=>(c(),w(e(Qa),{"as-child":"",loop:"",trapped:O.trapFocus,onMountAutoFocus:d[5]||(d[5]=v=>n("openAutoFocus",v)),onUnmountAutoFocus:d[6]||(d[6]=v=>n("closeAutoFocus",v))},{default:o(()=>[s(e(Ya),{"as-child":"","disable-outside-pointer-events":O.disableOutsidePointerEvents,onPointerDownOutside:d[0]||(d[0]=v=>n("pointerDownOutside",v)),onInteractOutside:d[1]||(d[1]=v=>n("interactOutside",v)),onEscapeKeyDown:d[2]||(d[2]=v=>n("escapeKeyDown",v)),onFocusOutside:d[3]||(d[3]=v=>n("focusOutside",v)),onDismiss:d[4]||(d[4]=v=>e(p).onOpenChange(!1))},{default:o(()=>[s(e(Ha),B(e(u),{id:e(p).contentId,ref:e(r),"data-state":e(p).open.value?"open":"closed","aria-labelledby":e(p).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:o(()=>[E(O.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Tl=x({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,u=Pe(),r=V(!1);Za(!0);const p=be(l,n),{forwardRef:O,currentElement:d}=Ve();return Ja(d),(v,g)=>(c(),w(Gt,B(e(p),{ref:e(O),"trap-focus":e(u).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:g[0]||(g[0]=st(m=>{var f;n("closeAutoFocus",m),r.value||(f=e(u).triggerElement.value)==null||f.focus()},["prevent"])),onPointerDownOutside:g[1]||(g[1]=m=>{n("pointerDownOutside",m);const f=m.detail.originalEvent,b=f.button===0&&f.ctrlKey===!0,P=f.button===2||b;r.value=P}),onFocusOutside:g[2]||(g[2]=st(()=>{},["prevent"]))}),{default:o(()=>[E(v.$slots,"default")]),_:3},16,["trap-focus"]))}}),Vl=x({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,u=Pe(),r=V(!1),p=V(!1),O=be(l,n);return(d,v)=>(c(),w(Gt,B(e(O),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:v[0]||(v[0]=g=>{var m;n("closeAutoFocus",g),g.defaultPrevented||(r.value||(m=e(u).triggerElement.value)==null||m.focus(),g.preventDefault()),r.value=!1,p.value=!1}),onInteractOutside:v[1]||(v[1]=async g=>{var b;n("interactOutside",g),g.defaultPrevented||(r.value=!0,g.detail.originalEvent.type==="pointerdown"&&(p.value=!0));const m=g.target;((b=e(u).triggerElement.value)==null?void 0:b.contains(m))&&g.preventDefault(),g.detail.originalEvent.type==="focusin"&&p.value&&g.preventDefault()})}),{default:o(()=>[E(d.$slots,"default")]),_:3},16))}}),Al=x({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,u=Pe(),r=be(l,n),{forwardRef:p}=Ve();return u.contentId||(u.contentId=Wt(void 0,"reka-popover-content")),(O,d)=>(c(),w(e(el),{present:O.forceMount||e(u).open.value},{default:o(()=>[e(u).modal.value?(c(),w(Tl,B({key:0},e(r),{ref:e(p)}),{default:o(()=>[E(O.$slots,"default")]),_:3},16)):(c(),w(Vl,B({key:1},e(r),{ref:e(p)}),{default:o(()=>[E(O.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ml={class:"relative w-full items-center"},Ul={class:"relative w-full items-center"},Nl={class:"relative w-full items-center"},Wl=x({__name:"TypeForm",emits:["saved"],setup(t,{emit:a}){const l=Rt(),n=Ut(),u=Te(),{WORKOUT_POOLS:r}=oe(l),{GROUPS:p}=oe(n),{SPORTSMANS:O}=oe(u),d=a,{handleSubmit:v,values:g,setFieldValue:m}=Be({validationSchema:Ie(A.object({type:A.union([A.literal("team"),A.literal("group"),A.literal("individual")]),id:yt.optional(),workoutPoolId:yt}).refine(y=>y.type==="team"?!0:!!y.id,{message:"Обязательное поле",path:["id"]})),initialValues:{type:"team"},keepValuesOnUnmount:!0}),f=D(()=>{var y;return(y=p.value)==null?void 0:y.map(i=>({label:i.name,value:i.id}))}),b=D(()=>{var y;return(y=O.value)==null?void 0:y.map(i=>({label:rt(i),value:i.id}))}),P=D(()=>{var y;return(y=r.value)==null?void 0:y.map(i=>({label:i.name,value:i.id}))}),h=v(y=>{d("saved",y)});return(y,i)=>(c(),T("form",{onSubmit:i[1]||(i[1]=(...k)=>e(h)&&e(h)(...k)),class:"flex-1 space-y-2"},[s(e(L),{name:"type"},{default:o(({componentField:k})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[2]||(i[2]=[S("Тип тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(oa),B(k,{"onUpdate:modelValue":i[0]||(i[0]=_=>e(m)("id",void 0))}),{default:o(()=>[s(e(na),null,{default:o(()=>[s(e(ua))]),_:1}),s(e(ra),null,{default:o(()=>[s(e(da),null,{default:o(()=>[s(e(Ne),{value:"team"},{default:o(()=>i[3]||(i[3]=[S(" Командная ")])),_:1}),s(e(Ne),{value:"group"},{default:o(()=>i[4]||(i[4]=[S(" Групповая ")])),_:1}),s(e(Ne),{value:"individual"},{default:o(()=>i[5]||(i[5]=[S(" Индивидуальная ")])),_:1})]),_:1})]),_:1})]),_:2},1040)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),e(g).type!=="team"?(c(),w(e(L),{key:0,name:"id"},{default:o(({setValue:k})=>[e(g).type==="group"?(c(),w(e(U),{key:0},{default:o(()=>[s(e(W),null,{default:o(()=>i[6]||(i[6]=[S(" Группа ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(We),{by:"value"},{default:o(()=>[s(e(Fe),null,{default:o(()=>[R("div",Ml,[s(e(Le),{"display-value":_=>_&&e(g).id?_.label:"",placeholder:"Выберите группу..."},null,8,["display-value"]),s(e(ze),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(Xe),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(Ge),null,{default:o(()=>[s(e(je),null,{default:o(()=>i[7]||(i[7]=[S(" Группы не найдены. ")])),_:1}),s(e(Ke),null,{default:o(()=>[(c(!0),T(H,null,Q(f.value,_=>(c(),w(e(He),{value:_,onSelect:()=>k(_.value),key:_.value},{default:o(()=>[S(q(_.label)+" ",1),s(e(qe),null,{default:o(()=>[s(e(et),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)):me("",!0),e(g).type==="individual"?(c(),w(e(U),{key:1},{default:o(()=>[s(e(W),null,{default:o(()=>i[8]||(i[8]=[S(" Спортсмен ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(We),{by:"value"},{default:o(()=>[s(e(Fe),null,{default:o(()=>[R("div",Ul,[s(e(Le),{"display-value":_=>_&&e(g).id?_.label:"",placeholder:"Выберите спортсмена..."},null,8,["display-value"]),s(e(ze),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(Xe),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(Ge),null,{default:o(()=>[s(e(je),null,{default:o(()=>i[9]||(i[9]=[S(" Спортсмены не найдены. ")])),_:1}),s(e(Ke),null,{default:o(()=>[(c(!0),T(H,null,Q(b.value,_=>(c(),w(e(He),{value:_,onSelect:()=>k(_.value),key:_.value},{default:o(()=>[S(q(_.label)+" ",1),s(e(qe),null,{default:o(()=>[s(e(et),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)):me("",!0)]),_:1})):me("",!0),s(e(L),{name:"workoutPoolId"},{default:o(({setValue:k})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[10]||(i[10]=[S(" Программа тренировки ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(We),{by:"value"},{default:o(()=>[s(e(Fe),null,{default:o(()=>[R("div",Nl,[s(e(Le),{"display-value":_=>_?_.label:"",placeholder:"Выберите программу..."},null,8,["display-value"]),s(e(ze),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(Xe),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(Ge),null,{default:o(()=>[s(e(je),null,{default:o(()=>i[11]||(i[11]=[S(" Программы не найдены. ")])),_:1}),s(e(Ke),null,{default:o(()=>[(c(!0),T(H,null,Q(P.value,_=>(c(),w(e(He),{value:_,onSelect:()=>k(_.value),key:_.value},{default:o(()=>[S(q(_.label)+" ",1),s(e(qe),null,{default:o(()=>[s(e(et),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(K),{type:"submit",class:"w-full"},{default:o(()=>i[12]||(i[12]=[S(" Далее ")])),_:1})],32))}}),Fl={class:"mt-4 flex flex-col gap-4 sm:flex-row"},jt=x({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{default:"ru-RU"},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{},isDateUnavailable:{},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{},class:{},events:{}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:a}){const l=t,n=a,u=D(()=>{const{class:O,...d}=l;return d}),r=be(u,n);function p(O,d,v){var g;return(g=l.events)==null?void 0:g.find(m=>m.year===O&&m.month===d&&m.day===v)}return(O,d)=>(c(),w(e(_l),B({class:e(X)("p-3",l.class)},e(r)),{default:o(({grid:v})=>[s(e(Hl),null,{default:o(()=>[s(e(Ql)),s(e(ql)),s(e(Yl))]),_:1}),R("div",Fl,[(c(!0),T(H,null,Q(v,g=>(c(),w(e(Gl),{key:g.value.toString()},{default:o(()=>[s(e(Kl),null,{default:o(()=>[s(e(wt),null,{default:o(()=>[s(e(ie),null,{default:o(()=>d[0]||(d[0]=[S(" Пн ")])),_:1}),s(e(ie),null,{default:o(()=>d[1]||(d[1]=[S(" Вт ")])),_:1}),s(e(ie),null,{default:o(()=>d[2]||(d[2]=[S(" Ср ")])),_:1}),s(e(ie),null,{default:o(()=>d[3]||(d[3]=[S(" Чт ")])),_:1}),s(e(ie),null,{default:o(()=>d[4]||(d[4]=[S(" Пт ")])),_:1}),s(e(ie),null,{default:o(()=>d[5]||(d[5]=[S(" Сб ")])),_:1}),s(e(ie),null,{default:o(()=>d[6]||(d[6]=[S(" Вс ")])),_:1})]),_:1})]),_:1}),s(e(jl),null,{default:o(()=>[(c(!0),T(H,null,Q(g.rows,(m,f)=>(c(),w(e(wt),{key:`weekDate-${f}`,class:"mt-2 w-full"},{default:o(()=>[(c(!0),T(H,null,Q(m,b=>(c(),w(e(Ll),{date:b,key:b.toString()},{default:o(()=>{var P;return[s(e(zl),{day:b,month:g.value,"data-event":(P=p(b.year,b.month,b.day))==null?void 0:P.type},null,8,["day","month","data-event"])]}),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Ll=x({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(kl),B({class:e(X)(`relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20
        [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent
        [&:has([data-selected][data-outside-view])]:bg-accent/50`,a.class)},e(n)),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["class"]))}}),zl=x({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(Dl),B({class:e(X)(e(ot)({variant:"ghost"}),"h-9 w-9 p-0 font-normal",`[&[data-today]:not([data-selected])]:bg-accent
        [&[data-today]:not([data-selected])]:text-accent-foreground`,`data-[selected]:bg-primary data-[selected]:text-primary-foreground
        data-[selected]:opacity-100 data-[selected]:hover:bg-primary
        data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary
        data-[selected]:focus:text-primary-foreground`,"data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",`data-[outside-view]:text-muted-foreground/50
        [&[data-outside-view][data-selected]]:bg-accent/50
        [&[data-outside-view][data-selected]]:text-muted-foreground/30`,`data-[event]:after:absolute data-[event]:after:bottom-0
        data-[event]:after:left-1/2 data-[event]:after:size-1.5
        data-[event]:after:-translate-x-1/2 data-[event]:after:-translate-y-1/2
        data-[event]:after:rounded-full data-[event=error]:after:bg-destructive
        data-[event=info]:after:bg-chart-3 data-[event=success]:after:bg-chart-1`,a.class)},e(n)),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["class"]))}}),Gl=x({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(hl),B({class:e(X)("w-full border-collapse space-y-1",a.class)},e(n)),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["class"]))}}),jl=x({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(c(),w(e(xl),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Kl=x({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(c(),w(e(Pl),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),wt=x({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e($l),B({class:e(X)("flex justify-center gap-2",a.class)},e(n)),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["class"]))}}),ie=x({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(wl),B({class:e(X)("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",a.class)},e(n)),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["class"]))}}),Hl=x({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(gl),B({class:e(X)("relative flex w-full items-center justify-between pt-1",a.class)},e(n)),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["class"]))}}),ql=x({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(bl),B({class:e(X)("text-sm font-medium first-letter:capitalize",a.class)},e(n)),{default:o(({headingValue:p})=>[E(u.$slots,"default",{headingValue:p},()=>[S(q(p),1)])]),_:3},16,["class"]))}}),Yl=x({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(Ol),B({class:e(X)(e(ot)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",a.class)},e(n)),{default:o(()=>[E(u.$slots,"default",{},()=>[s(e(ll),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Ql=x({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:u,...r}=a;return r}),n=le(l);return(u,r)=>(c(),w(e(Sl),B({class:e(X)(e(ot)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",a.class)},e(n)),{default:o(()=>[E(u.$slots,"default",{},()=>[s(e(al),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),Zl={class:"grid gap-2 sm:grid-cols-2"},Jl=x({__name:"DateForm",emits:["saved","back"],setup(t,{emit:a}){const l=a;bt(Se());const{handleSubmit:n}=Be({validationSchema:Ie(_e.pick({dates:!0}).merge(A.object({time:pa.omit({second:!0})})).refine(r=>r.dates.length>0,{path:["dates"],message:"Необходимо выбрать хотя бы одну дату"})),initialValues:{dates:[],time:{hour:0,minute:0}},keepValuesOnUnmount:!0}),u=n(r=>{l("saved",{dates:r.dates.map(p=>ve(p).set(r.time).toString())})});return(r,p)=>(c(),T("form",{onSubmit:p[1]||(p[1]=(...O)=>e(u)&&e(u)(...O)),class:"space-y-2"},[s(e(L),{name:"dates"},{default:o(({value:O,setValue:d})=>[s(e(U),null,{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(jt),{"model-value":O.map(v=>e(ve)(v)),"min-value":e(bt)(e(Se)()),"onUpdate:modelValue":v=>d((v||[]).map(g=>e(Ta)(g).toString())),multiple:""},null,8,["model-value","min-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"time"},{default:o(({value:O,setValue:d})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>p[2]||(p[2]=[S("Время тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ee),{"model-value":new(e(ut))(O.hour,O.minute),"onUpdate:modelValue":v=>d({hour:(v==null?void 0:v.hour)||0,minute:(v==null?void 0:v.minute)||0})},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),R("div",Zl,[s(e(K),{onClick:p[0]||(p[0]=O=>l("back")),type:"button",variant:"outline",class:"w-full"},{default:o(()=>p[3]||(p[3]=[S(" Назад ")])),_:1}),s(e(K),{type:"submit",class:"w-full"},{default:o(()=>p[4]||(p[4]=[S(" Далее ")])),_:1})])],32))}}),Xl={RESPONSE:A.array(ge)},es={RESPONSE:A.array(xt)};A.array(xt);const ts={REQUEST:_e.merge(ma.pick({groupId:!0})),RESPONSE:A.array($t)};A.array($t);const as={REQUEST:_e.merge(va.pick({sportsmanId:!0})),RESPONSE:A.array(Ct)};A.array(Ct);const Kt={REQUEST:_e.omit({workoutPoolId:!0,dates:!0}).merge(A.object({date:ya})),RESPONSE:ge},ls={RESPONSE:A.array(ge)},ss={RESPONSE:A.array(ge)},os={RESPONSE:A.array(ge)},ns={RESPONSE:A.array(ge)},us={RESPONSE:A.array(_a)};async function rs(t){const a=await ga.get("/workouts",{params:t});return a.status!==te.Ok?null:ae(Xl.RESPONSE,a.data)}async function ds(t){const a=await ee.post("/workouts/team",t);return a.status!==te.Created?null:ae(es.RESPONSE,a.data)}async function is(t){const a=await ee.post("/workouts/group",t);return a.status!==te.Created?null:ae(ts.RESPONSE,a.data)}async function cs(t){const a=await ee.post("/workouts/individual",t);return a.status!==te.Created?null:ae(as.RESPONSE,a.data)}async function fs(t,a){const l=await ee.patch("/workouts",a,{params:{id:t}});return l.status!==te.Ok?null:ae(Kt.RESPONSE,l.data)}async function ps(t){return(await ee.delete("/workouts",{params:{id:t}})).status===te.NoContent}async function ms(t){return(await ee.delete("/workouts/repeat",{params:{id:t}})).status===te.NoContent}async function vs(t){const a=await ee.patch("/workouts/attend/yes",t);return a.status!==te.Ok?null:ae(ls.RESPONSE,a.data)}async function ys(t){const a=await ee.patch("/workouts/attend/no",t);return a.status!==te.Ok?null:ae(ss.RESPONSE,a.data)}async function _s(t){const a=await ee.patch("/workouts/paid/yes",t);return a.status!==te.Ok?null:ae(os.RESPONSE,a.data)}async function gs(t){const a=await ee.patch("/workouts/paid/no",t);return a.status!==te.Ok?null:ae(ns.RESPONSE,a.data)}async function bs(t){const a=await ee.get("/workouts/stats",{params:{id:t}});return ae(us.RESPONSE,a.data)}const xe=ba("workouts",{state:()=>({workouts:null,stats:null}),actions:{async getWorkouts(){const t=await rs();t&&(this.workouts=t.reduce((a,l)=>(a[l.id]=l,a),{}))},async createTeamWorkout(t){const a=await ds(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async createGroupWorkout(t){const a=await is(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async createIndividualWorkout(t){const a=await cs(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async patchWorkout(t,a){const l=await fs(t,a);return l?(this.workouts[l.id]=l,!0):!1},async deleteWorkout(t){return await ps(t)?(delete this.workouts[t],!0):!1},async deleteRepeatWorkout(t){return await ms(t)?(await this.getWorkouts(),!0):!1},async getStats(t){const a=await bs(t);return a?(this.stats=a.reduce((l,{sportsmanId:n,isPaid:u,isAttend:r})=>(l[n]={sportsmanId:n,isPaid:u,isAttend:r},l),{}),!0):!1}},getters:{WORKOUTS:t=>t.workouts?Object.values(t.workouts):null,STATS:t=>t.stats?Object.values(t.stats):null}}),hs={class:"grid gap-2 sm:grid-cols-2"},ks=x({__name:"InfoForm",props:{type:{},id:{},workoutPoolId:{},dates:{}},emits:["saved","back"],setup(t,{emit:a}){const l=t,n=a,{createTeamWorkout:u,createGroupWorkout:r,createIndividualWorkout:p}=xe(),{handleSubmit:O,isSubmitting:d}=Be({validationSchema:Ie(_e.omit({dates:!0,workoutPoolId:!0})),initialValues:{restTime:{hour:0,minute:0,second:0},price:0},keepValuesOnUnmount:!0}),v=O(async g=>{const{dates:m,id:f,workoutPoolId:b,type:P}=l;if(!m||!b||!P)return;let h;l.type==="team"&&(h=await u({...g,workoutPoolId:b,dates:m})),l.type==="group"&&f&&(h=await r({...g,groupId:f,workoutPoolId:b,dates:m})),l.type==="individual"&&f&&(h=await p({...g,sportsmanId:f,workoutPoolId:b,dates:m})),h&&n("saved")});return(g,m)=>(c(),T("form",{onSubmit:m[1]||(m[1]=(...f)=>e(v)&&e(v)(...f)),class:"flex-1 space-y-2"},[s(e(L),{name:"goal"},{default:o(({componentField:f})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[2]||(m[2]=[S("Цель тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(De),B({type:"text"},f,{placeholder:"Например, повышение силовых нагрузок..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"comment"},{default:o(({componentField:f})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[3]||(m[3]=[S("Комментарий")])),_:1}),s(e(M),null,{default:o(()=>[s(e(De),B({type:"text"},f,{placeholder:"Например, требуемый инвентарь..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"price"},{default:o(({value:f,setValue:b})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[4]||(m[4]=[S("Стоимость тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Bt),{"model-value":f,"format-options":{style:"currency",currency:"RUB",currencyDisplay:"narrowSymbol",currencySign:"accounting"},step:100,"step-snapping":!1,"onUpdate:modelValue":b},{default:o(()=>[s(e(It),null,{default:o(()=>[s(e(Tt)),s(e(Vt)),s(e(At))]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"restTime"},{default:o(({value:f,setValue:b})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[5]||(m[5]=[S("Время отдыха после тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ee),{"model-value":new(e(ut))(f.hour,f.minute,f.second),"onUpdate:modelValue":P=>b({hour:P==null?void 0:P.hour,minute:P==null?void 0:P.minute,second:P==null?void 0:P.second}),granularity:"second"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),R("div",hs,[s(e(K),{onClick:m[0]||(m[0]=f=>n("back")),type:"button",variant:"outline",class:"w-full"},{default:o(()=>m[6]||(m[6]=[S(" Назад ")])),_:1}),s(e(K),{loading:e(d),type:"submit",class:"w-full"},{default:o(()=>m[7]||(m[7]=[S(" Создать ")])),_:1},8,["loading"])])],32))}}),ws={class:"flex w-full gap-2"},Ot=x({__name:"AddModal",setup(t){_e.pick({dates:!0});const a=ha("(min-width: 640px)"),l=V(1),n=V(!1),u=V(),r=V();function p(d){u.value=d,l.value++}function O(d){r.value=d,l.value++}return ye(n,d=>{d||(l.value=1)}),(d,v)=>(c(),w(Re,{modelValue:n.value,"onUpdate:modelValue":v[3]||(v[3]=g=>n.value=g),title:"Создание тренировки",description:"Создайте новую тренировку."},{trigger:o(()=>[e(a)?(c(),w(e(K),{key:0,variant:"outline"},{default:o(()=>v[4]||(v[4]=[S(" Создать тренировку ")])),_:1})):(c(),w(e(K),{key:1,size:"icon",variant:"outline"},{default:o(()=>[s(e(la),{class:"!size-6"})]),_:1}))]),default:o(()=>[R("div",ws,[(c(),T(H,null,Q(3,(g,m)=>R("div",{class:we(["h-1 flex-1 rounded-sm transition-colors duration-700",m>=l.value?"bg-gray-300":"bg-primary"]),key:g},null,2)),64))]),s(Wl,{class:we({hidden:l.value!==1}),onSaved:p},null,8,["class"]),s(Jl,{class:we({hidden:l.value!==2}),onSaved:O,onBack:v[0]||(v[0]=g=>l.value--)},null,8,["class"]),s(ks,B({class:{hidden:l.value!==3}},{...u.value,...r.value},{onSaved:v[1]||(v[1]=g=>n.value=!1),onBack:v[2]||(v[2]=g=>l.value--)}),null,16,["class"])]),_:1},8,["modelValue"]))}}),Os={class:"group flex cursor-pointer select-none flex-col gap-3"},Ss={class:"relative aspect-[10/7] overflow-hidden rounded-lg border"},Ps=["alt","src"],xs={class:"flex flex-col gap-1"},$s={class:"flex flex-col gap-2"},Cs={class:"text-sm"},Ht=x({__name:"Item",props:{item:{}},setup(t){const a=new Mt("ru-RU",{dateStyle:"long",timeStyle:"short"});return(l,n)=>(c(),T("div",Os,[R("div",Ss,[R("img",{alt:l.item.id,src:`/images/${l.item.workoutType}.png`,class:"size-full object-cover transition-transform duration-500 will-change-transform group-hover:scale-110"},null,8,Ps),s(e(Fa),null,{default:o(()=>[s(e(La),{class:we(["absolute right-2 top-2 rounded-full p-1",{"bg-primary text-primary-foreground":l.item.workoutType==="Командная","bg-secondary text-secondary-foreground":l.item.workoutType==="Групповая","bg-destructive text-destructive-foreground":l.item.workoutType==="Индивидуальная"}])},{default:o(()=>[l.item.workoutType==="Командная"?(c(),w(e(ol),{key:0,class:"size-5"})):l.item.workoutType==="Групповая"?(c(),w(e(ka),{key:1,class:"size-5"})):(c(),w(e(Aa),{key:2,class:"size-5"}))]),_:1},8,["class"]),s(e(za),{side:"right",align:"center"},{default:o(()=>[S(q(l.item.workoutType),1)]),_:1})]),_:1})]),R("div",xs,[R("h3",{class:we(["font-semibold",{italic:!l.item.name}])},q(l.item.name),3),R("div",$s,[R("p",Cs,q(e(a).format(e(ve)(l.item.date).toDate(e(Se)()))),1)])])]))}}),Ds=x({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:a}){const u=be(t,a);return(r,p)=>(c(),w(e(Rl),ne(ue(e(u))),{default:o(()=>[E(r.$slots,"default")]),_:3},16))}}),Es=x({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,u=D(()=>{const{class:p,...O}=l;return O}),r=be(u,n);return(p,O)=>(c(),w(e(Il),null,{default:o(()=>[s(e(Al),B({...e(r),...p.$attrs},{class:e(X)(`z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md
          outline-none data-[state=open]:animate-in data-[state=closed]:animate-out
          data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0
          data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
          data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,l.class)}),{default:o(()=>[E(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Rs=x({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(c(),w(e(Bl),ne(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Bs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Is={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ts={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Vs={class:"flex gap-4"},As={class:"grid grid-cols-2 gap-4 sm:ml-auto sm:w-fit"},Ms=x({__name:"Form",props:{item:{}},emits:["saved"],setup(t,{emit:a}){const l=new Mt("ru-RU",{dateStyle:"long"}),n=V(!1),u=V(!1),r=t,p=a,O=xe(),{patchWorkout:d,deleteWorkout:v,deleteRepeatWorkout:g}=O,{handleSubmit:m,isSubmitting:f}=Be({validationSchema:Ie(Kt.REQUEST),keepValuesOnUnmount:!0,initialValues:{...r.item}}),b=async()=>{var y;n.value=!0,(y=r.item)!=null&&y.id&&(await v(r.item.id),n.value=!1)},P=async()=>{var y;u.value=!0,(y=r.item)!=null&&y.id&&(await g(r.item.id),u.value=!1)},h=m(async y=>{console.log(y),await d(r.item.id,y)&&p("saved")});return(y,i)=>(c(),T("form",{onSubmit:i[0]||(i[0]=(...k)=>e(h)&&e(h)(...k)),class:"-m-1 flex-1 space-y-2 overflow-y-auto overflow-x-visible p-1"},[R("div",Bs,[s(e(L),{name:"date"},{default:o(({value:k,setValue:_})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[1]||(i[1]=[S("Дата проведения")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ds),null,{default:o(()=>[s(e(Rs),{"as-child":""},{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(K),{class:"h-12 w-full text-sm",variant:"outline"},{default:o(()=>[R("span",null,q(k?e(l).format(e(pe)(e(ve)(k))):"Выберите дату"),1),s(e(tl),{class:"ms-auto h-4 w-4 opacity-50"})]),_:2},1024),i[2]||(i[2]=R("input",{hidden:""},null,-1))]),_:2},1024)]),_:2},1024),s(e(Es),{class:"w-auto p-0"},{default:o(()=>[s(e(jt),{"model-value":e(ve)(k),"min-value":e(Va)(e(Se)()),"onUpdate:modelValue":$=>{if(!$){_(void 0);return}_($.toString())},"calendar-label":"Дата тренировки","initial-focus":""},null,8,["model-value","min-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024),s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[3]||(i[3]=[S("Время проведения")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ee),{"model-value":e(ve)(k),"onUpdate:modelValue":$=>{if(!$){_(void 0);return}_($.toString())}},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Is,[s(e(L),{name:"goal"},{default:o(({componentField:k})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[4]||(i[4]=[S("Цель тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(De),B({type:"text"},k,{placeholder:"Например, повышение силовых нагрузок..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"comment"},{default:o(({componentField:k})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[5]||(i[5]=[S("Комментарий")])),_:1}),s(e(M),null,{default:o(()=>[s(e(De),B({type:"text"},k,{placeholder:"Например, требуемый инвентарь..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Ts,[s(e(L),{name:"price"},{default:o(({value:k,setValue:_})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[6]||(i[6]=[S("Стоимость тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Bt),{"model-value":k,"format-options":{style:"currency",currency:"RUB",currencyDisplay:"narrowSymbol",currencySign:"accounting"},step:100,"step-snapping":!1,"onUpdate:modelValue":_},{default:o(()=>[s(e(It),null,{default:o(()=>[s(e(Tt)),s(e(Vt)),s(e(At))]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"restTime"},{default:o(({value:k,setValue:_})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>i[7]||(i[7]=[S("Время отдыха после тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ee),{"model-value":new(e(ut))(k.hour,k.minute,k.second),"onUpdate:modelValue":$=>_({hour:$==null?void 0:$.hour,minute:$==null?void 0:$.minute,second:$==null?void 0:$.second}),granularity:"second"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Vs,[y.item.repeatId?(c(),w(e(K),{key:0,loading:u.value,onClick:P,type:"button",variant:"destructive",class:"mr-auto"},{default:o(()=>i[8]||(i[8]=[S(" Удалить все ")])),_:1},8,["loading"])):me("",!0),R("div",As,[s(e(K),{loading:n.value,onClick:b,type:"button",variant:"outline"},{default:o(()=>i[9]||(i[9]=[S(" Удалить ")])),_:1},8,["loading"]),s(e(K),{loading:e(f),type:"submit"},{default:o(()=>i[10]||(i[10]=[S(" Сохранить ")])),_:1},8,["loading"])])])],32))}}),Us=x({__name:"EditModal",props:{item:{}},setup(t){const a=V(!1);return(l,n)=>(c(),w(Re,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=u=>a.value=u),title:"Редактирование тренировки",description:"Измените или удалите тренировку.",size:"lg","only-dialog":""},{trigger:o(()=>[s(Ht,{item:l.item},null,8,["item"])]),default:o(()=>[s(Ms,{item:l.item,onSaved:n[0]||(n[0]=u=>a.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),Ns=x({__name:"PaymentModal",props:Dt({workoutId:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=t,l=xe(),n=Te(),{STATS:u}=oe(l),{SPORTSMANS:r}=oe(n),p=Et(t,"modelValue"),O=V(!1),d=V([]),v=D(()=>{var m;return((m=u.value)==null?void 0:m.map(f=>{var P;const b=(P=r.value)==null?void 0:P.find(h=>h.id===f.sportsmanId);return{value:f.sportsmanId,label:b?rt(b):""}}))||[]});async function g(){if(!a.workoutId||!await _s({workoutId:a.workoutId,sportsmansIds:d.value}))return;const f=v.value.filter(P=>!d.value.includes(P.value)).map(P=>P.value);await gs({workoutId:a.workoutId,sportsmansIds:f})&&(p.value=!1)}return ye(u,m=>{d.value=(m==null?void 0:m.filter(f=>f.isPaid).map(f=>f.sportsmanId))||[]}),(m,f)=>(c(),w(Re,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=b=>p.value=b),title:"Отметка оплаты",description:"Выберите спортсменов, которые оплатили тренировку."},{default:o(()=>[s(e(Lt),{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=b=>d.value=b),class:"flex flex-col gap-4"},{default:o(()=>[(c(!0),T(H,null,Q(v.value,b=>(c(),T("div",{key:b.value,class:"flex items-center gap-4"},[s(e(zt),{value:b.value,id:b.value,type:"checkbox"},null,8,["value","id"]),s(e(St),{for:b.value,class:"text-md"},{default:o(()=>[S(q(b.label),1)]),_:2},1032,["for"])]))),128))]),_:1},8,["modelValue"]),s(e(K),{loading:O.value,onClick:g,class:"w-full"},{default:o(()=>f[2]||(f[2]=[S(" Сохранить ")])),_:1},8,["loading"])]),_:1},8,["modelValue"]))}}),Ws=x({__name:"AttendanceModal",props:Dt({workoutId:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=t,l=xe(),n=Te(),{STATS:u}=oe(l),{SPORTSMANS:r}=oe(n),p=Et(t,"modelValue"),O=V(!1),d=V([]),v=D(()=>{var m;return((m=u.value)==null?void 0:m.map(f=>{var P;const b=(P=r.value)==null?void 0:P.find(h=>h.id===f.sportsmanId);return{value:f.sportsmanId,label:b?rt(b):""}}))||[]});async function g(){if(!a.workoutId||!await vs({workoutId:a.workoutId,sportsmansIds:d.value}))return;const f=v.value.filter(P=>!d.value.includes(P.value)).map(P=>P.value);await ys({workoutId:a.workoutId,sportsmansIds:f})&&(p.value=!1)}return ye(u,m=>{d.value=(m==null?void 0:m.filter(f=>f.isAttend).map(f=>f.sportsmanId))||[]}),(m,f)=>(c(),w(Re,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=b=>p.value=b),title:"Отметка посещений",description:"Выберите спортсменов, которые посетили тренировку."},{default:o(()=>[s(e(Lt),{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=b=>d.value=b),class:"flex flex-col gap-4"},{default:o(()=>[(c(!0),T(H,null,Q(v.value,b=>(c(),T("div",{key:b.value,class:"flex items-center gap-4"},[s(e(zt),{value:b.value,id:b.value,type:"checkbox"},null,8,["value","id"]),s(e(St),{for:b.value,class:"text-md"},{default:o(()=>[S(q(b.label),1)]),_:2},1032,["for"])]))),128))]),_:1},8,["modelValue"]),s(e(K),{loading:O.value,onClick:g,class:"w-full"},{default:o(()=>f[2]||(f[2]=[S(" Сохранить ")])),_:1},8,["loading"])]),_:1},8,["modelValue"]))}}),Fs={key:0,class:"flex flex-1 flex-col items-center justify-center gap-4"},Ls={key:1,class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"},ho=x({__name:"Schedule",setup(t){const a=wa(),l=xe(),n=Rt(),u=Ut(),r=Te(),{IS_TRAINER:p}=oe(a),{deleteWorkout:O,getStats:d}=l,{WORKOUTS:v}=oe(l),g=V(null),m=V(!1),f=V(!1);async function b(h){await d(h),g.value=h,m.value=!0}async function P(h){await d(h),g.value=h,f.value=!0}return nt(async()=>{await l.getWorkouts(),p.value&&(await n.getWorkoutPools(),await u.getGroups(),await r.getTeam())}),(h,y)=>{var i;return c(),w(sa,null,Oa({default:o(()=>{var k;return[((k=e(v))==null?void 0:k.length)===0?(c(),T("div",Fs,[y[2]||(y[2]=R("p",null,"Список тренировок пуст",-1)),e(p)?(c(),w(Ot,{key:0})):me("",!0)])):(c(),T("div",Ls,[e(v)?(c(),T(H,{key:0},[e(p)?(c(!0),T(H,{key:0},Q(e(v),_=>(c(),w(e(Ma),{key:_.id},{default:o(()=>[s(e(Ua),{"as-child":""},{default:o(()=>[s(Us,{item:_},null,8,["item"])]),_:2},1024),s(e(Wa),null,{default:o(()=>[s(e(Je),{onClick:$=>b(_.id),class:"gap-2"},{default:o(()=>[s(e(nl),{class:"size-4"}),y[3]||(y[3]=S(" Отметить оплату "))]),_:2},1032,["onClick"]),s(e(Je),{onClick:$=>P(_.id),class:"gap-2"},{default:o(()=>[s(e(sl),{class:"size-4"}),y[4]||(y[4]=S(" Отметить посещения "))]),_:2},1032,["onClick"]),s(e(Na)),s(e(Je),{onClick:$=>e(O)(_.id),class:"gap-2 !text-destructive"},{default:o(()=>[s(e(ul),{class:"size-4"}),y[5]||(y[5]=R("span",null,"Удалить тренировку",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)):(c(!0),T(H,{key:1},Q(e(v),_=>(c(),w(Ht,{item:_,key:_.id},null,8,["item"]))),128))],64)):(c(),T(H,{key:1},Q(5,_=>R("div",{key:_,class:"flex flex-col gap-3"},[s(e(ht),{class:"aspect-[10/7] rounded-lg"}),s(e(ht),{class:"h-6 w-3/4 rounded-lg"})])),64))])),s(Ns,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=_=>m.value=_),"workout-id":g.value},null,8,["modelValue","workout-id"]),s(Ws,{modelValue:f.value,"onUpdate:modelValue":y[1]||(y[1]=_=>f.value=_),"workout-id":g.value},null,8,["modelValue","workout-id"])]}),_:2},[((i=e(v))==null?void 0:i.length)!==0?{name:"actions",fn:o(()=>[e(p)?(c(),w(Ot,{key:0})):me("",!0)]),key:"0"}:void 0]),1024)}}});export{ho as default};
