import{P as ua,_ as da}from"./Page.vue_vue_type_script_setup_true_lang-C-sm7-gp.js";import{_ as $e}from"./Modal.vue_vue_type_script_setup_true_lang-CqBuINeJ.js";import{P as j,_ as q,c as Q,b as nt}from"./index-DjJ3YJO-.js";import{u as Be,t as Te,F as L,_ as U,a as W,b as M,c as N,d as Re,e as Dt}from"./Input.vue_vue_type_script_setup_true_lang-dHgq1UFP.js";import{_ as ia,a as ca,b as fa,c as pa,d as ma,e as We}from"./SelectValue.vue_vue_type_script_setup_true_lang-CCM6T3u0.js";import{u as va,_ as Fe,a as ze,b as Le,c as Ge,d as je,e as Ke,f as He,g as qe,h as Ye}from"./ComboboxList.vue_vue_type_script_setup_true_lang-CpiV2B53.js";import{c as X,a as D,r as V,w as _e,d as $,t as Et,u as st,o as rt,b,e as d,f as o,g as E,h as R,i as e,j as F,n as re,k as ue,l as S,m as B,p as yt,q as ot,s as gt,v as s,x as ya,y as ga,z as ne,A,U as _t,B as I,C as fe,F as G,D as Y,W as he,T as _a,E as ke,G as Rt,H as It,I as ba,J as Bt,K as ha,L as ka,S as wa,M as te,N as ae,O as le,P as Oa,Q as Sa,R as Pa,V as pe,X as $a,Y as Tt,Z as Vt,_ as xa,$ as Ca}from"./index-DUC40UZw.js";import{g as ve,$ as Da,a as bt,b as Ea,c as Ra,d as Ia,u as Ba,t as ge,e as ht,i as Qe,f as Ze,h as Pe,j as Ta,k as Va,l as Aa,m as Xe,n as Ma,o as be,p as Ua,q as At,r as kt,s as me,v as Na,_ as Ie,w as ut,x as Mt,y as Ut,z as Nt,A as Wt,B as Ft,C as dt,D as Wa,E as wt,F as Fa}from"./ExerciseItem.vue_vue_type_script_setup_true_lang-DFEeb72k.js";import{u as zt,a as Ve,U as za,_ as La,b as Ga,c as ja,d as Je,e as Ka}from"./ContextMenuTrigger.vue_vue_type_script_setup_true_lang-C4KFDBZ1.js";import"./api-K4Mta-g3.js";import{f as it,_ as Ha,a as qa,b as Ya}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-DIxMXUmA.js";import{C as et}from"./chevrons-up-down-DYEvZe6Y.js";import{C as tt}from"./ohash.D__AXeF1-C91bL9mI.js";import{u as se,a as we}from"./useForwardPropsEmits-UYkf6zNi.js";import{c as Lt,u as Ae,a as Gt}from"./useId-Dxsgti3d.js";import{u as jt}from"./useFormControl-B7T3OvxP.js";import{u as Qa}from"./Collection-D3zPE0Si.js";import{_ as Za,a as Xa,b as Ja}from"./PopperContent-C-RXYBiy.js";import{_ as el,a as tl,b as al,u as ll,c as sl}from"./useBodyScrollLock-BjjH8AD-.js";import{u as ol}from"./useFocusGuards-BQUVOaXA.js";import{P as nl}from"./getActiveElement-DY8P70Qv.js";import{_ as Kt,a as Ht}from"./Checkbox.vue_vue_type_script_setup_true_lang-CQO83mQh.js";import{_ as Ot}from"./Skeleton.vue_vue_type_script_setup_true_lang-DWGCC-Hw.js";import"./useNonce-yd1evbz4.js";import"./clamp-jFYhBC76.js";import"./nullish-CHIgUVhi.js";import"./utils-BTFi79yc.js";import"./VisuallyHiddenInput-Dl_Yde0F.js";import"./RovingFocusGroup-DdBp_rcW.js";import"./RovingFocusItem-Rkb4RONh.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=X("BedIcon",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=X("CalendarIcon",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=X("ChevronLeftIcon",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=X("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=X("CircleCheckIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=X("CircleXIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=X("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=X("FootprintsIcon",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=X("MedalIcon",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=X("ReceiptRussianRubleIcon",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 15h5",key:"vxg57a"}],["path",{d:"M8 11h5a2 2 0 1 0 0-4h-3v10",key:"1usi5u"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=X("RussianRubleIcon",[["path",{d:"M6 11h8a4 4 0 0 0 0-8H9v18",key:"18ai8t"}],["path",{d:"M6 15h8",key:"1y8f6l"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("TrashIcon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function $t(t,a){const l=[];let n=t.add({days:1});const r=a;for(;n.compare(r)<0;)l.push(n),n=n.add({days:1});return l}function at(t){const{dateObj:a,weekStartsOn:l,fixedWeeks:n,locale:r}=t,u=ve(a),p=Array.from({length:u},(y,c)=>a.set({day:c+1})),O=Da(a),i=bt(a),v=Ea(O,l,r),_=Ra(i,l,r),m=$t(v.subtract({days:1}),O),f=$t(i,_.add({days:1})),h=m.length+p.length+f.length;if(n&&h<42){const y=42-h;let c=f[f.length-1];c||(c=bt(a));const w=Array.from({length:y},(g,x)=>{const K=x+1;return c.add({days:K})});f.push(...w)}const P=m.concat(p,f),k=Ia(P,7);return{value:a,cells:P,rows:k}}function ie(t){const{numberOfMonths:a,dateObj:l,...n}=t,r=[];if(!a||a===1)return r.push(at({...n,dateObj:l})),r;r.push(at({...n,dateObj:l}));for(let u=1;u<a;u++){const p=l.add({months:u});r.push(at({...n,dateObj:p}))}return r}function yl(t){function a(n){return Array.isArray(t.date.value)?t.date.value.some(r=>Pe(r,n)):t.date.value?Pe(t.date.value,n):!1}const l=D(()=>{var n,r,u,p;if(Array.isArray(t.date.value)){if(!t.date.value.length)return!1;for(const O of t.date.value)if((n=t.isDateDisabled)!=null&&n.call(t,O)||(r=t.isDateUnavailable)!=null&&r.call(t,O))return!0}else{if(!t.date.value)return!1;if((u=t.isDateDisabled)!=null&&u.call(t,t.date.value)||(p=t.isDateUnavailable)!=null&&p.call(t,t.date.value))return!0}return!1});return{isDateSelected:a,isInvalid:l}}function gl(t,a){const l=a(t),n=l.compare(t),r={};return n>=7&&(r.day=1),n>=ve(t)&&(r.month=1),l.set({...r})}function _l(t,a){const l=a(t),n=t.compare(l),r={};return n>=7&&(r.day=35),n>=ve(t)&&(r.month=13),l.set({...r})}function bl(t,a){return a(t)}function hl(t,a){return a(t)}function kl(t){const a=Ba(t.locale.value),l=D(()=>{const k={calendar:t.placeholder.value.calendar.identifier};return t.placeholder.value.calendar.identifier==="gregory"&&t.placeholder.value.era==="BC"&&(k.era="short"),k}),n=V(ie({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})),r=D(()=>n.value.map(k=>k.value));function u(k){return!r.value.some(y=>ht(k,y))}const p=k=>{if(!t.maxValue.value||!n.value.length)return!1;if(t.disabled.value)return!0;const y=n.value[n.value.length-1].value;if(!k&&!t.nextPage.value){const w=y.add({months:1}).set({day:1});return Ze(w,t.maxValue.value)}const c=gl(y,k||t.nextPage.value);return Ze(c,t.maxValue.value)},O=k=>{if(!t.minValue.value||!n.value.length)return!1;if(t.disabled.value)return!0;const y=n.value[0].value;if(!k&&!t.prevPage.value){const w=y.subtract({months:1}).set({day:35});return Qe(w,t.minValue.value)}const c=_l(y,k||t.prevPage.value);return Qe(c,t.minValue.value)};function i(k){var y;return!!((y=t.isDateDisabled)!=null&&y.call(t,k)||t.disabled.value||t.maxValue.value&&Ze(k,t.maxValue.value)||t.minValue.value&&Qe(k,t.minValue.value))}const v=k=>{var y;return!!((y=t.isDateUnavailable)!=null&&y.call(t,k))},_=D(()=>n.value.length?n.value[0].rows[0].map(k=>a.dayOfWeek(ge(k),t.weekdayFormat.value)):[]),m=k=>{const y=n.value[0].value;if(!k&&!t.nextPage.value){const x=y.add({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),K=ie({dateObj:x,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=K,t.placeholder.value=K[0].value.set({day:1});return}const c=bl(y,k||t.nextPage.value),w=ie({dateObj:c,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=w;const g={};if(!k){const x=w[0].value.compare(y);x>=ve(y)&&(g.day=1),x>=365&&(g.month=1)}t.placeholder.value=w[0].value.set({...g})},f=k=>{const y=n.value[0].value;if(!k&&!t.prevPage.value){const x=y.subtract({months:t.pagedNavigation.value?t.numberOfMonths.value:1}),K=ie({dateObj:x,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=K,t.placeholder.value=K[0].value.set({day:1});return}const c=hl(y,k||t.prevPage.value),w=ie({dateObj:c,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value});n.value=w;const g={};if(!k){const x=y.compare(w[0].value);x>=ve(y)&&(g.day=1),x>=365&&(g.month=1)}t.placeholder.value=w[0].value.set({...g})};_e(t.placeholder,k=>{r.value.some(y=>ht(y,k))||(n.value=ie({dateObj:k,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value}))}),_e([t.locale,t.weekStartsOn,t.fixedWeeks,t.numberOfMonths],()=>{n.value=ie({dateObj:t.placeholder.value,weekStartsOn:t.weekStartsOn.value,locale:t.locale.value,fixedWeeks:t.fixedWeeks.value,numberOfMonths:t.numberOfMonths.value})});const h=D(()=>{if(!n.value.length)return"";if(t.locale.value!==a.getLocale()&&a.setLocale(t.locale.value),n.value.length===1){const H=n.value[0].value;return`${a.fullMonthAndYear(ge(H),l.value)}`}const k=ge(n.value[0].value),y=ge(n.value[n.value.length-1].value),c=a.fullMonth(k,l.value),w=a.fullMonth(y,l.value),g=a.fullYear(k,l.value),x=a.fullYear(y,l.value);return g===x?`${c} - ${w} ${x}`:`${c} ${g} - ${w} ${x}`}),P=D(()=>`${t.calendarLabel.value??"Event Date"}, ${h.value}`);return{isDateDisabled:i,isDateUnavailable:v,isNextButtonDisabled:p,isPrevButtonDisabled:O,grid:n,weekdays:_,visibleView:r,isOutsideVisibleView:u,formatter:a,nextPage:m,prevPage:f,headingValue:h,fullCalendarLabel:P}}const wl={style:{border:"0px",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute","white-space":"nowrap",width:"1px"}},Ol={role:"heading","aria-level":"2"},[Oe,Sl]=Lt("CalendarRoot"),Pl=$({__name:"CalendarRoot",props:{modelValue:{},multiple:{type:Boolean,default:!1},defaultValue:{default:void 0},defaultPlaceholder:{},placeholder:{default:void 0},pagedNavigation:{type:Boolean,default:!1},preventDeselect:{type:Boolean,default:!1},weekStartsOn:{default:0},weekdayFormat:{default:"narrow"},calendarLabel:{},fixedWeeks:{type:Boolean,default:!1},maxValue:{},minValue:{},locale:{},numberOfMonths:{default:1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},initialFocus:{type:Boolean,default:!1},isDateDisabled:{type:Function,default:void 0},isDateUnavailable:{type:Function,default:void 0},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{default:"div"}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:a}){const l=t,n=a,{disabled:r,readonly:u,initialFocus:p,pagedNavigation:O,weekStartsOn:i,weekdayFormat:v,fixedWeeks:_,multiple:m,minValue:f,maxValue:h,numberOfMonths:P,preventDeselect:k,isDateDisabled:y,isDateUnavailable:c,calendarLabel:w,defaultValue:g,nextPage:x,prevPage:K,dir:H,locale:Me}=Et(l),{primitiveElement:de,currentElement:Z}=jt(),De=Ta(Me),z=Qa(H),C=st(l,"modelValue",n,{defaultValue:g.value,passive:l.modelValue===void 0}),oe=Va({defaultPlaceholder:l.placeholder,defaultValue:C.value,locale:l.locale}),J=st(l,"placeholder",n,{defaultValue:l.defaultPlaceholder??oe.copy(),passive:l.placeholder===void 0});function ee(T){J.value=T.copy()}const{fullCalendarLabel:Ue,headingValue:Jt,isDateDisabled:ct,isDateUnavailable:ft,isNextButtonDisabled:ea,isPrevButtonDisabled:ta,weekdays:pt,isOutsideVisibleView:aa,nextPage:la,prevPage:sa,formatter:oa,grid:mt}=kl({locale:De,placeholder:J,weekStartsOn:i,fixedWeeks:_,numberOfMonths:P,minValue:f,maxValue:h,disabled:r,weekdayFormat:v,pagedNavigation:O,isDateDisabled:y.value,isDateUnavailable:c.value,calendarLabel:w,nextPage:x,prevPage:K}),{isInvalid:vt,isDateSelected:na}=yl({date:C,isDateDisabled:ct,isDateUnavailable:ft});_e(C,T=>{if(Array.isArray(T)&&T.length){const Se=T[T.length-1];Se&&!Xe(J.value,Se)&&ee(Se)}else!Array.isArray(T)&&T&&!Xe(J.value,T)&&ee(T)});function ra(T){if(m.value){if(!C.value)C.value=[T.copy()];else if(Array.isArray(C.value)){if(C.value.findIndex(Ee=>Pe(Ee,T))===-1)C.value=[...C.value,T];else if(!k.value){const Ee=C.value.filter(Ne=>!Pe(Ne,T));if(!Ee.length){J.value=T.copy(),C.value=void 0;return}C.value=Ee.map(Ne=>Ne.copy())}}}else{if(!C.value){C.value=T.copy();return}!k.value&&Xe(C.value,T)?(J.value=T.copy(),C.value=void 0):C.value=T.copy()}}return rt(()=>{p.value&&Aa(Z.value)}),Sl({isDateUnavailable:ft,dir:z,isDateDisabled:ct,locale:De,formatter:oa,modelValue:C,placeholder:J,disabled:r,initialFocus:p,pagedNavigation:O,grid:mt,weekDays:pt,weekStartsOn:i,weekdayFormat:v,fixedWeeks:_,multiple:m,numberOfMonths:P,readonly:u,preventDeselect:k,fullCalendarLabel:Ue,headingValue:Jt,isInvalid:vt,isDateSelected:na,isNextButtonDisabled:ea,isPrevButtonDisabled:ta,isOutsideVisibleView:aa,nextPage:la,prevPage:sa,parentElement:Z,onPlaceholderChange:ee,onDateChange:ra}),(T,Se)=>(d(),b(e(j),{ref_key:"primitiveElement",ref:de,as:T.as,"as-child":T.asChild,role:"application","aria-label":e(Ue),"data-readonly":e(u)?"":void 0,"data-disabled":e(r)?"":void 0,"data-invalid":e(vt)?"":void 0,dir:e(z)},{default:o(()=>[E(T.$slots,"default",{date:e(J),grid:e(mt),weekDays:e(pt),weekStartsOn:e(i),locale:e(De),fixedWeeks:e(_),modelValue:e(C)}),R("div",wl,[R("div",Ol,F(e(Ue)),1)])]),_:3},8,["as","as-child","aria-label","data-readonly","data-disabled","data-invalid","dir"]))}}),$l=$({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t;return(l,n)=>(d(),b(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),xl=$({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t,l=Oe();return(n,r)=>(d(),b(e(j),B(a,{"data-disabled":e(l).disabled.value?"":void 0}),{default:o(()=>[E(n.$slots,"default",{headingValue:e(l).headingValue.value},()=>[S(F(e(l).headingValue.value),1)])]),_:3},16,["data-disabled"]))}}),Cl=$({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{default:"table"}},setup(t){const a=t,l=Oe(),n=D(()=>l.disabled.value?!0:void 0),r=D(()=>l.readonly.value?!0:void 0);return(u,p)=>(d(),b(e(j),B(a,{tabindex:"-1",role:"grid","aria-readonly":r.value,"aria-disabled":n.value,"data-readonly":r.value&&"","data-disabled":n.value&&""}),{default:o(()=>[E(u.$slots,"default")]),_:3},16,["aria-readonly","aria-disabled","data-readonly","data-disabled"]))}}),Dl=$({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{default:"td"}},setup(t){const a=Oe();return(l,n)=>{var r,u;return d(),b(e(j),{as:l.as,"as-child":l.asChild,role:"gridcell","aria-selected":e(a).isDateSelected(l.date)?!0:void 0,"aria-disabled":e(a).isDateDisabled(l.date)||((u=(r=e(a)).isDateUnavailable)==null?void 0:u.call(r,l.date)),"data-disabled":e(a).isDateDisabled(l.date)?"":void 0},{default:o(()=>[E(l.$slots,"default")]),_:3},8,["as","as-child","aria-selected","aria-disabled","data-disabled"])}}}),El=$({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{default:"th"}},setup(t){const a=t;return(l,n)=>(d(),b(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Rl=$({__name:"CalendarNext",props:{nextPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=D(()=>n.disabled.value||n.isNextButtonDisabled(a.nextPage)),n=Oe();return(r,u)=>(d(),b(e(j),{as:a.as,"as-child":a.asChild,"aria-label":"Next page",type:r.as==="button"?"button":void 0,"aria-disabled":l.value||void 0,"data-disabled":l.value||void 0,disabled:l.value,onClick:u[0]||(u[0]=p=>e(n).nextPage(a.nextPage))},{default:o(()=>[E(r.$slots,"default",{disabled:l.value},()=>[u[1]||(u[1]=S(" Next page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Il=$({__name:"CalendarPrev",props:{prevPage:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=D(()=>n.disabled.value||n.isPrevButtonDisabled(a.prevPage)),n=Oe();return(r,u)=>(d(),b(e(j),{"aria-label":"Previous page",as:a.as,"as-child":a.asChild,type:r.as==="button"?"button":void 0,"aria-disabled":l.value||void 0,"data-disabled":l.value||void 0,disabled:l.value,onClick:u[0]||(u[0]=p=>e(n).prevPage(a.prevPage))},{default:o(()=>[E(r.$slots,"default",{disabled:l.value},()=>[u[1]||(u[1]=S(" Prev page "))])]),_:3},8,["as","as-child","type","aria-disabled","data-disabled","disabled"]))}}),Bl=$({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{default:"thead"}},setup(t){const a=t;return(l,n)=>(d(),b(e(j),B(a,{"aria-hidden":"true"}),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Tl=$({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{default:"tbody"}},setup(t){const a=t;return(l,n)=>(d(),b(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Vl=$({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{default:"tr"}},setup(t){const a=t;return(l,n)=>(d(),b(e(j),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Al="[data-reka-calendar-cell-trigger]:not([data-outside-view]):not([data-outside-visible-view])";function lt(t){return Array.from(t.querySelectorAll(Al))??[]}const Ml=$({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{default:"div"}},setup(t){const a=t,l=va(),n=Oe(),{primitiveElement:r,currentElement:u}=jt(),p=D(()=>a.day.day.toLocaleString(n.locale.value)),O=D(()=>n.formatter.custom(ge(a.day),{weekday:"long",month:"long",day:"numeric",year:"numeric"})),i=D(()=>n.isDateDisabled(a.day)),v=D(()=>{var w;return((w=n.isDateUnavailable)==null?void 0:w.call(n,a.day))??!1}),_=D(()=>Ma(a.day,be())),m=D(()=>!Ua(a.day,a.month)),f=D(()=>n.isOutsideVisibleView(a.day)),h=D(()=>!n.disabled.value&&Pe(a.day,n.placeholder.value)),P=D(()=>n.isDateSelected(a.day));function k(w){var g;n.readonly.value||n.isDateDisabled(w)||(g=n.isDateUnavailable)!=null&&g.call(n,w)||n.onDateChange(w)}function y(){k(a.day)}function c(w){w.preventDefault(),w.stopPropagation();const g=n.parentElement.value,x=7,K=n.dir.value==="rtl"?-1:1;switch(w.code){case l.ARROW_RIGHT:H(u.value,K);break;case l.ARROW_LEFT:H(u.value,-K);break;case l.ARROW_UP:H(u.value,-7);break;case l.ARROW_DOWN:H(u.value,x);break;case l.ENTER:case l.SPACE_CODE:k(a.day)}function H(Me,de){const Z=lt(g);if(!Z.length)return;const z=Z.indexOf(Me)+de;if(z>=0&&z<Z.length){Z[z].hasAttribute("data-disabled")&&H(Z[z],de),Z[z].focus();return}if(z<0){if(n.isPrevButtonDisabled())return;n.prevPage(),gt(()=>{const C=lt(g);if(!C.length)return;if(!n.pagedNavigation.value&&n.numberOfMonths.value>1){const ee=ve(n.placeholder.value)-Math.abs(z);C[ee].hasAttribute("data-disabled")&&H(C[ee],de),C[ee].focus();return}const oe=C.length-Math.abs(z);C[oe].hasAttribute("data-disabled")&&H(C[oe],de),C[oe].focus()});return}if(z>=Z.length){if(n.isNextButtonDisabled())return;n.nextPage(),gt(()=>{const C=lt(g);if(!C.length)return;if(!n.pagedNavigation.value&&n.numberOfMonths.value>1){const J=ve(n.placeholder.value.add({months:n.numberOfMonths.value-1})),ee=z-Z.length+(C.length-J);C[ee].hasAttribute("data-disabled")&&H(C[ee],de),C[ee].focus();return}const oe=z-Z.length;C[oe].hasAttribute("data-disabled")&&H(C[oe],de),C[oe].focus()})}}}return(w,g)=>(d(),b(e(j),B({ref_key:"primitiveElement",ref:r},a,{role:"button","aria-label":O.value,"data-reka-calendar-cell-trigger":"","aria-disabled":i.value||v.value?!0:void 0,"data-selected":P.value?!0:void 0,"data-value":w.day.toString(),"data-disabled":i.value?"":void 0,"data-unavailable":v.value?"":void 0,"data-today":_.value?"":void 0,"data-outside-view":m.value?"":void 0,"data-outside-visible-view":f.value?"":void 0,"data-focused":h.value?"":void 0,tabindex:h.value?0:m.value||i.value?void 0:-1,onClick:y,onKeydown:[yt(c,["up","down","left","right","space","enter"]),g[0]||(g[0]=yt(ot(()=>{},["prevent"]),["enter"]))]}),{default:o(()=>[E(w.$slots,"default",{dayValue:p.value,disabled:i.value,today:_.value,selected:P.value,outsideView:m.value,outsideVisibleView:f.value,unavailable:v.value},()=>[S(F(p.value),1)])]),_:3},16,["aria-label","aria-disabled","data-selected","data-value","data-disabled","data-unavailable","data-today","data-outside-view","data-outside-visible-view","data-focused","tabindex"]))}}),[xe,Ul]=Lt("PopoverRoot"),Nl=$({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(t,{emit:a}){const l=t,n=a,{modal:r}=Et(l),u=st(l,"open",n,{defaultValue:l.defaultOpen,passive:l.open===void 0}),p=V(),O=V(!1);return Ul({contentId:"",triggerId:"",modal:r,open:u,onOpenChange:i=>{u.value=i},onOpenToggle:()=>{u.value=!u.value},triggerElement:p,hasCustomAnchor:O}),(i,v)=>(d(),b(e(Za),null,{default:o(()=>[E(i.$slots,"default",{open:e(u)})]),_:3}))}}),Wl=$({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const a=t,l=xe(),{forwardRef:n,currentElement:r}=Ae();return l.triggerId||(l.triggerId=Gt(void 0,"reka-popover-trigger")),rt(()=>{l.triggerElement.value=r.value}),(u,p)=>(d(),b(ya(e(l).hasCustomAnchor.value?e(j):e(Xa)),{"as-child":""},{default:o(()=>[s(e(j),{id:e(l).triggerId,ref:e(n),type:u.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(l).open.value,"aria-controls":e(l).contentId,"data-state":e(l).open.value?"open":"closed",as:u.as,"as-child":a.asChild,onClick:e(l).onOpenToggle},{default:o(()=>[E(u.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Fl=$({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const a=t;return(l,n)=>(d(),b(e(el),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Yt=$({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=se(ga(l,"trapFocus","disableOutsidePointerEvents")),{forwardRef:u}=Ae(),p=xe();return ol(),(O,i)=>(d(),b(e(al),{"as-child":"",loop:"",trapped:O.trapFocus,onMountAutoFocus:i[5]||(i[5]=v=>n("openAutoFocus",v)),onUnmountAutoFocus:i[6]||(i[6]=v=>n("closeAutoFocus",v))},{default:o(()=>[s(e(tl),{"as-child":"","disable-outside-pointer-events":O.disableOutsidePointerEvents,onPointerDownOutside:i[0]||(i[0]=v=>n("pointerDownOutside",v)),onInteractOutside:i[1]||(i[1]=v=>n("interactOutside",v)),onEscapeKeyDown:i[2]||(i[2]=v=>n("escapeKeyDown",v)),onFocusOutside:i[3]||(i[3]=v=>n("focusOutside",v)),onDismiss:i[4]||(i[4]=v=>e(p).onOpenChange(!1))},{default:o(()=>[s(e(Ja),B(e(r),{id:e(p).contentId,ref:e(u),"data-state":e(p).open.value?"open":"closed","aria-labelledby":e(p).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:o(()=>[E(O.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),zl=$({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=xe(),u=V(!1);ll(!0);const p=we(l,n),{forwardRef:O,currentElement:i}=Ae();return sl(i),(v,_)=>(d(),b(Yt,B(e(p),{ref:e(O),"trap-focus":e(r).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:_[0]||(_[0]=ot(m=>{var f;n("closeAutoFocus",m),u.value||(f=e(r).triggerElement.value)==null||f.focus()},["prevent"])),onPointerDownOutside:_[1]||(_[1]=m=>{n("pointerDownOutside",m);const f=m.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,P=f.button===2||h;u.value=P}),onFocusOutside:_[2]||(_[2]=ot(()=>{},["prevent"]))}),{default:o(()=>[E(v.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ll=$({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=xe(),u=V(!1),p=V(!1),O=we(l,n);return(i,v)=>(d(),b(Yt,B(e(O),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:v[0]||(v[0]=_=>{var m;n("closeAutoFocus",_),_.defaultPrevented||(u.value||(m=e(r).triggerElement.value)==null||m.focus(),_.preventDefault()),u.value=!1,p.value=!1}),onInteractOutside:v[1]||(v[1]=async _=>{var h;n("interactOutside",_),_.defaultPrevented||(u.value=!0,_.detail.originalEvent.type==="pointerdown"&&(p.value=!0));const m=_.target;((h=e(r).triggerElement.value)==null?void 0:h.contains(m))&&_.preventDefault(),_.detail.originalEvent.type==="focusin"&&p.value&&_.preventDefault()})}),{default:o(()=>[E(i.$slots,"default")]),_:3},16))}}),Gl=$({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=xe(),u=we(l,n),{forwardRef:p}=Ae();return r.contentId||(r.contentId=Gt(void 0,"reka-popover-content")),(O,i)=>(d(),b(e(nl),{present:O.forceMount||e(r).open.value},{default:o(()=>[e(r).modal.value?(d(),b(zl,B({key:0},e(u),{ref:e(p)}),{default:o(()=>[E(O.$slots,"default")]),_:3},16)):(d(),b(Ll,B({key:1},e(u),{ref:e(p)}),{default:o(()=>[E(O.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),jl={class:"relative w-full items-center"},Kl={class:"relative w-full items-center"},Hl={class:"relative w-full items-center"},ql=$({__name:"TypeForm",emits:["saved"],setup(t,{emit:a}){const l=At(),n=zt(),r=Ve(),{WORKOUT_POOLS:u}=ne(l),{GROUPS:p}=ne(n),{SPORTSMANS:O}=ne(r),i=a,{handleSubmit:v,values:_,setFieldValue:m}=Be({validationSchema:Te(A.object({type:A.union([A.literal("team"),A.literal("group"),A.literal("individual")]),id:_t.optional(),workoutPoolId:_t}).refine(y=>y.type==="team"?!0:!!y.id,{message:"Обязательное поле",path:["id"]})),initialValues:{type:"team"},keepValuesOnUnmount:!0}),f=D(()=>{var y;return(y=p.value)==null?void 0:y.map(c=>({label:c.name,value:c.id}))}),h=D(()=>{var y;return(y=O.value)==null?void 0:y.map(c=>({label:it(c),value:c.id}))}),P=D(()=>{var y;return(y=u.value)==null?void 0:y.map(c=>({label:c.name,value:c.id}))}),k=v(y=>{i("saved",y)});return(y,c)=>(d(),I("form",{onSubmit:c[1]||(c[1]=(...w)=>e(k)&&e(k)(...w)),class:"flex-1 space-y-2"},[s(e(L),{name:"type"},{default:o(({componentField:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[2]||(c[2]=[S("Тип тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(ia),B(w,{"onUpdate:modelValue":c[0]||(c[0]=g=>e(m)("id",void 0))}),{default:o(()=>[s(e(ca),null,{default:o(()=>[s(e(fa))]),_:1}),s(e(pa),null,{default:o(()=>[s(e(ma),null,{default:o(()=>[s(e(We),{value:"team"},{default:o(()=>c[3]||(c[3]=[S(" Командная ")])),_:1}),s(e(We),{value:"group"},{default:o(()=>c[4]||(c[4]=[S(" Групповая ")])),_:1}),s(e(We),{value:"individual"},{default:o(()=>c[5]||(c[5]=[S(" Индивидуальная ")])),_:1})]),_:1})]),_:1})]),_:2},1040)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),e(_).type!=="team"?(d(),b(e(L),{key:0,name:"id"},{default:o(({setValue:w})=>[e(_).type==="group"?(d(),b(e(U),{key:0},{default:o(()=>[s(e(W),null,{default:o(()=>c[6]||(c[6]=[S(" Группа ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Fe),{by:"value"},{default:o(()=>[s(e(ze),null,{default:o(()=>[R("div",jl,[s(e(Le),{"display-value":g=>g&&e(_).id?g.label:"",placeholder:"Выберите группу..."},null,8,["display-value"]),s(e(Ge),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(et),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(je),null,{default:o(()=>[s(e(Ke),null,{default:o(()=>c[7]||(c[7]=[S(" Группы не найдены. ")])),_:1}),s(e(He),null,{default:o(()=>[(d(!0),I(G,null,Y(f.value,g=>(d(),b(e(qe),{value:g,onSelect:()=>w(g.value),key:g.value},{default:o(()=>[S(F(g.label)+" ",1),s(e(Ye),null,{default:o(()=>[s(e(tt),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)):fe("",!0),e(_).type==="individual"?(d(),b(e(U),{key:1},{default:o(()=>[s(e(W),null,{default:o(()=>c[8]||(c[8]=[S(" Спортсмен ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Fe),{by:"value"},{default:o(()=>[s(e(ze),null,{default:o(()=>[R("div",Kl,[s(e(Le),{"display-value":g=>g&&e(_).id?g.label:"",placeholder:"Выберите спортсмена..."},null,8,["display-value"]),s(e(Ge),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(et),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(je),null,{default:o(()=>[s(e(Ke),null,{default:o(()=>c[9]||(c[9]=[S(" Спортсмены не найдены. ")])),_:1}),s(e(He),null,{default:o(()=>[(d(!0),I(G,null,Y(h.value,g=>(d(),b(e(qe),{value:g,onSelect:()=>w(g.value),key:g.value},{default:o(()=>[S(F(g.label)+" ",1),s(e(Ye),null,{default:o(()=>[s(e(tt),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)):fe("",!0)]),_:1})):fe("",!0),s(e(L),{name:"workoutPoolId"},{default:o(({setValue:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[10]||(c[10]=[S(" Программа тренировки ")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Fe),{by:"value"},{default:o(()=>[s(e(ze),null,{default:o(()=>[R("div",Hl,[s(e(Le),{"display-value":g=>g?g.label:"",placeholder:"Выберите программу..."},null,8,["display-value"]),s(e(Ge),{class:"absolute inset-y-0 end-0 flex items-center justify-center px-3"},{default:o(()=>[s(e(et),{class:"size-4 text-muted-foreground"})]),_:1})])]),_:1}),s(e(je),null,{default:o(()=>[s(e(Ke),null,{default:o(()=>c[11]||(c[11]=[S(" Программы не найдены. ")])),_:1}),s(e(He),null,{default:o(()=>[(d(!0),I(G,null,Y(P.value,g=>(d(),b(e(qe),{value:g,onSelect:()=>w(g.value),key:g.value},{default:o(()=>[S(F(g.label)+" ",1),s(e(Ye),null,{default:o(()=>[s(e(tt),{class:"ml-auto size-4"})]),_:1})]),_:2},1032,["value","onSelect"]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(q),{type:"submit",class:"w-full"},{default:o(()=>c[12]||(c[12]=[S(" Далее ")])),_:1})],32))}}),Yl={class:"mt-4 flex flex-col gap-4 sm:flex-row"},Qt=$({__name:"Calendar",props:{modelValue:{},multiple:{type:Boolean},defaultValue:{},defaultPlaceholder:{},placeholder:{},pagedNavigation:{type:Boolean},preventDeselect:{type:Boolean},weekStartsOn:{},weekdayFormat:{},calendarLabel:{},fixedWeeks:{type:Boolean},maxValue:{},minValue:{},locale:{default:"ru-RU"},numberOfMonths:{},disabled:{type:Boolean},readonly:{type:Boolean},initialFocus:{type:Boolean},isDateDisabled:{},isDateUnavailable:{},dir:{},nextPage:{},prevPage:{},asChild:{type:Boolean},as:{},class:{},events:{}},emits:["update:modelValue","update:placeholder"],setup(t,{emit:a}){const l=t,n=a,r=D(()=>{const{class:O,...i}=l;return i}),u=we(r,n);function p(O,i,v){var _;return(_=l.events)==null?void 0:_.find(m=>m.year===O&&m.month===i&&m.day===v)}return(O,i)=>(d(),b(e(Pl),B({class:e(Q)("p-3",l.class)},e(u)),{default:o(({grid:v})=>[s(e(ts),null,{default:o(()=>[s(e(ss)),s(e(as)),s(e(ls))]),_:1}),R("div",Yl,[(d(!0),I(G,null,Y(v,_=>(d(),b(e(Xl),{key:_.value.toString()},{default:o(()=>[s(e(es),null,{default:o(()=>[s(e(xt),null,{default:o(()=>[s(e(ce),null,{default:o(()=>i[0]||(i[0]=[S(" Пн ")])),_:1}),s(e(ce),null,{default:o(()=>i[1]||(i[1]=[S(" Вт ")])),_:1}),s(e(ce),null,{default:o(()=>i[2]||(i[2]=[S(" Ср ")])),_:1}),s(e(ce),null,{default:o(()=>i[3]||(i[3]=[S(" Чт ")])),_:1}),s(e(ce),null,{default:o(()=>i[4]||(i[4]=[S(" Пт ")])),_:1}),s(e(ce),null,{default:o(()=>i[5]||(i[5]=[S(" Сб ")])),_:1}),s(e(ce),null,{default:o(()=>i[6]||(i[6]=[S(" Вс ")])),_:1})]),_:1})]),_:1}),s(e(Jl),null,{default:o(()=>[(d(!0),I(G,null,Y(_.rows,(m,f)=>(d(),b(e(xt),{key:`weekDate-${f}`,class:"mt-2 w-full"},{default:o(()=>[(d(!0),I(G,null,Y(m,h=>(d(),b(e(Ql),{date:h,key:h.toString()},{default:o(()=>{var P;return[s(e(Zl),{day:h,month:_.value,"data-event":(P=p(h.year,h.month,h.day))==null?void 0:P.type},null,8,["day","month","data-event"])]}),_:2},1032,["date"]))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))])]),_:1},16,["class"]))}}),Ql=$({__name:"CalendarCell",props:{date:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(Dl),B({class:e(Q)(`relative h-9 w-9 p-0 text-center text-sm focus-within:relative focus-within:z-20
        [&:has([data-selected])]:rounded-md [&:has([data-selected])]:bg-accent
        [&:has([data-selected][data-outside-view])]:bg-accent/50`,a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),Zl=$({__name:"CalendarCellTrigger",props:{day:{},month:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(Ml),B({class:e(Q)(e(nt)({variant:"ghost"}),"h-9 w-9 p-0 font-normal",`[&[data-today]:not([data-selected])]:bg-accent
        [&[data-today]:not([data-selected])]:text-accent-foreground`,`data-[selected]:bg-primary data-[selected]:text-primary-foreground
        data-[selected]:opacity-100 data-[selected]:hover:bg-primary
        data-[selected]:hover:text-primary-foreground data-[selected]:focus:bg-primary
        data-[selected]:focus:text-primary-foreground`,"data-[disabled]:text-muted-foreground data-[disabled]:opacity-50","data-[unavailable]:text-destructive-foreground data-[unavailable]:line-through",`data-[outside-view]:text-muted-foreground/50
        [&[data-outside-view][data-selected]]:bg-accent/50
        [&[data-outside-view][data-selected]]:text-muted-foreground/30`,`data-[event]:after:absolute data-[event]:after:bottom-0
        data-[event]:after:left-1/2 data-[event]:after:size-1.5
        data-[event]:after:-translate-x-1/2 data-[event]:after:-translate-y-1/2
        data-[event]:after:rounded-full data-[event=error]:after:bg-destructive
        data-[event=info]:after:bg-chart-3 data-[event=success]:after:bg-chart-1`,a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),Xl=$({__name:"CalendarGrid",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(Cl),B({class:e(Q)("w-full border-collapse space-y-1",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),Jl=$({__name:"CalendarGridBody",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(d(),b(e(Tl),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),es=$({__name:"CalendarGridHead",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(d(),b(e(Bl),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),xt=$({__name:"CalendarGridRow",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(Vl),B({class:e(Q)("flex justify-center gap-2",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),ce=$({__name:"CalendarHeadCell",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(El),B({class:e(Q)("w-9 rounded-md text-[0.8rem] font-normal text-muted-foreground",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),ts=$({__name:"CalendarHeader",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e($l),B({class:e(Q)("relative flex w-full items-center justify-between pt-1",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default")]),_:3},16,["class"]))}}),as=$({__name:"CalendarHeading",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(xl),B({class:e(Q)("text-sm font-medium first-letter:capitalize",a.class)},e(n)),{default:o(({headingValue:p})=>[E(r.$slots,"default",{headingValue:p},()=>[S(F(p),1)])]),_:3},16,["class"]))}}),ls=$({__name:"CalendarNextButton",props:{nextPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(Rl),B({class:e(Q)(e(nt)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default",{},()=>[s(e(dl),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),ss=$({__name:"CalendarPrevButton",props:{prevPage:{type:Function},asChild:{type:Boolean},as:{},class:{}},setup(t){const a=t,l=D(()=>{const{class:r,...u}=a;return u}),n=se(l);return(r,u)=>(d(),b(e(Il),B({class:e(Q)(e(nt)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100",a.class)},e(n)),{default:o(()=>[E(r.$slots,"default",{},()=>[s(e(ul),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),os={class:"grid gap-2 sm:grid-cols-2"},ns=$({__name:"DateForm",emits:["saved","back"],setup(t,{emit:a}){const l=a;kt(be());const{handleSubmit:n}=Be({validationSchema:Te(he.pick({dates:!0}).merge(A.object({time:_a.omit({second:!0})})).refine(u=>u.dates.length>0,{path:["dates"],message:"Необходимо выбрать хотя бы одну дату"})),initialValues:{dates:[],time:{hour:0,minute:0}},keepValuesOnUnmount:!0}),r=n(u=>{l("saved",{dates:u.dates.map(p=>me(p).set(u.time).toString())})});return(u,p)=>(d(),I("form",{onSubmit:p[1]||(p[1]=(...O)=>e(r)&&e(r)(...O)),class:"space-y-2"},[s(e(L),{name:"dates"},{default:o(({value:O,setValue:i})=>[s(e(U),null,{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(Qt),{"model-value":O.map(v=>e(me)(v)),"min-value":e(kt)(e(be)()),"onUpdate:modelValue":v=>i((v||[]).map(_=>e(Na)(_).toString())),multiple:""},null,8,["model-value","min-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"time"},{default:o(({value:O,setValue:i})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>p[2]||(p[2]=[S("Время тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ie),{"model-value":new(e(ut))(O.hour,O.minute),"onUpdate:modelValue":v=>i({hour:(v==null?void 0:v.hour)||0,minute:(v==null?void 0:v.minute)||0})},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),R("div",os,[s(e(q),{onClick:p[0]||(p[0]=O=>l("back")),type:"button",variant:"outline",class:"w-full"},{default:o(()=>p[3]||(p[3]=[S(" Назад ")])),_:1}),s(e(q),{type:"submit",class:"w-full"},{default:o(()=>p[4]||(p[4]=[S(" Далее ")])),_:1})])],32))}}),rs={RESPONSE:A.array(ke)},us={RESPONSE:A.array(Rt)};A.array(Rt);const ds={REQUEST:he.merge(ba.pick({groupId:!0})),RESPONSE:A.array(It)};A.array(It);const is={REQUEST:he.merge(ha.pick({sportsmanId:!0})),RESPONSE:A.array(Bt)};A.array(Bt);const Zt={REQUEST:he.omit({workoutPoolId:!0,dates:!0}).merge(A.object({date:ka})),RESPONSE:ke},cs={RESPONSE:A.array(ke)},fs={RESPONSE:A.array(ke)},ps={RESPONSE:A.array(ke)},ms={RESPONSE:A.array(ke)},vs={RESPONSE:A.array(wa)};async function ys(t){const a=await Oa.get("/workouts",{params:t});return a.status!==ae.Ok?null:le(rs.RESPONSE,a.data)}async function gs(t){const a=await te.post("/workouts/team",t);return a.status!==ae.Created?null:le(us.RESPONSE,a.data)}async function _s(t){const a=await te.post("/workouts/group",t);return a.status!==ae.Created?null:le(ds.RESPONSE,a.data)}async function bs(t){const a=await te.post("/workouts/individual",t);return a.status!==ae.Created?null:le(is.RESPONSE,a.data)}async function hs(t,a){const l=await te.patch("/workouts",a,{params:{id:t}});return l.status!==ae.Ok?null:le(Zt.RESPONSE,l.data)}async function ks(t){return(await te.delete("/workouts",{params:{id:t}})).status===ae.NoContent}async function ws(t){return(await te.delete("/workouts/repeat",{params:{id:t}})).status===ae.NoContent}async function Os(t){const a=await te.patch("/workouts/attend/yes",t);return a.status!==ae.Ok?null:le(cs.RESPONSE,a.data)}async function Ss(t){const a=await te.patch("/workouts/attend/no",t);return a.status!==ae.Ok?null:le(fs.RESPONSE,a.data)}async function Ps(t){const a=await te.patch("/workouts/paid/yes",t);return a.status!==ae.Ok?null:le(ps.RESPONSE,a.data)}async function $s(t){const a=await te.patch("/workouts/paid/no",t);return a.status!==ae.Ok?null:le(ms.RESPONSE,a.data)}async function xs(t){const a=await te.get("/workouts/stats",{params:{id:t}});return le(vs.RESPONSE,a.data)}const Ce=Sa("workouts",{state:()=>({workouts:null,stats:null}),actions:{async getWorkouts(){const t=await ys();t&&(this.workouts=t.reduce((a,l)=>(a[l.id]=l,a),{}))},async createTeamWorkout(t){const a=await gs(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async createGroupWorkout(t){const a=await _s(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async createIndividualWorkout(t){const a=await bs(t);return a?(a.forEach(l=>{this.workouts[l.id]=l}),!0):!1},async patchWorkout(t,a){const l=await hs(t,a);return l?(this.workouts[l.id]=l,!0):!1},async deleteWorkout(t){return await ks(t)?(delete this.workouts[t],!0):!1},async deleteRepeatWorkout(t){return await ws(t)?(await this.getWorkouts(),!0):!1},async getStats(t){const a=await xs(t);return a?(this.stats=a.reduce((l,{sportsmanId:n,isPaid:r,isAttend:u})=>(l[n]={sportsmanId:n,isPaid:r,isAttend:u},l),{}),!0):!1}},getters:{WORKOUTS:t=>t.workouts?Object.values(t.workouts):null,STATS:t=>t.stats?Object.values(t.stats):null}}),Cs={class:"grid gap-2 sm:grid-cols-2"},Ds=$({__name:"InfoForm",props:{type:{},id:{},workoutPoolId:{},dates:{}},emits:["saved","back"],setup(t,{emit:a}){const l=t,n=a,{createTeamWorkout:r,createGroupWorkout:u,createIndividualWorkout:p}=Ce(),{handleSubmit:O,isSubmitting:i}=Be({validationSchema:Te(he.omit({dates:!0,workoutPoolId:!0})),initialValues:{restTime:{hour:0,minute:0,second:0},price:0},keepValuesOnUnmount:!0}),v=O(async _=>{const{dates:m,id:f,workoutPoolId:h,type:P}=l;if(!m||!h||!P)return;let k;l.type==="team"&&(k=await r({..._,workoutPoolId:h,dates:m})),l.type==="group"&&f&&(k=await u({..._,groupId:f,workoutPoolId:h,dates:m})),l.type==="individual"&&f&&(k=await p({..._,sportsmanId:f,workoutPoolId:h,dates:m})),k&&n("saved")});return(_,m)=>(d(),I("form",{onSubmit:m[1]||(m[1]=(...f)=>e(v)&&e(v)(...f)),class:"flex-1 space-y-2"},[s(e(L),{name:"goal"},{default:o(({componentField:f})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[2]||(m[2]=[S("Цель тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},f,{placeholder:"Например, повышение силовых нагрузок..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"comment"},{default:o(({componentField:f})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[3]||(m[3]=[S("Комментарий")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},f,{placeholder:"Например, требуемый инвентарь..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"price"},{default:o(({value:f,setValue:h})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[4]||(m[4]=[S("Стоимость тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Mt),{"model-value":f,"format-options":{style:"currency",currency:"RUB",currencyDisplay:"narrowSymbol",currencySign:"accounting"},step:100,"step-snapping":!1,"onUpdate:modelValue":h},{default:o(()=>[s(e(Ut),null,{default:o(()=>[s(e(Nt)),s(e(Wt)),s(e(Ft))]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"restTime"},{default:o(({value:f,setValue:h})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>m[5]||(m[5]=[S("Время отдыха после тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ie),{"model-value":new(e(ut))(f.hour,f.minute,f.second),"onUpdate:modelValue":P=>h({hour:P==null?void 0:P.hour,minute:P==null?void 0:P.minute,second:P==null?void 0:P.second}),granularity:"second"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),R("div",Cs,[s(e(q),{onClick:m[0]||(m[0]=f=>n("back")),type:"button",variant:"outline",class:"w-full"},{default:o(()=>m[6]||(m[6]=[S(" Назад ")])),_:1}),s(e(q),{loading:e(i),type:"submit",class:"w-full"},{default:o(()=>m[7]||(m[7]=[S(" Создать ")])),_:1},8,["loading"])])],32))}}),Es={class:"flex w-full gap-2"},Ct=$({__name:"AddModal",setup(t){he.pick({dates:!0});const a=Pa("(min-width: 640px)"),l=V(1),n=V(!1),r=V(),u=V();function p(i){r.value=i,l.value++}function O(i){u.value=i,l.value++}return _e(n,i=>{i||(l.value=1)}),(i,v)=>(d(),b($e,{modelValue:n.value,"onUpdate:modelValue":v[3]||(v[3]=_=>n.value=_),title:"Создание тренировки",description:"Создайте новую тренировку."},{trigger:o(()=>[e(a)?(d(),b(e(q),{key:0,variant:"outline"},{default:o(()=>v[4]||(v[4]=[S(" Создать тренировку ")])),_:1})):(d(),b(e(q),{key:1,size:"icon",variant:"outline"},{default:o(()=>[s(e(ua),{class:"!size-6"})]),_:1}))]),default:o(()=>[R("div",Es,[(d(),I(G,null,Y(3,(_,m)=>R("div",{class:pe(["h-1 flex-1 rounded-sm transition-colors duration-700",m>=l.value?"bg-gray-300":"bg-primary"]),key:_},null,2)),64))]),s(ql,{class:pe({hidden:l.value!==1}),onSaved:p},null,8,["class"]),s(ns,{class:pe({hidden:l.value!==2}),onSaved:O,onBack:v[0]||(v[0]=_=>l.value--)},null,8,["class"]),s(Ds,B({class:{hidden:l.value!==3}},{...r.value,...u.value},{onSaved:v[1]||(v[1]=_=>n.value=!1),onBack:v[2]||(v[2]=_=>l.value--)}),null,16,["class"])]),_:1},8,["modelValue"]))}}),Rs={class:"group flex cursor-pointer select-none flex-col gap-3"},Is={class:"relative aspect-[10/7] overflow-hidden rounded-lg border"},Bs=["alt","src"],Ts={class:"flex flex-col gap-1"},Vs={class:"flex flex-col gap-2"},As={class:"text-sm"},Xt=$({__name:"Item",props:{item:{}},setup(t){const a=new dt("ru-RU",{dateStyle:"long",timeStyle:"short"});return(l,n)=>(d(),I("div",Rs,[R("div",Is,[R("img",{alt:l.item.id,draggable:!1,src:`/images/${l.item.workoutType}.png`,class:"size-full object-cover transition-transform duration-500 will-change-transform group-hover:scale-110"},null,8,Bs),s(e(Ha),null,{default:o(()=>[s(e(qa),{class:pe(["absolute right-2 top-2 rounded-full p-1",{"bg-primary text-primary-foreground":l.item.workoutType==="Командная","bg-secondary text-secondary-foreground":l.item.workoutType==="Групповая","bg-destructive text-destructive-foreground":l.item.workoutType==="Индивидуальная"}])},{default:o(()=>[l.item.workoutType==="Командная"?(d(),b(e(fl),{key:0,class:"size-5"})):l.item.workoutType==="Групповая"?(d(),b(e($a),{key:1,class:"size-5"})):(d(),b(e(za),{key:2,class:"size-5"}))]),_:1},8,["class"]),s(e(Ya),{side:"right",align:"center"},{default:o(()=>[S(F(l.item.workoutType),1)]),_:1})]),_:1})]),R("div",Ts,[R("h3",{class:pe(["font-semibold",{italic:!l.item.name}])},F(l.item.name),3),R("div",Vs,[R("p",As,F(e(a).format(e(me)(l.item.date).toDate(e(be)()))),1)])])]))}}),Ms=$({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:a}){const r=we(t,a);return(u,p)=>(d(),b(e(Nl),re(ue(e(r))),{default:o(()=>[E(u.$slots,"default")]),_:3},16))}}),Us=$({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:a}){const l=t,n=a,r=D(()=>{const{class:p,...O}=l;return O}),u=we(r,n);return(p,O)=>(d(),b(e(Fl),null,{default:o(()=>[s(e(Gl),B({...e(u),...p.$attrs},{class:e(Q)(`z-50 rounded-md border bg-popover p-4 text-popover-foreground shadow-md
          outline-none data-[state=open]:animate-in data-[state=closed]:animate-out
          data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0
          data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95
          data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2
          data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,l.class)}),{default:o(()=>[E(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ns=$({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const a=t;return(l,n)=>(d(),b(e(Wl),re(ue(a)),{default:o(()=>[E(l.$slots,"default")]),_:3},16))}}),Ws={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Fs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},zs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ls={class:"flex gap-4"},Gs={class:"grid grid-cols-2 gap-4 sm:ml-auto sm:w-fit"},js=$({__name:"Form",props:{item:{}},emits:["saved"],setup(t,{emit:a}){const l=new dt("ru-RU",{dateStyle:"long"}),n=V(!1),r=V(!1),u=t,p=a,O=Ce(),{patchWorkout:i,deleteWorkout:v,deleteRepeatWorkout:_}=O,{handleSubmit:m,isSubmitting:f}=Be({validationSchema:Te(Zt.REQUEST),keepValuesOnUnmount:!0,initialValues:{...u.item}}),h=async()=>{var y;n.value=!0,(y=u.item)!=null&&y.id&&(await v(u.item.id),n.value=!1)},P=async()=>{var y;r.value=!0,(y=u.item)!=null&&y.id&&(await _(u.item.id),r.value=!1)},k=m(async y=>{console.log(y),await i(u.item.id,y)&&p("saved")});return(y,c)=>(d(),I("form",{onSubmit:c[0]||(c[0]=(...w)=>e(k)&&e(k)(...w)),class:"-m-1 flex-1 space-y-2 overflow-y-auto overflow-x-visible p-1"},[R("div",Ws,[s(e(L),{name:"date"},{default:o(({value:w,setValue:g})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[1]||(c[1]=[S("Дата проведения")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ms),null,{default:o(()=>[s(e(Ns),{"as-child":""},{default:o(()=>[s(e(M),null,{default:o(()=>[s(e(q),{class:"h-12 w-full text-sm",variant:"outline"},{default:o(()=>[R("span",null,F(w?e(l).format(e(ge)(e(me)(w))):"Выберите дату"),1),s(e(qt),{class:"ms-auto h-4 w-4 opacity-50"})]),_:2},1024),c[2]||(c[2]=R("input",{hidden:""},null,-1))]),_:2},1024)]),_:2},1024),s(e(Us),{class:"w-auto p-0"},{default:o(()=>[s(e(Qt),{"model-value":e(me)(w),"min-value":e(Wa)(e(be)()),"onUpdate:modelValue":x=>{if(!x){g(void 0);return}g(x.toString())},"calendar-label":"Дата тренировки","initial-focus":""},null,8,["model-value","min-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),s(e(N))]),_:2},1024),s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[3]||(c[3]=[S("Время проведения")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ie),{"model-value":e(me)(w),"onUpdate:modelValue":x=>{if(!x){g(void 0);return}g(x.toString())}},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Fs,[s(e(L),{name:"goal"},{default:o(({componentField:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[4]||(c[4]=[S("Цель тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},w,{placeholder:"Например, повышение силовых нагрузок..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"comment"},{default:o(({componentField:w})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[5]||(c[5]=[S("Комментарий")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Re),B({type:"text"},w,{placeholder:"Например, требуемый инвентарь..."}),null,16)]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",zs,[s(e(L),{name:"price"},{default:o(({value:w,setValue:g})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[6]||(c[6]=[S("Стоимость тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Mt),{"model-value":w,"format-options":{style:"currency",currency:"RUB",currencyDisplay:"narrowSymbol",currencySign:"accounting"},step:100,"step-snapping":!1,"onUpdate:modelValue":g},{default:o(()=>[s(e(Ut),null,{default:o(()=>[s(e(Nt)),s(e(Wt)),s(e(Ft))]),_:1})]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1}),s(e(L),{name:"restTime"},{default:o(({value:w,setValue:g})=>[s(e(U),null,{default:o(()=>[s(e(W),null,{default:o(()=>c[7]||(c[7]=[S("Время отдыха после тренировки")])),_:1}),s(e(M),null,{default:o(()=>[s(e(Ie),{"model-value":new(e(ut))(w.hour,w.minute,w.second),"onUpdate:modelValue":x=>g({hour:x==null?void 0:x.hour,minute:x==null?void 0:x.minute,second:x==null?void 0:x.second}),granularity:"second"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(e(N))]),_:2},1024)]),_:1})]),R("div",Ls,[y.item.repeatId?(d(),b(e(q),{key:0,loading:r.value,onClick:P,type:"button",variant:"destructive",class:"mr-auto"},{default:o(()=>c[8]||(c[8]=[S(" Удалить все ")])),_:1},8,["loading"])):fe("",!0),R("div",Gs,[s(e(q),{loading:n.value,onClick:h,type:"button",variant:"outline"},{default:o(()=>c[9]||(c[9]=[S(" Удалить ")])),_:1},8,["loading"]),s(e(q),{loading:e(f),type:"submit"},{default:o(()=>c[10]||(c[10]=[S(" Сохранить ")])),_:1},8,["loading"])])])],32))}}),Ks=$({__name:"EditModal",props:{item:{}},setup(t){const a=V(!1);return(l,n)=>(d(),b($e,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value=r),title:"Редактирование тренировки",description:"Измените или удалите тренировку.",size:"lg","only-dialog":""},{trigger:o(()=>[s(Xt,{item:l.item},null,8,["item"])]),default:o(()=>[s(js,{item:l.item,onSaved:n[0]||(n[0]=r=>a.value=!1)},null,8,["item"])]),_:1},8,["modelValue"]))}}),Hs={class:"flex items-center space-x-4 rounded-lg border border-border p-3"},qs={class:"block text-sm text-muted-foreground"},ye=$({__name:"PreviewGridItem",props:{title:{},value:{},type:{}},setup(t){return(a,l)=>(d(),I("div",Hs,[R("div",{class:pe(e(Q)(`flex h-12 w-12 items-center justify-center rounded-lg bg-primary
          text-primary-foreground`,{"bg-destructive":a.type==="destructive","bg-emerald-500 dark:bg-emerald-400":a.type==="positive"}))},[E(a.$slots,"default")],2),R("div",null,[R("span",qs,F(a.title),1),R("span",{class:pe(e(Q)("text-lg font-semibold text-foreground",{"text-destructive":a.type==="destructive","text-emerald-500 dark:text-emerald-400":a.type==="positive"}))},F(a.value),3)])]))}}),Ys={class:"max-h-[70vh] space-y-2 overflow-y-auto md:max-h-[90vh]","data-vaul-no-drag":""},Qs={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Zs={key:0,class:"space-y-2"},Xs={class:"grid gap-4 overflow-y-auto sm:grid-cols-2 lg:grid-cols-3"},Js=$({__name:"PreviewData",props:{item:{}},setup(t){const a=new dt("ru-RU",{dateStyle:"long",timeStyle:"short"});return(l,n)=>(d(),I("div",Ys,[R("div",Qs,[s(ye,{value:e(a).format(e(me)(l.item.date).toDate(e(be)())),title:"Дата проведения"},{default:o(()=>[s(e(qt),{class:"size-6"})]),_:1},8,["value"]),s(ye,{value:e(wt)(l.item.estimatedTime),title:"Время выполнения"},{default:o(()=>[s(e(il),{class:"size-6"})]),_:1},8,["value"]),s(ye,{value:e(wt)(l.item.restTime),title:"Время отдыха"},{default:o(()=>[s(e(rl),{class:"size-6"})]),_:1},8,["value"]),s(ye,{value:`${l.item.price}₽`,title:"Оплата",type:"positive"},{default:o(()=>[s(e(pl),{class:"size-6"})]),_:1},8,["value"]),s(ye,{value:l.item.isPaid?"Да":"Нет",type:l.item.isPaid?"positive":"destructive",title:"Оплачена"},{default:o(()=>[l.item.isPaid?(d(),b(e(St),{key:0,class:"size-6"})):(d(),b(e(Pt),{key:1,class:"size-6"}))]),_:1},8,["value","type"]),s(ye,{value:l.item.isAttend?"Да":"Нет",type:l.item.isAttend?"positive":"destructive",title:"Начата"},{default:o(()=>[l.item.isAttend?(d(),b(e(St),{key:0,class:"size-6"})):(d(),b(e(Pt),{key:1,class:"size-6"}))]),_:1},8,["value","type"])]),l.item.exercises.length?(d(),I("div",Zs,[n[0]||(n[0]=R("p",{class:"font-medium"},"Список упражнений",-1)),R("div",Xs,[(d(!0),I(G,null,Y(l.item.exercises,(r,u)=>(d(),b(Fa,{exercise:r,"is-draggable":!1,key:u},null,8,["exercise"]))),128))])])):fe("",!0)]))}}),eo=$({__name:"PreviewModal",props:{item:{}},setup(t){const a=V(!1);return(l,n)=>(d(),b($e,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value=r),title:l.item.name,description:"Просмотр тренировки.",size:"lg"},{trigger:o(()=>[s(Xt,{item:l.item},null,8,["item"])]),default:o(()=>[s(Js,{item:l.item,onSaved:n[0]||(n[0]=r=>a.value=!1)},null,8,["item"])]),_:1},8,["modelValue","title"]))}}),to=$({__name:"PaymentModal",props:Tt({workoutId:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=t,l=Ce(),n=Ve(),{STATS:r}=ne(l),{SPORTSMANS:u}=ne(n),p=Vt(t,"modelValue"),O=V(!1),i=V([]),v=D(()=>{var m;return((m=r.value)==null?void 0:m.map(f=>{var P;const h=(P=u.value)==null?void 0:P.find(k=>k.id===f.sportsmanId);return{value:f.sportsmanId,label:h?it(h):""}}))||[]});async function _(){if(!a.workoutId||!await Ps({workoutId:a.workoutId,sportsmansIds:i.value}))return;const f=v.value.filter(P=>!i.value.includes(P.value)).map(P=>P.value);await $s({workoutId:a.workoutId,sportsmansIds:f})&&(p.value=!1)}return _e(r,m=>{i.value=(m==null?void 0:m.filter(f=>f.isPaid).map(f=>f.sportsmanId))||[]}),(m,f)=>(d(),b($e,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=h=>p.value=h),title:"Отметка оплаты",description:"Выберите спортсменов, которые оплатили тренировку."},{default:o(()=>[s(e(Kt),{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),class:"flex flex-col gap-4"},{default:o(()=>[(d(!0),I(G,null,Y(v.value,h=>(d(),I("div",{key:h.value,class:"flex items-center gap-4"},[s(e(Ht),{value:h.value,id:h.value,type:"checkbox"},null,8,["value","id"]),s(e(Dt),{for:h.value,class:"text-md"},{default:o(()=>[S(F(h.label),1)]),_:2},1032,["for"])]))),128))]),_:1},8,["modelValue"]),s(e(q),{loading:O.value,onClick:_,class:"w-full"},{default:o(()=>f[2]||(f[2]=[S(" Сохранить ")])),_:1},8,["loading"])]),_:1},8,["modelValue"]))}}),ao=$({__name:"AttendanceModal",props:Tt({workoutId:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=t,l=Ce(),n=Ve(),{STATS:r}=ne(l),{SPORTSMANS:u}=ne(n),p=Vt(t,"modelValue"),O=V(!1),i=V([]),v=D(()=>{var m;return((m=r.value)==null?void 0:m.map(f=>{var P;const h=(P=u.value)==null?void 0:P.find(k=>k.id===f.sportsmanId);return{value:f.sportsmanId,label:h?it(h):""}}))||[]});async function _(){if(!a.workoutId||!await Os({workoutId:a.workoutId,sportsmansIds:i.value}))return;const f=v.value.filter(P=>!i.value.includes(P.value)).map(P=>P.value);await Ss({workoutId:a.workoutId,sportsmansIds:f})&&(p.value=!1)}return _e(r,m=>{i.value=(m==null?void 0:m.filter(f=>f.isAttend).map(f=>f.sportsmanId))||[]}),(m,f)=>(d(),b($e,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=h=>p.value=h),title:"Отметка посещений",description:"Выберите спортсменов, которые посетили тренировку."},{default:o(()=>[s(e(Kt),{modelValue:i.value,"onUpdate:modelValue":f[0]||(f[0]=h=>i.value=h),class:"flex flex-col gap-4"},{default:o(()=>[(d(!0),I(G,null,Y(v.value,h=>(d(),I("div",{key:h.value,class:"flex items-center gap-4"},[s(e(Ht),{value:h.value,id:h.value,type:"checkbox"},null,8,["value","id"]),s(e(Dt),{for:h.value,class:"text-md"},{default:o(()=>[S(F(h.label),1)]),_:2},1032,["for"])]))),128))]),_:1},8,["modelValue"]),s(e(q),{loading:O.value,onClick:_,class:"w-full"},{default:o(()=>f[2]||(f[2]=[S(" Сохранить ")])),_:1},8,["loading"])]),_:1},8,["modelValue"]))}}),lo={key:0,class:"flex flex-1 flex-col items-center justify-center gap-4"},so={key:1,class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6"},Ao=$({__name:"Schedule",setup(t){const a=xa(),l=Ce(),n=At(),r=zt(),u=Ve(),{IS_TRAINER:p}=ne(a),{deleteWorkout:O,getStats:i}=l,{WORKOUTS:v}=ne(l),_=V(null),m=V(!1),f=V(!1);async function h(k){await i(k),_.value=k,m.value=!0}async function P(k){await i(k),_.value=k,f.value=!0}return rt(async()=>{await l.getWorkouts(),p.value&&(await n.getWorkoutPools(),await r.getGroups(),await u.getTeam())}),(k,y)=>{var c;return d(),b(da,null,Ca({default:o(()=>{var w;return[((w=e(v))==null?void 0:w.length)===0?(d(),I("div",lo,[y[2]||(y[2]=R("p",null,"Список тренировок пуст",-1)),e(p)?(d(),b(Ct,{key:0})):fe("",!0)])):(d(),I("div",so,[e(v)?(d(),I(G,{key:0},[e(p)?(d(!0),I(G,{key:0},Y(e(v),g=>(d(),b(e(La),{key:g.id},{default:o(()=>[s(e(Ga),{"as-child":""},{default:o(()=>[s(Ks,{item:g},null,8,["item"])]),_:2},1024),s(e(ja),null,{default:o(()=>[s(e(Je),{onClick:x=>h(g.id),class:"gap-2"},{default:o(()=>[s(e(ml),{class:"size-4"}),y[3]||(y[3]=S(" Отметить оплату "))]),_:2},1032,["onClick"]),s(e(Je),{onClick:x=>P(g.id),class:"gap-2"},{default:o(()=>[s(e(cl),{class:"size-4"}),y[4]||(y[4]=S(" Отметить посещения "))]),_:2},1032,["onClick"]),s(e(Ka)),s(e(Je),{onClick:x=>e(O)(g.id),class:"gap-2 !text-destructive"},{default:o(()=>[s(e(vl),{class:"size-4"}),y[5]||(y[5]=R("span",null,"Удалить тренировку",-1))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128)):(d(!0),I(G,{key:1},Y(e(v),g=>(d(),b(eo,{item:g,key:g.id},null,8,["item"]))),128))],64)):(d(),I(G,{key:1},Y(5,g=>R("div",{key:g,class:"flex flex-col gap-3"},[s(e(Ot),{class:"aspect-[10/7] rounded-lg"}),s(e(Ot),{class:"h-6 w-3/4 rounded-lg"})])),64))])),s(to,{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=g=>m.value=g),"workout-id":_.value},null,8,["modelValue","workout-id"]),s(ao,{modelValue:f.value,"onUpdate:modelValue":y[1]||(y[1]=g=>f.value=g),"workout-id":_.value},null,8,["modelValue","workout-id"])]}),_:2},[((c=e(v))==null?void 0:c.length)!==0?{name:"actions",fn:o(()=>[e(p)?(d(),b(Ct,{key:0})):fe("",!0)]),key:"0"}:void 0]),1024)}}});export{Ao as default};
