import{_ as V}from"./index-Crs7OOR2.js";import{_ as C,a as F,b as N,c as T,d as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-FzOuBrzU.js";import{u as L,t as R,F as r,_ as d,a as f,b as _,d as U,c as p}from"./Input.vue_vue_type_script_setup_true_lang-DD38yQ-O.js";import{d as z,$ as A,aw as D,b as I,f as s,i as a,e as o,x as e,k as l,h as c,q as M,s as P,C as $,F as x,j as b,au as j,ax as q}from"./index-BPf4Rk1d.js";import{_ as G,a as O,b as Q,c as H,d as J,e as S}from"./SelectValue.vue_vue_type_script_setup_true_lang-Du_53U6l.js";import"./useId-BWTRPJho.js";import"./useForwardPropsEmits-COt-lDJ5.js";import"./Teleport-CRI3oJ-H.js";import"./getActiveElement-CA7ud6Nr.js";import"./useNonce-aCLCdmef.js";import"./Collection-CK7GpEza.js";import"./useFormControl-D8JzIEid.js";import"./ohash.D__AXeF1-B1eZjjnB.js";import"./clamp-jFYhBC76.js";import"./useTypeahead-DycDFoxL.js";import"./useFocusGuards-D_ueCkRu.js";import"./nullish-CHIgUVhi.js";const K={class:"mt-4 text-center text-sm"},_a=z({__name:"SendEmail",setup(W){const{sendEmail:y}=A(),{remaining:m,start:v}=D(0),{handleSubmit:k,isSubmitting:w}=L({validationSchema:R(q.REQUEST),initialValues:{userType:"sportsman"}}),i=k(async u=>{const t=await y(u);t&&v(t.expire)});return(u,t)=>{const E=j("RouterLink");return o(),I(a(C),{class:"w-full max-w-md"},{default:s(()=>[e(a(T),null,{default:s(()=>[e(a(F),{class:"text-2xl"},{default:s(()=>t[1]||(t[1]=[l("Введите почту")])),_:1}),e(a(N),null,{default:s(()=>t[2]||(t[2]=[l("Для регистрации пользователя.")])),_:1})]),_:1}),e(a(B),null,{default:s(()=>[c("form",{onSubmit:t[0]||(t[0]=(...n)=>a(i)&&a(i)(...n)),class:"space-y-2"},[e(a(r),{name:"email"},{default:s(({value:n,handleChange:g})=>[e(a(d),null,{default:s(()=>[e(a(f),null,{default:s(()=>t[3]||(t[3]=[l("Почта")])),_:1}),e(a(_),null,{default:s(()=>[e(a(U),{"model-value":n,"onUpdate:modelValue":g,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),e(a(p))]),_:2},1024)]),_:1}),e(a(r),{name:"userType"},{default:s(({componentField:n})=>[e(a(d),null,{default:s(()=>[e(a(f),null,{default:s(()=>t[4]||(t[4]=[l("Тип пользователя")])),_:1}),e(a(G),M(P(n)),{default:s(()=>[e(a(_),null,{default:s(()=>[e(a(O),null,{default:s(()=>[e(a(Q))]),_:1})]),_:1}),e(a(H),null,{default:s(()=>[e(a(J),null,{default:s(()=>[e(a(S),{value:"trainer"},{default:s(()=>t[5]||(t[5]=[l(" Тренер ")])),_:1}),e(a(S),{value:"sportsman"},{default:s(()=>t[6]||(t[6]=[l(" Спортсмен ")])),_:1})]),_:1})]),_:1})]),_:2},1040),e(a(p))]),_:2},1024)]),_:1}),e(a(V),{disabled:a(w)||a(m)>0,type:"submit",class:"w-full"},{default:s(()=>[a(m)?(o(),$(x,{key:1},[l(" Пожалуйста, подождите "+b(Math.floor(a(m)/60))+":"+b(`${a(m)%60}`.padStart(2,"0")),1)],64)):(o(),$(x,{key:0},[l(" Продолжить ")],64))]),_:1},8,["disabled"])],32),c("div",K,[t[8]||(t[8]=l(" Уже есть аккаунт? ")),e(E,{to:{name:"LOGIN"},class:"text-primary hover:underline"},{default:s(()=>t[7]||(t[7]=[l(" Войти ")])),_:1})])]),_:1})]),_:1})}}});export{_a as default};
