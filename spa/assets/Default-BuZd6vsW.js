import{P as pe,c as g,a as fe,_ as me}from"./index-C79LVW5H.js";import{c as E,d as p,a as O,b as m,e as i,f as s,g as h,m as y,i as e,n as P,k as K,v as t,B as x,a0 as ye,h as f,l as $,j as w,V as A,F as _e,x as he,R as xe,r as Q,u as $e,ai as ke,C as R,au as W,_ as J,aI as we,D as Se,aJ as T,M as X,N as Y,O as Z,Q as Ce,z as ee,aG as Oe,o as Ae,at as Ee}from"./index-CE0I8MDv.js";import{c as Ie}from"./useId-BmxNeisE.js";import{_ as ze,a as Be,b as Me,c as Pe,d as se,f as oe}from"./TooltipTrigger.vue_vue_type_script_setup_true_lang-CAYsZfdJ.js";import{a as ge}from"./useForwardPropsEmits-B6cb6lNy.js";import{a as Re,b as Te,c as Ne,d as Le,e as Ve,X as De,f as Fe,g as He,_ as Ue,h as je}from"./Modal.vue_vue_type_script_setup_true_lang-mp4cxkGL.js";import{u as qe,F as V,_ as D,a as F,b as H,d as U,c as j,t as Ge}from"./Input.vue_vue_type_script_setup_true_lang-yaBjym3W.js";import{_ as ne,a as re}from"./index-DXB5pMod.js";import{b as Ke,c as Qe,i as le,d as We,e as Je,f as ie,g as Xe,h as q}from"./AvatarImage.vue_vue_type_script_setup_true_lang-BjpB_MFG.js";import{_ as G}from"./Skeleton.vue_vue_type_script_setup_true_lang-B5VmrRk6.js";import{_ as Ye}from"./Switch.vue_vue_type_script_setup_true_lang-Bk5W4g8s.js";import{C as Ze}from"./chevrons-up-down-MXuIkxgA.js";import{M as et}from"./moon--Z-5pi_c.js";import"./PopperContent-DC9VfvS7.js";import"./getActiveElement-HgPkIhkM.js";import"./useBodyScrollLock-KX8ROgDr.js";import"./Collection-B8cYmRbZ.js";import"./useFormControl-_5TFzPii.js";import"./useFocusGuards-Bdl7-yx_.js";import"./RovingFocusGroup-Bn-nVVUK.js";import"./utils-BRBtkF1Y.js";import"./VisuallyHiddenInput-Ba4MBQfa.js";/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=E("CameraIcon",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=E("LifeBuoyIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=E("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=E("PanelLeftIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=E("TabletSmartphoneIcon",[["rect",{width:"10",height:"14",x:"3",y:"8",rx:"2",key:"1vrsiq"}],["path",{d:"M5 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-2.4",key:"1j4zmg"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=E("TrophyIcon",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-vue-next v0.477.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=E("UserCogIcon",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]),it=p({__name:"BaseSeparator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const a=n,o=["horizontal","vertical"];function r(_){return o.includes(_)}const d=O(()=>r(a.orientation)?a.orientation:"horizontal"),c=O(()=>d.value==="vertical"?a.orientation:void 0),l=O(()=>a.decorative?{role:"none"}:{"aria-orientation":c.value,role:"separator"});return(_,b)=>(i(),m(e(pe),y({as:_.as,"as-child":_.asChild,"data-orientation":d.value},l.value),{default:s(()=>[h(_.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),dt=p({__name:"Separator",props:{orientation:{default:"horizontal"},decorative:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const a=n;return(o,r)=>(i(),m(it,P(K(a)),{default:s(()=>[h(o.$slots,"default")]),_:3},16))}}),ct=p({__name:"Sheet",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:a}){const d=ge(n,a);return(c,l)=>(i(),m(e(Re),P(K(e(d))),{default:s(()=>[h(c.$slots,"default")]),_:3},16))}}),ut=p({inheritAttrs:!1,__name:"SheetContent",props:{class:{},side:{},forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const o=n,r=a,d=O(()=>{const{class:l,side:_,...b}=o;return b}),c=ge(d,r);return(l,_)=>(i(),m(e(Te),null,{default:s(()=>[t(e(Ne),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),t(e(Le),y({class:e(g)(e(mt)({side:l.side}),o.class)},{...e(c),...l.$attrs}),{default:s(()=>[h(l.$slots,"default"),t(e(Ve),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary"},{default:s(()=>[t(e(De),{class:"h-4 w-4 text-muted-foreground"})]),_:1})]),_:3},16,["class"])]),_:3}))}}),pt=p({__name:"SheetDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,o=O(()=>{const{class:r,...d}=a;return d});return(r,d)=>(i(),m(e(Fe),y({class:e(g)("text-sm text-muted-foreground",a.class)},o.value),{default:s(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),ft=p({__name:"SheetTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const a=n,o=O(()=>{const{class:r,...d}=a;return d});return(r,d)=>(i(),m(e(He),y({class:e(g)("text-lg font-semibold text-foreground",a.class)},o.value),{default:s(()=>[h(r.$slots,"default")]),_:3},16,["class"]))}}),mt=fe("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_t="sidebar:state",ht=60*60*24*7,gt="20rem",bt="18rem",vt="3rem",yt="b",[M,xt]=Ie("Sidebar"),$t={class:"flex h-full w-full flex-col"},kt=["data-state","data-collapsible","data-variant","data-side"],wt={"data-sidebar":"sidebar",class:"flex h-full w-full flex-col bg-sidebar text-sidebar-foreground group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"},St=p({inheritAttrs:!1,__name:"Sidebar",props:{side:{default:"left"},variant:{default:"sidebar"},collapsible:{default:"offcanvas"},class:{},title:{},description:{}},setup(n){const a=n,{isMobile:o,state:r,openMobile:d,setOpenMobile:c}=M();return(l,_)=>l.collapsible==="none"?(i(),x("div",y({key:0,class:e(g)("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a.class)},l.$attrs),[h(l.$slots,"default")],16)):e(o)?(i(),m(e(ct),y({key:1,open:e(d)},l.$attrs,{"onUpdate:open":e(c)}),{default:s(()=>[t(e(ut),{style:ye({"--sidebar-width":e(bt)}),side:l.side,"data-sidebar":"sidebar","data-mobile":"true",class:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"},{default:s(()=>[t(e(ft),{class:"hidden"},{default:s(()=>[$(w(a.title),1)]),_:1}),t(e(pt),{class:"hidden"},{default:s(()=>[$(w(a.description),1)]),_:1}),f("div",$t,[h(l.$slots,"default")])]),_:3},8,["style","side"])]),_:3},16,["open","onUpdate:open"])):(i(),x("div",{key:2,"data-state":e(r),"data-collapsible":e(r)==="collapsed"?l.collapsible:"","data-variant":l.variant,"data-side":l.side,class:"group peer hidden md:block"},[f("div",{class:A(e(g)(`relative h-svh w-[--sidebar-width] bg-transparent transition-[width]
          duration-200 ease-linear`,"group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",l.variant==="floating"||l.variant==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]"))},null,2),f("div",y({class:e(g)(`fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width]
          transition-[left,right,width] duration-200 ease-linear md:flex`,l.side==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",l.variant==="floating"||l.variant==="inset"?`p-2
              group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon]
              group-data-[side=left]:border-r group-data-[side=right]:border-l`,a.class)},l.$attrs),[f("div",wt,[h(l.$slots,"default")])],16)],8,kt))}}),Ct=p({__name:"SidebarContent",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("div",{class:A(e(g)(`flex min-h-0 flex-1 flex-col gap-2 overflow-auto
        group-data-[collapsible=icon]:overflow-hidden`,a.class)),"data-sidebar":"content"},[h(o.$slots,"default")],2))}}),Ot=p({__name:"SidebarFooter",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("div",{class:A(e(g)("flex flex-col gap-2 p-2",a.class)),"data-sidebar":"footer"},[h(o.$slots,"default")],2))}}),de=p({__name:"SidebarGroup",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("div",{class:A(e(g)("relative flex w-full min-w-0 flex-col p-2",a.class)),"data-sidebar":"group"},[h(o.$slots,"default")],2))}}),At=p({__name:"SidebarHeader",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("div",{class:A(e(g)("flex flex-col gap-2 p-2",a.class)),"data-sidebar":"header"},[h(o.$slots,"default")],2))}}),Et=p({__name:"SidebarInset",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("main",{class:A(e(g)("relative flex min-h-svh flex-1 flex-col bg-background",`peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))]
        md:peer-data-[variant=inset]:m-2
        md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-1
        md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl
        md:peer-data-[variant=inset]:shadow`,a.class))},[h(o.$slots,"default")],2))}}),N=p({__name:"SidebarMenu",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("ul",{class:A(e(g)("flex w-full min-w-0 flex-col gap-1",a.class)),"data-sidebar":"menu"},[h(o.$slots,"default")],2))}}),ce=p({__name:"SidebarMenuButtonChild",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;return(o,r)=>(i(),m(e(pe),y({"data-size":o.size,"data-active":o.isActive,class:e(g)(e(Bt)({variant:o.variant,size:o.size}),a.class),as:o.as,"as-child":o.asChild,"data-sidebar":"menu-button"},o.$attrs),{default:s(()=>[h(o.$slots,"default")]),_:3},16,["data-size","data-active","class","as","as-child"]))}}),z=p({inheritAttrs:!1,__name:"SidebarMenuButton",props:{variant:{default:"default"},size:{default:"default"},isActive:{type:Boolean},class:{},asChild:{type:Boolean},as:{default:"button"},tooltip:{}},setup(n){const a=n,{isMobile:o,state:r}=M(),d=O(()=>{const{tooltip:c,...l}=a;return l});return(c,l)=>c.tooltip?(i(),m(e(ze),{key:1},{default:s(()=>[t(e(Be),{"as-child":""},{default:s(()=>[t(ce,P(K({...d.value,...c.$attrs})),{default:s(()=>[h(c.$slots,"default")]),_:3},16)]),_:3}),t(e(Me),{hidden:e(r)!=="collapsed"||e(o),side:"right",align:"center"},{default:s(()=>[typeof c.tooltip=="string"?(i(),x(_e,{key:0},[$(w(c.tooltip),1)],64)):(i(),m(he(c.tooltip),{key:1}))]),_:1},8,["hidden"])]),_:3})):(i(),m(ce,P(y({key:0},{...d.value,...c.$attrs})),{default:s(()=>[h(c.$slots,"default")]),_:3},16))}}),B=p({__name:"SidebarMenuItem",props:{class:{}},setup(n){const a=n;return(o,r)=>(i(),x("li",{class:A(e(g)("group/menu-item relative",a.class)),"data-sidebar":"menu-item"},[h(o.$slots,"default")],2))}}),It=p({__name:"SidebarProvider",props:{defaultOpen:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},class:{}},emits:["update:open"],setup(n,{emit:a}){const o=n,r=a,d=xe("(max-width: 768px)"),c=Q(!1),l=$e(o,"open",r,{defaultValue:o.defaultOpen??!1,passive:o.open===void 0});function _(u){l.value=u,document.cookie=`${_t}=${l.value}; path=/; max-age=${ht}`}function b(u){c.value=u}function S(){return d.value?b(!c.value):_(!l.value)}ke("keydown",u=>{u.key===yt&&(u.metaKey||u.ctrlKey)&&(u.preventDefault(),S())});const k=O(()=>l.value?"expanded":"collapsed");return xt({state:k,open:l,setOpen:_,isMobile:d,openMobile:c,setOpenMobile:b,toggleSidebar:S}),(u,C)=>(i(),m(e(Pe),{"delay-duration":0},{default:s(()=>[f("div",y({style:{"--sidebar-width":e(gt),"--sidebar-width-icon":e(vt)},class:e(g)(`group/sidebar-wrapper flex min-h-svh w-full
          has-[[data-variant=inset]]:bg-sidebar`,o.class)},u.$attrs),[h(u.$slots,"default")],16)]),_:3}))}}),ue=p({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(n){const a=n,o=O(()=>{const{class:r,...d}=a;return d});return(r,d)=>(i(),m(e(dt),y(o.value,{class:e(g)("relative shrink-0 bg-border",a.orientation==="vertical"?"h-full w-px":"h-px w-full",a.class)}),{default:s(()=>[a.label?(i(),x("span",{key:0,class:A(e(g)(`absolute left-1/2 top-1/2 flex -translate-x-1/2 -translate-y-1/2 items-center
          justify-center bg-background text-xs text-muted-foreground`,a.orientation==="vertical"?"w-[1px] px-1 py-2":"h-[1px] px-2 py-1"))},w(a.label),3)):R("",!0)]),_:1},16,["class"]))}}),zt=p({__name:"SidebarTrigger",props:{class:{}},setup(n){const a=n,{toggleSidebar:o}=M();return(r,d)=>(i(),m(e(me),{class:A(e(g)("size-10",a.class)),onClick:e(o),"data-sidebar":"trigger",variant:"ghost",size:"icon"},{default:s(()=>[t(e(ot)),d[0]||(d[0]=f("span",{class:"sr-only"},"Toggle Sidebar",-1))]),_:1},8,["class","onClick"]))}}),Bt=fe("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",md:"h-10 text-sm",lg:"h-14 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Mt={class:"flex aspect-square size-8 items-center justify-center rounded-lg bg-primary text-sidebar-primary-foreground"},Pt=p({__name:"NavigationHeader",setup(n){return(a,o)=>{const r=W("RouterLink");return i(),m(e(N),null,{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(z),{size:"lg","as-child":""},{default:s(()=>[t(r,{to:{name:"LANDING"}},{default:s(()=>[f("div",Mt,[t(e(rt),{class:"size-4"})]),o[0]||(o[0]=f("div",{class:"grid flex-1 text-left text-sm leading-tight"},[f("span",{class:"truncate font-semibold"},"TBuilder"),f("span",{class:"truncate text-xs"},"Приложение для тренировок")],-1))]),_:1})]),_:1})]),_:1})]),_:1})}}}),Rt={href:"#"},Tt={href:"#"},Nt=p({__name:"NavigationContent",setup(n){const{userType:a}=J(),{setOpenMobile:o}=M(),r=O(()=>we.filter(d=>{var c;return(c=d.meta)!=null&&c.userTypes?d.meta.userTypes.includes(a):!0}));return(d,c)=>{const l=W("RouterLink");return i(),m(e(Ct),null,{default:s(()=>[t(e(de),null,{default:s(()=>[t(e(N),null,{default:s(()=>[(i(!0),x(_e,null,Se(r.value,_=>(i(),m(e(B),{key:_.name},{default:s(()=>[t(l,{to:{name:_.name}},{default:s(({isActive:b})=>{var S;return[t(e(z),{tooltip:(S=_.meta)==null?void 0:S.title,"is-active":b,onClick:c[0]||(c[0]=k=>e(o)(!1)),size:"md"},{default:s(()=>{var k,u;return[(i(),m(he((k=_.meta)==null?void 0:k.icon))),$(" "+w((u=_.meta)==null?void 0:u.title),1)]}),_:2},1032,["tooltip","is-active"])]}),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})]),_:1}),t(e(de),{class:"mt-auto"},{default:s(()=>[t(e(N),null,{default:s(()=>[t(e(B),null,{default:s(()=>[t(e(z),{tooltip:"Поддержка",size:"md","as-child":""},{default:s(()=>[f("a",Rt,[t(e(at),{class:"size-4"}),c[1]||(c[1]=f("span",{class:"ml-2"},"Поддержка",-1))])]),_:1})]),_:1}),t(e(B),null,{default:s(()=>[t(e(z),{tooltip:"Мобильное приложение",size:"md","as-child":""},{default:s(()=>[f("a",Tt,[t(e(nt),{class:"size-4"}),c[2]||(c[2]=f("span",{class:"ml-2"},"Мобильное приложение",-1))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),Lt={RESPONSE:T},be={REQUEST:T.omit({id:!0,email:!0,avatarUri:!0}),RESPONSE:T},Vt={RESPONSE:T};async function Dt(){const n=await X.get("/profile");return n.status!==Y.Ok?null:Z(Lt.RESPONSE,n.data)}async function Ft(n){const a=await X.patch("/profile",n);return a.status!==Y.Ok?null:Z(be.RESPONSE,a.data)}async function Ht(n){const a=await X.post("/profile/avatar",n,{headers:{"Content-Type":"multipart/form-data"}});return a.status!==Y.Ok?null:Z(Vt.RESPONSE,a.data)}const ve=Ce("user",{state:()=>({profile:null}),actions:{async getProfile(){this.profile=await Dt()},async patchProfile(n){const a=await Ft(n);return a?(this.profile=a,!0):!1},async changeAvatar(n){const a=await Ht(n);return a?(this.profile=a,!0):!1}},getters:{PROFILE:n=>n.profile,AVATAR:n=>{var a;return(a=n.profile)==null?void 0:a.avatarUri},EMAIL:n=>{var a;return((a=n.profile)==null?void 0:a.email)||""}}}),Ut=p({__name:"Form",emits:["saved"],setup(n,{emit:a}){const o=a,r=ve(),{patchProfile:d}=r,{PROFILE:c}=ee(r),l=Ge(be.REQUEST),{handleSubmit:_,isSubmitting:b}=qe({validationSchema:l,keepValuesOnUnmount:!0,initialValues:{...c.value}}),S=_(async k=>{await d(k)&&o("saved")});return(k,u)=>(i(),x("form",{onSubmit:u[0]||(u[0]=(...C)=>e(S)&&e(S)(...C)),class:"grid gap-3"},[t(e(V),{name:"lastName"},{default:s(({componentField:C})=>[t(e(D),null,{default:s(()=>[t(e(F),null,{default:s(()=>u[1]||(u[1]=[$("Фамилия")])),_:1}),t(e(H),null,{default:s(()=>[t(e(U),y({type:"text"},C,{placeholder:"Смирнов"}),null,16)]),_:2},1024),t(e(j))]),_:2},1024)]),_:1}),t(e(V),{name:"firstName"},{default:s(({componentField:C})=>[t(e(D),null,{default:s(()=>[t(e(F),null,{default:s(()=>u[2]||(u[2]=[$("Имя")])),_:1}),t(e(H),null,{default:s(()=>[t(e(U),y({type:"text"},C,{placeholder:"Иван"}),null,16)]),_:2},1024),t(e(j))]),_:2},1024)]),_:1}),t(e(V),{name:"middleName"},{default:s(({componentField:C})=>[t(e(D),null,{default:s(()=>[t(e(F),null,{default:s(()=>u[3]||(u[3]=[$("Отчество")])),_:1}),t(e(H),null,{default:s(()=>[t(e(U),y({type:"text"},C,{placeholder:"Петрович"}),null,16)]),_:2},1024),t(e(j))]),_:2},1024)]),_:1}),t(e(me),{loading:e(b),type:"submit"},{default:s(()=>u[4]||(u[4]=[$(" Сохранить ")])),_:1},8,["loading"])],32))}}),jt=p({__name:"Profile",setup(n){const a=Q(!1);return(o,r)=>(i(),m(Ue,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=d=>a.value=d),title:"Изменить профиль",description:"Измените информацию о себе."},{trigger:s(()=>[h(o.$slots,"default")]),default:s(()=>[t(Ut,{onSaved:r[0]||(r[0]=d=>a.value=!1)})]),_:3},8,["modelValue"]))}}),qt={class:"grid flex-1 text-left text-sm leading-tight"},Gt={class:"truncate font-semibold"},Kt={class:"truncate text-xs"},Qt={class:"flex flex-col items-center gap-2 px-1 py-1.5 text-left text-sm"},Wt={class:"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 transition-opacity group-hover:opacity-100"},Jt={class:"flex flex-col items-center gap-1 text-sm leading-tight"},Xt={class:"truncate font-semibold"},Yt={class:"truncate text-xs"},Zt={key:1,class:"flex items-center space-x-2 p-2"},ea={class:"w-full space-y-2"},ta=p({__name:"UserDropdown",setup(n){const a=Ee(),o=ve(),{state:r,store:d}=Oe(),{isMobile:c}=M(),{PROFILE:l,EMAIL:_,AVATAR:b}=ee(o),{logout:S}=J(),k=Q();async function u(L){const v=L.target;if(!v.files||v.files.length===0)return;const I=new FormData;I.append("avatar",v.files[0]),await o.changeAvatar(I)}async function C(){await S()&&a.push({name:"LOGIN"})}return Ae(async()=>{await o.getProfile()}),(L,v)=>e(l)?(i(),m(jt,{key:0},{default:s(()=>[t(e(Ke),null,{default:s(()=>[t(e(Qe),{"as-child":""},{default:s(()=>[t(e(z),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:s(()=>[t(e(ne),{class:"h-10 w-10 shrink-0 rounded-lg"},{default:s(()=>[e(b)?(i(),m(e(le),{key:0,src:e(b),alt:"Avatar"},null,8,["src"])):R("",!0),t(e(re),{class:"rounded-lg"},{default:s(()=>[$(w(e(se)(e(l))),1)]),_:1})]),_:1}),f("div",qt,[f("span",Gt,w(e(oe)(e(l))),1),f("span",Kt,w(e(_)),1)]),t(e(Ze),{class:"ml-auto size-4"})]),_:1})]),_:1}),t(e(We),{side:e(c)?"bottom":"right","side-offset":4,class:"w-[--reka-dropdown-menu-trigger-width] min-w-56 rounded-lg",align:"end"},{default:s(()=>[t(e(Je),{class:"p-0 font-normal"},{default:s(()=>[f("div",Qt,[f("div",{onClick:v[0]||(v[0]=(...I)=>{var te,ae;return((te=k.value)==null?void 0:te.click)&&((ae=k.value)==null?void 0:ae.click(...I))}),class:"group relative size-20 cursor-pointer"},[t(e(ne),{class:"size-full"},{default:s(()=>[e(b)?(i(),m(e(le),{key:0,src:e(b),alt:"Profile"},null,8,["src"])):R("",!0),t(e(re),{class:"text-2xl"},{default:s(()=>[$(w(e(se)(e(l))),1)]),_:1})]),_:1}),f("div",Wt,[t(e(tt),{class:"size-8 text-white"})]),f("input",{onChange:u,type:"file",ref_key:"avatarInputRef",ref:k,class:"hidden",accept:"image/*"},null,544)]),f("div",Jt,[f("span",Xt,w(e(oe)(e(l))),1),f("span",Yt,w(e(_)),1)])])]),_:1}),t(e(ie)),t(e(Xe),null,{default:s(()=>[t(e(je),{"as-child":""},{default:s(()=>[t(e(q),null,{default:s(()=>[t(e(lt)),v[2]||(v[2]=$(" Профиль "))]),_:1})]),_:1}),t(e(q),{onSelect:v[1]||(v[1]=I=>{I.preventDefault(),d.value=e(r)==="dark"?"light":"dark"})},{default:s(()=>[t(e(et)),v[3]||(v[3]=$(" Тёмная тема ")),t(e(Ye),{"model-value":e(r)==="dark",class:"ml-auto"},null,8,["model-value"])]),_:1})]),_:1}),t(e(ie)),t(e(q),{onClick:C,class:"!text-destructive"},{default:s(()=>[t(e(st)),v[4]||(v[4]=$(" Выйти "))]),_:1})]),_:1},8,["side"])]),_:1})]),_:1})):(i(),x("div",Zt,[t(e(G),{class:"h-10 w-10 shrink-0 rounded-lg"}),f("div",ea,[t(e(G),{class:"h-3.5 w-1/2"}),t(e(G),{class:"h-3 w-3/4"})])]))}}),aa=p({__name:"NavigationFooter",setup(n){return(a,o)=>(i(),m(e(N),null,{default:s(()=>[t(e(B),null,{default:s(()=>[t(ta)]),_:1})]),_:1}))}}),sa=p({__name:"Navigation",setup(n){return(a,o)=>(i(),m(e(St),{collapsible:"icon",variant:"inset",title:"TBuilder",description:"Приложение для тренировок"},{default:s(()=>[t(e(At),null,{default:s(()=>[t(Pt)]),_:1}),t(e(ue)),t(Nt),t(e(ue)),t(e(Ot),null,{default:s(()=>[t(aa)]),_:1})]),_:1}))}}),oa={class:"flex h-16 shrink-0 items-center justify-between gap-2 border-b px-4"},na={class:"flex flex-1 flex-col gap-6 p-4 pt-6 md:p-8"},ra=p({__name:"NavigationInset",setup(n){return(a,o)=>{const r=W("RouterView");return i(),m(e(Et),null,{default:s(()=>[f("header",oa,[t(e(zt),{class:"-ml-1"})]),f("div",na,[t(r)])]),_:1})}}}),Ea=p({__name:"Default",setup(n){const a=J(),{isAuthorized:o}=ee(a);return(r,d)=>e(o)?(i(),m(e(It),{key:0},{default:s(()=>[t(sa),t(ra)]),_:1})):R("",!0)}});export{Ea as default};
