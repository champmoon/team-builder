import{_ as y}from"./index-Crs7OOR2.js";import{_ as N,a as R,b as V,c as g,d as k}from"./CardTitle.vue_vue_type_script_setup_true_lang-FzOuBrzU.js";import{u as v,t as E,F as u,_ as r,a as f,b as d,d as T,c as _}from"./Input.vue_vue_type_script_setup_true_lang-DD38yQ-O.js";import{d as F,$ as G,at as I,o as L,b as U,f as t,i as a,e as B,x as s,k as o,h as p,m as C,aC as O}from"./index-BPf4Rk1d.js";import{_ as h}from"./PasswordInput.vue_vue_type_script_setup_true_lang-C9BTRAaz.js";import"./useId-BWTRPJho.js";import"./useForwardPropsEmits-COt-lDJ5.js";const P={class:"relative"},J=F({__name:"Register",setup(q){const m=I(),{confirmEmail:c,register:$}=G(),{handleSubmit:w,isSubmitting:b,setFieldValue:x}=v({validationSchema:E(O.REQUEST)}),i=w(async l=>{const e=await $(l);e&&m.push({name:"LOGIN",query:{email:e.email}})});return L(async()=>{const l=new URLSearchParams(window.location.search).get("confirm_token");if(!l){m.push({name:"LOGIN"});return}const e=await c({confirmToken:l});if(!e){m.push({name:"LOGIN"});return}x("email",e.email)}),(l,e)=>(B(),U(a(N),{class:"w-full max-w-md"},{default:t(()=>[s(a(g),null,{default:t(()=>[s(a(R),{class:"text-2xl"},{default:t(()=>e[1]||(e[1]=[o("Регистрация")])),_:1}),s(a(V),null,{default:t(()=>e[2]||(e[2]=[o("Создайте новый аккаунт.")])),_:1})]),_:1}),s(a(k),null,{default:t(()=>[p("form",{onSubmit:e[0]||(e[0]=(...n)=>a(i)&&a(i)(...n)),class:"space-y-2"},[s(a(u),{name:"email"},{default:t(({value:n,handleChange:S})=>[s(a(r),null,{default:t(()=>[s(a(f),null,{default:t(()=>e[3]||(e[3]=[o("Почта")])),_:1}),s(a(d),null,{default:t(()=>[s(a(T),{"model-value":n,"onUpdate:modelValue":S,type:"email",inputmode:"email",autocapitalize:"off",autocomplete:"email",placeholder:"example@example.com"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),s(a(_))]),_:2},1024)]),_:1}),s(a(u),{name:"password"},{default:t(({componentField:n})=>[s(a(r),null,{default:t(()=>[s(a(f),null,{default:t(()=>e[4]||(e[4]=[o(" Пароль ")])),_:1}),p("div",P,[s(a(d),null,{default:t(()=>[s(h,C(n,{autocomplete:"new-password"}),null,16)]),_:2},1024)]),s(a(_))]),_:2},1024)]),_:1}),s(a(y),{disabled:a(b),type:"submit",class:"w-full"},{default:t(()=>e[5]||(e[5]=[o(" Зарегистрироваться ")])),_:1},8,["disabled"])],32)]),_:1})]),_:1}))}});export{J as default};
